% Options for packages loaded elsewhere
\PassOptionsToPackage{unicode}{hyperref}
\PassOptionsToPackage{hyphens}{url}
\PassOptionsToPackage{dvipsnames,svgnames*,x11names*}{xcolor}
%
\documentclass[
]{book}
\usepackage{lmodern}
\usepackage{amssymb,amsmath}
\usepackage{ifxetex,ifluatex}
\ifnum 0\ifxetex 1\fi\ifluatex 1\fi=0 % if pdftex
  \usepackage[T1]{fontenc}
  \usepackage[utf8]{inputenc}
  \usepackage{textcomp} % provide euro and other symbols
\else % if luatex or xetex
  \usepackage{unicode-math}
  \defaultfontfeatures{Scale=MatchLowercase}
  \defaultfontfeatures[\rmfamily]{Ligatures=TeX,Scale=1}
\fi
% Use upquote if available, for straight quotes in verbatim environments
\IfFileExists{upquote.sty}{\usepackage{upquote}}{}
\IfFileExists{microtype.sty}{% use microtype if available
  \usepackage[]{microtype}
  \UseMicrotypeSet[protrusion]{basicmath} % disable protrusion for tt fonts
}{}
\makeatletter
\@ifundefined{KOMAClassName}{% if non-KOMA class
  \IfFileExists{parskip.sty}{%
    \usepackage{parskip}
  }{% else
    \setlength{\parindent}{0pt}
    \setlength{\parskip}{6pt plus 2pt minus 1pt}}
}{% if KOMA class
  \KOMAoptions{parskip=half}}
\makeatother
\usepackage{xcolor}
\IfFileExists{xurl.sty}{\usepackage{xurl}}{} % add URL line breaks if available
\IfFileExists{bookmark.sty}{\usepackage{bookmark}}{\usepackage{hyperref}}
\hypersetup{
  pdftitle={Python Bookdown},
  pdfauthor={Yong Keh Soon},
  colorlinks=true,
  linkcolor=Maroon,
  filecolor=Maroon,
  citecolor=Blue,
  urlcolor=Blue,
  pdfcreator={LaTeX via pandoc}}
\urlstyle{same} % disable monospaced font for URLs
\usepackage{color}
\usepackage{fancyvrb}
\newcommand{\VerbBar}{|}
\newcommand{\VERB}{\Verb[commandchars=\\\{\}]}
\DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\}}
% Add ',fontsize=\small' for more characters per line
\usepackage{framed}
\definecolor{shadecolor}{RGB}{248,248,248}
\newenvironment{Shaded}{\begin{snugshade}}{\end{snugshade}}
\newcommand{\AlertTok}[1]{\textcolor[rgb]{0.33,0.33,0.33}{#1}}
\newcommand{\AnnotationTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{\textbf{\textit{#1}}}}
\newcommand{\AttributeTok}[1]{\textcolor[rgb]{0.61,0.61,0.61}{#1}}
\newcommand{\BaseNTok}[1]{\textcolor[rgb]{0.06,0.06,0.06}{#1}}
\newcommand{\BuiltInTok}[1]{#1}
\newcommand{\CharTok}[1]{\textcolor[rgb]{0.5,0.5,0.5}{#1}}
\newcommand{\CommentTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{\textit{#1}}}
\newcommand{\CommentVarTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{\textbf{\textit{#1}}}}
\newcommand{\ConstantTok}[1]{\textcolor[rgb]{0,0,0}{#1}}
\newcommand{\ControlFlowTok}[1]{\textcolor[rgb]{0.27,0.27,0.27}{\textbf{#1}}}
\newcommand{\DataTypeTok}[1]{\textcolor[rgb]{0.27,0.27,0.27}{#1}}
\newcommand{\DecValTok}[1]{\textcolor[rgb]{0.06,0.06,0.06}{#1}}
\newcommand{\DocumentationTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{\textbf{\textit{#1}}}}
\newcommand{\ErrorTok}[1]{\textcolor[rgb]{0.14,0.14,0.14}{\textbf{#1}}}
\newcommand{\ExtensionTok}[1]{#1}
\newcommand{\FloatTok}[1]{\textcolor[rgb]{0.06,0.06,0.06}{#1}}
\newcommand{\FunctionTok}[1]{\textcolor[rgb]{0,0,0}{#1}}
\newcommand{\ImportTok}[1]{#1}
\newcommand{\InformationTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{\textbf{\textit{#1}}}}
\newcommand{\KeywordTok}[1]{\textcolor[rgb]{0.27,0.27,0.27}{\textbf{#1}}}
\newcommand{\NormalTok}[1]{#1}
\newcommand{\OperatorTok}[1]{\textcolor[rgb]{0.43,0.43,0.43}{\textbf{#1}}}
\newcommand{\OtherTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{#1}}
\newcommand{\PreprocessorTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{\textit{#1}}}
\newcommand{\RegionMarkerTok}[1]{#1}
\newcommand{\SpecialCharTok}[1]{\textcolor[rgb]{0,0,0}{#1}}
\newcommand{\SpecialStringTok}[1]{\textcolor[rgb]{0.5,0.5,0.5}{#1}}
\newcommand{\StringTok}[1]{\textcolor[rgb]{0.5,0.5,0.5}{#1}}
\newcommand{\VariableTok}[1]{\textcolor[rgb]{0,0,0}{#1}}
\newcommand{\VerbatimStringTok}[1]{\textcolor[rgb]{0.5,0.5,0.5}{#1}}
\newcommand{\WarningTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{\textbf{\textit{#1}}}}
\usepackage{longtable,booktabs}
% Correct order of tables after \paragraph or \subparagraph
\usepackage{etoolbox}
\makeatletter
\patchcmd\longtable{\par}{\if@noskipsec\mbox{}\fi\par}{}{}
\makeatother
% Allow footnotes in longtable head/foot
\IfFileExists{footnotehyper.sty}{\usepackage{footnotehyper}}{\usepackage{footnote}}
\makesavenoteenv{longtable}
\usepackage{graphicx,grffile}
\makeatletter
\def\maxwidth{\ifdim\Gin@nat@width>\linewidth\linewidth\else\Gin@nat@width\fi}
\def\maxheight{\ifdim\Gin@nat@height>\textheight\textheight\else\Gin@nat@height\fi}
\makeatother
% Scale images if necessary, so that they will not overflow the page
% margins by default, and it is still possible to overwrite the defaults
% using explicit options in \includegraphics[width, height, ...]{}
\setkeys{Gin}{width=\maxwidth,height=\maxheight,keepaspectratio}
% Set default figure placement to htbp
\makeatletter
\def\fps@figure{htbp}
\makeatother
\setlength{\emergencystretch}{3em} % prevent overfull lines
\providecommand{\tightlist}{%
  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}
\setcounter{secnumdepth}{5}
\usepackage[]{natbib}
\bibliographystyle{apalike}

\title{Python Bookdown}
\author{Yong Keh Soon}
\date{2020-10-30}

\begin{document}
\maketitle

{
\hypersetup{linkcolor=}
\setcounter{tocdepth}{2}
\tableofcontents
}
\hypertarget{introduction}{%
\chapter*{Introduction}\label{introduction}}


\emph{Following text added by Alfonso R. Reyes}

\hypertarget{main-sections-of-the-book}{%
\section*{Main sections of the book}\label{main-sections-of-the-book}}


\begin{itemize}
\tightlist
\item
  Fundamentals
\item
  numpy
\item
  pandas
\item
  Visualization
\item
  sklearn
\item
  Natural Language Processing
\item
  Web scrapping
\item
  Finance
\end{itemize}

\hypertarget{python-environment}{%
\section*{Python environment}\label{python-environment}}


You may need to create a Python environment that covers all packages and dependencies for building this book. Once you have Anaconda3 installed in your computer, creating the Python environment is very easy. Go to your tterminal and run:

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{conda}\NormalTok{ env create -f environment.yml}
\end{Highlighting}
\end{Shaded}

Anaconda will read the file listing the core dependencies, and install them following the package version specified. This is what is inside \texttt{environment.yml}:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{name: python_book}
\NormalTok{channels:}
  \OperatorTok{-}\NormalTok{ anaconda}
  \OperatorTok{-}\NormalTok{ conda}\OperatorTok{-}\NormalTok{forge}
  \OperatorTok{-}\NormalTok{ defaults}
\NormalTok{dependencies:}
  \OperatorTok{-}\NormalTok{ python}\OperatorTok{=}\FloatTok{3.7}
  \OperatorTok{-}\NormalTok{ beautifulsoup4}\OperatorTok{=}\DecValTok{4}\NormalTok{.}\FloatTok{9.3}
  \OperatorTok{-}\NormalTok{ matplotlib}\OperatorTok{=}\DecValTok{3}\NormalTok{.}\FloatTok{3.1}
  \OperatorTok{-}\NormalTok{ nltk}\OperatorTok{=}\FloatTok{3.5}
  \OperatorTok{-}\NormalTok{ numpy}\OperatorTok{=}\DecValTok{1}\NormalTok{.}\FloatTok{19.1}
  \OperatorTok{-}\NormalTok{ pandas}\OperatorTok{=}\DecValTok{1}\NormalTok{.}\FloatTok{1.3}
  \OperatorTok{-}\NormalTok{ pandas}\OperatorTok{-}\NormalTok{datareader}\OperatorTok{=}\DecValTok{0}\NormalTok{.}\FloatTok{9.0}
  \OperatorTok{-}\NormalTok{ pip}\OperatorTok{=}\DecValTok{20}\NormalTok{.}\FloatTok{2.4}
  \OperatorTok{-}\NormalTok{ requests}\OperatorTok{=}\DecValTok{2}\NormalTok{.}\FloatTok{24.0}
  \OperatorTok{-}\NormalTok{ scikit}\OperatorTok{-}\NormalTok{learn}\OperatorTok{=}\DecValTok{0}\NormalTok{.}\FloatTok{23.2}
  \OperatorTok{-}\NormalTok{ seaborn}\OperatorTok{=}\DecValTok{0}\NormalTok{.}\FloatTok{11.0}
  \OperatorTok{-}\NormalTok{ urllib3}\OperatorTok{=}\DecValTok{1}\NormalTok{.}\FloatTok{25.11}
  \OperatorTok{-}\NormalTok{ pip:}
    \OperatorTok{-}\NormalTok{ cufflinks}
    \OperatorTok{-}\NormalTok{ h5py}\OperatorTok{==}\DecValTok{2}\NormalTok{.}\FloatTok{10.0}
    \OperatorTok{-}\NormalTok{ nlpia}\OperatorTok{==}\DecValTok{0}\NormalTok{.}\FloatTok{5.2}
    \OperatorTok{-}\NormalTok{ plotnine}\OperatorTok{==}\FloatTok{0.7}
    \OperatorTok{-}\NormalTok{ plydata}\OperatorTok{==}\DecValTok{0}\NormalTok{.}\FloatTok{4.2}
    \OperatorTok{-}\NormalTok{ yfinance}\OperatorTok{==}\DecValTok{0}\NormalTok{.}\FloatTok{1.55}
\NormalTok{prefix: }\OperatorTok{/}\NormalTok{home}\OperatorTok{/}\NormalTok{msfz751}\OperatorTok{/}\NormalTok{anaconda3}\OperatorTok{/}\NormalTok{envs}\OperatorTok{/}\NormalTok{python_book}
\end{Highlighting}
\end{Shaded}

\hypertarget{automating-the-builds-with-a-makefile}{%
\section*{\texorpdfstring{Automating the builds with a \texttt{Makefile}}{Automating the builds with a Makefile}}\label{automating-the-builds-with-a-makefile}}


\hypertarget{rules-for-building-the-book}{%
\subsection*{Rules for building the book}\label{rules-for-building-the-book}}


Here are couple of rules from the \texttt{Makefile}:

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{# knit the book and then open it in the browser}
\OtherTok{.PHONY:}\DataTypeTok{ gitbook1 gitbook2}
\DecValTok{gitbook1:}\DataTypeTok{ build_book1 open_book}

\DecValTok{gitbook2:}\DataTypeTok{ build_book2 open_book}

\CommentTok{# use rstudio pandoc}
\CommentTok{# this rule sets the PANDOC environment variable from the shell}
\DecValTok{build_book1:}
\NormalTok{    export RSTUDIO_PANDOC=}\StringTok{"/usr/lib/rstudio/bin/pandoc"}\NormalTok{;}\CharTok{\textbackslash{}}
\NormalTok{    Rscript -e }\StringTok{'bookdown::render_book("index.Rmd", "bookdown::gitbook")'}

\CommentTok{# use rstudio pandoc}
\CommentTok{# this rule sets the environment variable from R using multilines}
\DecValTok{build_book2:}
\NormalTok{    Rscript -e }\StringTok{"}\CharTok{\textbackslash{}}
\StringTok{    Sys.setenv(RSTUDIO_PANDOC='/usr/lib/rstudio/bin/pandoc');}\CharTok{\textbackslash{}}
\StringTok{    bookdown::render_book('index.Rmd', 'bookdown::gitbook')"}
\end{Highlighting}
\end{Shaded}

\hypertarget{clean-up-the-bookdown-project-folder}{%
\section*{Clean up the bookdown project folder}\label{clean-up-the-bookdown-project-folder}}


With these two rules I occasionally tidy up and clean up from intermediate files the bookdown project folder:

\begin{Shaded}
\begin{Highlighting}[]
\OtherTok{.PHONY:}\DataTypeTok{ clean}
\DecValTok{clean:}\DataTypeTok{ tidy}
\NormalTok{        find }\CharTok{$(}\DataTypeTok{OUTPUT_DIR}\CharTok{)}\NormalTok{ -maxdepth 1 -name \textbackslash{}*.tex -not -name }\StringTok{'preamble.tex'}\NormalTok{ -delete}
        \CharTok{$(}\DataTypeTok{RM}\CharTok{)}\NormalTok{ -rf }\CharTok{$(}\DataTypeTok{BOOKDOWN_FILES_DIRS}\CharTok{)}
        \CharTok{$(}\DataTypeTok{RM}\CharTok{)}\NormalTok{ -rf }\CharTok{$(}\DataTypeTok{DEFAULT_PUBLISH_BOOK_DIRS}\CharTok{)}
\NormalTok{        if [ -d }\CharTok{$\{}\DataTypeTok{PUBLISH_BOOK_DIR}\CharTok{\}}\NormalTok{ ]; then rm -rf }\CharTok{$\{}\DataTypeTok{PUBLISH_BOOK_DIR}\CharTok{\}}\NormalTok{;fi}
\NormalTok{        if [ -d }\CharTok{$\{}\DataTypeTok{CHECKPOINTS}\CharTok{\}}\NormalTok{ ]; then rm -rf }\CharTok{$\{}\DataTypeTok{CHECKPOINTS}\CharTok{\}}\NormalTok{;fi}


\CommentTok{# delete unwanted files and folders in bookdown folder}
\OtherTok{.PHONY:}\DataTypeTok{ tidy}
\DecValTok{tidy:}
\NormalTok{        find }\CharTok{$(}\DataTypeTok{OUTPUT_DIR}\CharTok{)}\NormalTok{ -maxdepth 1 -name \textbackslash{}*.md -not -name }\StringTok{'README.md'}\NormalTok{ -delete}
\NormalTok{        find }\CharTok{$(}\DataTypeTok{OUTPUT_DIR}\CharTok{)}\NormalTok{ -maxdepth 1 -name \textbackslash{}*-book.html -delete}
\NormalTok{        find }\CharTok{$(}\DataTypeTok{OUTPUT_DIR}\CharTok{)}\NormalTok{ -maxdepth 1 -name \textbackslash{}*.png -delete}
\NormalTok{        find }\CharTok{$(}\DataTypeTok{OUTPUT_DIR}\CharTok{)}\NormalTok{ -maxdepth 1 -name \textbackslash{}*.log -delete}
\NormalTok{        find }\CharTok{$(}\DataTypeTok{OUTPUT_DIR}\CharTok{)}\NormalTok{ -maxdepth 1 -name \textbackslash{}*.rds -delete}
\NormalTok{        find }\CharTok{$(}\DataTypeTok{OUTPUT_DIR}\CharTok{)}\NormalTok{ -maxdepth 1 -name \textbackslash{}*.ckpt -delete}
\NormalTok{        find }\CharTok{$(}\DataTypeTok{OUTPUT_DIR}\CharTok{)}\NormalTok{ -maxdepth 1 -name \textbackslash{}*.nb.html -delete}
\NormalTok{        find }\CharTok{$(}\DataTypeTok{OUTPUT_DIR}\CharTok{)}\NormalTok{ -maxdepth 1 -name _main.Rmd -delete}
\NormalTok{        find }\CharTok{$(}\DataTypeTok{OUTPUT_DIR}\CharTok{)}\NormalTok{ -maxdepth 1 -name now.json -delete       }
\end{Highlighting}
\end{Shaded}

\hypertarget{fundamentals}{%
\chapter{Fundamentals}\label{fundamentals}}

\hypertarget{library-management}{%
\section{Library Management}\label{library-management}}

\hypertarget{built-in-libraries}{%
\subsection{Built-In Libraries}\label{built-in-libraries}}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ string}
\ImportTok{import}\NormalTok{ datetime }\ImportTok{as}\NormalTok{ dt}
\end{Highlighting}
\end{Shaded}

\hypertarget{common-external-libraries}{%
\subsection{Common External Libraries}\label{common-external-libraries}}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ numpy }\ImportTok{as}\NormalTok{ np}
\ImportTok{import}\NormalTok{ pandas }\ImportTok{as}\NormalTok{ pd}
\ImportTok{import}\NormalTok{ datetime }\ImportTok{as}\NormalTok{ dt}

\ImportTok{import}\NormalTok{ matplotlib}
\ImportTok{import}\NormalTok{ matplotlib.pyplot }\ImportTok{as}\NormalTok{ plt}

\ImportTok{from}\NormalTok{ plydata }\ImportTok{import}\NormalTok{ define, query, select, group_by, summarize, arrange, head, rename}
\ImportTok{import}\NormalTok{ plotnine}
\ImportTok{from}\NormalTok{ plotnine }\ImportTok{import} \OperatorTok{*}
\end{Highlighting}
\end{Shaded}

\hypertarget{numpy}{%
\subsubsection{numpy}\label{numpy}}

\begin{itemize}
\tightlist
\item
  Large multi-dimensional array and matrices\\
\item
  High level mathematical funcitons to operate on them
\item
  Efficient array computation, modeled after matlab\\
\item
  Support vectorized array math functions (built on C, hence faster than python for loop and list)
\end{itemize}

\hypertarget{scipy}{%
\subsubsection{scipy}\label{scipy}}

\begin{itemize}
\tightlist
\item
  Collection of mathematical algorithms and convenience functions built on the numpy extension\\
\item
  Built upon \textbf{numpy}
\end{itemize}

\hypertarget{pandas}{%
\subsubsection{Pandas}\label{pandas}}

\begin{itemize}
\tightlist
\item
  Data manipulation and analysis
\item
  Offer data structures and operations for manipulating numerical tables and time series\\
\item
  Good for analyzing tabular data\\
\item
  Use for exploratory data analysis, data pre-processing, statistics and visualization
\item
  Built upon \textbf{numpy}
\end{itemize}

\hypertarget{scikit-learn}{%
\subsubsection{scikit-learn}\label{scikit-learn}}

\begin{itemize}
\tightlist
\item
  Machine learning functions\\
\item
  Built on top of scipy
\end{itemize}

\hypertarget{matplotlib}{%
\subsubsection{matplotlib}\label{matplotlib}}

\begin{itemize}
\tightlist
\item
  Data Visualization
\end{itemize}

\hypertarget{package-management}{%
\subsection{Package Management}\label{package-management}}

\hypertarget{conda}{%
\subsection{Conda}\label{conda}}

\hypertarget{conda-environment}{%
\subsubsection{Conda Environment}\label{conda-environment}}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{system}\NormalTok{(}\StringTok{"conda info"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\hypertarget{package-version}{%
\subsubsection{Package Version}\label{package-version}}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{system}\NormalTok{(}\StringTok{"conda list"}\NormalTok{) }
\end{Highlighting}
\end{Shaded}

\hypertarget{package-installation}{%
\subsubsection{Package Installation}\label{package-installation}}

Conda is recommended distribution.

To install from \textbf{official} conda channel:

\begin{verbatim}
conda install <package_name>  # always install latest
conda install <package_name=version_number>

## Example: Install From conda official channel
conda install numpy
conda install scipy
conda install pandas
conda install matpotlib
conda install scikit-learn
conda install seaborn
conda install pip
\end{verbatim}

To install from \textbf{conda-forge community} channel:

\begin{verbatim}
conda install -c conda-forge <package_name>
conda install -c conda-forge <package_name=version_number>

## Example: Install From conda community:
conda install -c conda-forge plotnine
\end{verbatim}

\hypertarget{pip}{%
\subsection{PIP}\label{pip}}

PIP is python open repository (not part of conda). Use \textbf{pip} if the package is not available in conda.

\hypertarget{package-version-1}{%
\subsubsection{Package Version}\label{package-version-1}}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{system}\NormalTok{(}\StringTok{"pip list"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\hypertarget{package-installation-1}{%
\subsubsection{Package Installation}\label{package-installation-1}}

\begin{verbatim}
pip install <package_name>
## Example: pip install plydata
\end{verbatim}

\hypertarget{everything-is-object}{%
\section{Everything Is Object}\label{everything-is-object}}

\begin{itemize}
\tightlist
\item
  Every varibales in python are \textbf{objects}\\
\item
  Every variable assginment is \textbf{reference based}, that is, each object value is the reference to memory block of data
\end{itemize}

In the below exmaple, \textbf{a, b and c } refer to the \textbf{same memory location}:\\
- Notice when an object assigned to another object, they refer to the same memory location\\
- When two variable refers to the same value, they refer to the same memory location

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a }\OperatorTok{=} \DecValTok{123}
\NormalTok{b }\OperatorTok{=} \DecValTok{123}  
\NormalTok{c }\OperatorTok{=}\NormalTok{ a}
\BuiltInTok{print}\NormalTok{ (}\StringTok{'Data of a ='}\NormalTok{,  a,}
       \StringTok{'}\CharTok{\textbackslash{}n}\StringTok{Data of b ='}\NormalTok{,b,}
       \StringTok{'}\CharTok{\textbackslash{}n}\StringTok{Data of c ='}\NormalTok{,c,}
       \StringTok{'}\CharTok{\textbackslash{}n}\StringTok{ID of a = '}\NormalTok{, }\BuiltInTok{id}\NormalTok{(a),}
       \StringTok{'}\CharTok{\textbackslash{}n}\StringTok{ID of b = '}\NormalTok{, }\BuiltInTok{id}\NormalTok{(b),}
       \StringTok{'}\CharTok{\textbackslash{}n}\StringTok{ID of c = '}\NormalTok{, }\BuiltInTok{id}\NormalTok{(c)}
\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> Data of a = 123 
#:> Data of b = 123 
#:> Data of c = 123 
#:> ID of a =  140563434412512 
#:> ID of b =  140563434412512 
#:> ID of c =  140563434412512
\end{verbatim}

Changing data value (using assignment) changes \textbf{the reference}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a }\OperatorTok{=} \DecValTok{123}
\NormalTok{b }\OperatorTok{=}\NormalTok{ a}
\NormalTok{a }\OperatorTok{=} \DecValTok{456}  \CommentTok{# reassignemnt changed a memory reference}
         \CommentTok{# b memory reference not changed}
\BuiltInTok{print}\NormalTok{ (}\StringTok{'Data of a ='}\NormalTok{,a,}
     \StringTok{'}\CharTok{\textbackslash{}n}\StringTok{Data of b ='}\NormalTok{,b,}
     \StringTok{'}\CharTok{\textbackslash{}n}\StringTok{ID of a = '}\NormalTok{, }\BuiltInTok{id}\NormalTok{(a),}
     \StringTok{'}\CharTok{\textbackslash{}n}\StringTok{ID of b = '}\NormalTok{, }\BuiltInTok{id}\NormalTok{(b)}
\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> Data of a = 456 
#:> Data of b = 123 
#:> ID of a =  140562897473648 
#:> ID of b =  140563434412512
\end{verbatim}

\hypertarget{assignment}{%
\section{Assignment}\label{assignment}}

\hypertarget{multiple-assignment}{%
\subsection{Multiple Assignment}\label{multiple-assignment}}

Assign multiple variable at the same time with same value. Note that all object created using this method refer to the \textbf{same memory location}.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{x }\OperatorTok{=}\NormalTok{ y }\OperatorTok{=} \StringTok{'same mem loc'}
\BuiltInTok{print}\NormalTok{ (}\StringTok{'x = '}\NormalTok{, x,}
     \StringTok{'}\CharTok{\textbackslash{}n}\StringTok{y = '}\NormalTok{, y,}
     \StringTok{'}\CharTok{\textbackslash{}n}\StringTok{id(x) = '}\NormalTok{, }\BuiltInTok{id}\NormalTok{(x), }
     \StringTok{'}\CharTok{\textbackslash{}n}\StringTok{id(y) = '}\NormalTok{, }\BuiltInTok{id}\NormalTok{(y)}
\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> x =  same mem loc 
#:> y =  same mem loc 
#:> id(x) =  140562897465968 
#:> id(y) =  140562897465968
\end{verbatim}

\hypertarget{augmented-assignment}{%
\subsection{Augmented Assignment}\label{augmented-assignment}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{x }\OperatorTok{=} \DecValTok{1}
\NormalTok{y }\OperatorTok{=}\NormalTok{ x }\OperatorTok{+} \DecValTok{1}
\NormalTok{y }\OperatorTok{+=} \DecValTok{1}
\BuiltInTok{print}\NormalTok{ (}\StringTok{'y = '}\NormalTok{, y)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> y =  3
\end{verbatim}

\hypertarget{unpacking-assingment}{%
\subsection{Unpacking Assingment}\label{unpacking-assingment}}

Assign multiple value to multiple variabels at the same time.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{x,y }\OperatorTok{=} \DecValTok{1}\NormalTok{,}\DecValTok{3}
\BuiltInTok{print}\NormalTok{ (x,y)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 1 3
\end{verbatim}

\hypertarget{built-in-data-types}{%
\chapter{Built-in Data Types}\label{built-in-data-types}}

\hypertarget{numbers}{%
\section{Numbers}\label{numbers}}

Two types of built-in number type, \textbf{integer and float}.

\hypertarget{integer}{%
\subsection{Integer}\label{integer}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{n }\OperatorTok{=} \DecValTok{123}
\BuiltInTok{type}\NormalTok{ (n)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> <class 'int'>
\end{verbatim}

\hypertarget{float}{%
\subsection{Float}\label{float}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{f }\OperatorTok{=} \FloatTok{123.4}
\BuiltInTok{type}\NormalTok{ (f)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> <class 'float'>
\end{verbatim}

\hypertarget{number-operators}{%
\subsection{Number Operators}\label{number-operators}}

In general, when the operation potentially return \textbf{float}, the result is float type. Otherwise it return \textbf{integer}.

\textbf{Division} always return float

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{(}\DecValTok{4}\OperatorTok{/}\DecValTok{2}\NormalTok{)  }\CommentTok{# return float}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 2.0
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{type}\NormalTok{(}\DecValTok{4}\OperatorTok{/}\DecValTok{2}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> <class 'float'>
\end{verbatim}

\textbf{Integer Division} by integer return inter. Integer division by float return float.

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{ (}\DecValTok{8}\OperatorTok{//}\DecValTok{3}\NormalTok{,}\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{,    }\CommentTok{# return int}
       \DecValTok{8}\OperatorTok{//}\FloatTok{3.2}\NormalTok{)       }\CommentTok{# return float}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 2 
#:>  2.0
\end{verbatim}

\textbf{Remainder} by integer return \textbf{integer}.\\
Remainder by float return \textbf{float}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{ (}\DecValTok{8}\OperatorTok{%}\DecValTok{3}\NormalTok{, }\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{,    }\CommentTok{# return int}
       \DecValTok{8}\OperatorTok{%}\FloatTok{3.2}\NormalTok{)        }\CommentTok{# return float}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 2 
#:>  1.5999999999999996
\end{verbatim}

\textbf{Power} return int or float

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{ (}\DecValTok{2}\OperatorTok{**}\DecValTok{3}\NormalTok{)    }\CommentTok{# return int}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 8
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{ (}\FloatTok{2.1}\OperatorTok{**}\DecValTok{3}\NormalTok{)  }\CommentTok{# return float}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 9.261000000000001
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{ (}\DecValTok{2}\OperatorTok{**}\FloatTok{3.1}\NormalTok{)  }\CommentTok{# return float}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 8.574187700290345
\end{verbatim}

\hypertarget{string}{%
\section{String}\label{string}}

String is an object class `str'. It is an \textbf{ordered collection of letters}, an \textbf{array} of object type \textbf{str}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ string}
\NormalTok{s }\OperatorTok{=} \StringTok{'abcde'}
\BuiltInTok{print}\NormalTok{( }\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{var type  = '}\NormalTok{, }\BuiltInTok{type}\NormalTok{(s),}
       \StringTok{'}\CharTok{\textbackslash{}n}\StringTok{elems     = '}\NormalTok{,s[}\DecValTok{0}\NormalTok{], s[}\DecValTok{1}\NormalTok{], s[}\DecValTok{2}\NormalTok{],}
       \StringTok{'}\CharTok{\textbackslash{}n}\StringTok{len       = '}\NormalTok{, }\BuiltInTok{len}\NormalTok{(s),}
       \StringTok{'}\CharTok{\textbackslash{}n}\StringTok{elem type = '}\NormalTok{,}\BuiltInTok{type}\NormalTok{(s[}\DecValTok{1}\NormalTok{]))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 
#:> var type  =  <class 'str'> 
#:> elems     =  a b c 
#:> len       =  5 
#:> elem type =  <class 'str'>
\end{verbatim}

\hypertarget{constructor}{%
\subsection{Constructor}\label{constructor}}

\hypertarget{classical-method}{%
\subsubsection{Classical Method}\label{classical-method}}

\texttt{class\ str(object=\textquotesingle{}\textquotesingle{})}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{my_string }\OperatorTok{=} \BuiltInTok{str}\NormalTok{()        }\CommentTok{## empty string}
\end{Highlighting}
\end{Shaded}

\texttt{class\ str(object=b\textquotesingle{}\textquotesingle{},\ encoding=\textquotesingle{}utf-8\textquotesingle{},\ errors=\textquotesingle{}strict\textquotesingle{})}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{my_string }\OperatorTok{=} \BuiltInTok{str}\NormalTok{(}\StringTok{'abc'}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\hypertarget{shortcut-method}{%
\subsubsection{Shortcut Method}\label{shortcut-method}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{my_string }\OperatorTok{=} \StringTok{'abc'}
\end{Highlighting}
\end{Shaded}

\hypertarget{multiline-method}{%
\subsubsection{Multiline Method}\label{multiline-method}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{my_string }\OperatorTok{=} \StringTok{'''}
\StringTok{This is me.}
\StringTok{Yong Keh Soon}
\StringTok{'''}
\BuiltInTok{print}\NormalTok{(my_string)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 
#:> This is me.
#:> Yong Keh Soon
\end{verbatim}

Note that the variable contain \textbf{\texttt{\textbackslash{}n}} front and end of the string.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{my_string}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> '\nThis is me.\nYong Keh Soon\n'
\end{verbatim}

\hypertarget{immutability}{%
\subsubsection{Immutability}\label{immutability}}

\begin{itemize}
\tightlist
\item
  String is \textbf{immuatable}. Changing its content will result in \textbf{error}
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{s }\OperatorTok{=} \StringTok{'abcde'}
\BuiltInTok{print}\NormalTok{ (}\StringTok{'s : '}\NormalTok{, }\BuiltInTok{id}\NormalTok{(s))}
\CommentTok{#s[1] = 'z'               # immutable, result in error}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> s :  140562897533552
\end{verbatim}

\begin{itemize}
\tightlist
\item
  Changing the variable completley change the reference (for new object)
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{s }\OperatorTok{=} \StringTok{'efgh'}
\BuiltInTok{print}\NormalTok{ (}\StringTok{'s : '}\NormalTok{, }\BuiltInTok{id}\NormalTok{(s))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> s :  140562897487024
\end{verbatim}

\hypertarget{class-constants}{%
\subsection{Class Constants}\label{class-constants}}

\hypertarget{letters}{%
\subsubsection{Letters}\label{letters}}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{( }\StringTok{'letters = '}\NormalTok{, string.ascii_letters,}
        \StringTok{'}\CharTok{\textbackslash{}n}\StringTok{lowercase = '}\NormalTok{,string.ascii_lowercase,}
        \StringTok{'}\CharTok{\textbackslash{}n}\StringTok{uppercase = '}\NormalTok{,string.ascii_uppercase )}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> letters =  abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ 
#:> lowercase =  abcdefghijklmnopqrstuvwxyz 
#:> uppercase =  ABCDEFGHIJKLMNOPQRSTUVWXYZ
\end{verbatim}

\hypertarget{digits}{%
\subsubsection{Digits}\label{digits}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{string.digits}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> '0123456789'
\end{verbatim}

\hypertarget{white-spaces}{%
\subsubsection{White Spaces}\label{white-spaces}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{string.whitespace}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> ' \t\n\r\x0b\x0c'
\end{verbatim}

\hypertarget{instance-methods}{%
\subsection{Instance Methods}\label{instance-methods}}

\hypertarget{substitution-format}{%
\subsubsection{\texorpdfstring{Substitution : \textbf{\texttt{format()}}}{Substitution : format()}}\label{substitution-format}}

\textbf{By Positional}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{( }\StringTok{'}\SpecialCharTok{\{\}}\StringTok{ + }\SpecialCharTok{\{\}}\StringTok{ = }\SpecialCharTok{\{\}}\StringTok{'}\NormalTok{.}\BuiltInTok{format}\NormalTok{(}\StringTok{'a'}\NormalTok{, }\StringTok{'b'}\NormalTok{, }\StringTok{'c'}\NormalTok{),         }\CommentTok{# auto sequence}
       \StringTok{'}\CharTok{\textbackslash{}n}\SpecialCharTok{\{0\}}\StringTok{ + }\SpecialCharTok{\{1\}}\StringTok{ = }\SpecialCharTok{\{2\}}\StringTok{'}\NormalTok{.}\BuiltInTok{format}\NormalTok{(}\StringTok{'aa'}\NormalTok{, }\StringTok{'bb'}\NormalTok{, }\StringTok{'cc'}\NormalTok{)) }\CommentTok{# manual sequence}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> a + b = c 
#:> aa + bb = cc
\end{verbatim}

\textbf{By Name}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{'Coordinates: \{latitude\}, \{longitude\}'}\NormalTok{.}\BuiltInTok{format}\NormalTok{(latitude}\OperatorTok{=}\StringTok{'37.24N'}\NormalTok{, longitude}\OperatorTok{=}\StringTok{'-115.81W'}\NormalTok{) }\CommentTok{## constant}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 'Coordinates: 37.24N, -115.81W'
\end{verbatim}

\textbf{By Dictionary Name}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{coord }\OperatorTok{=}\NormalTok{ \{}\StringTok{'latitude'}\NormalTok{: }\StringTok{'37.24N'}\NormalTok{, }\StringTok{'longitude'}\NormalTok{: }\StringTok{'-115.81W'}\NormalTok{\} }\CommentTok{## dictionary key/value}
\CommentTok{'Coordinates: \{latitude\}, \{longitude\}'}\NormalTok{.}\BuiltInTok{format}\NormalTok{(}\OperatorTok{**}\NormalTok{coord)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 'Coordinates: 37.24N, -115.81W'
\end{verbatim}

\textbf{Formatting Number}

Float

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{'\{:+f\}; \{:+f\}'}\NormalTok{.}\BuiltInTok{format}\NormalTok{(}\FloatTok{3.14}\NormalTok{, }\FloatTok{-3.14}\NormalTok{)  }\CommentTok{# show it always}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> '+3.140000; -3.140000'
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{'\{: f\}; \{: f\}'}\NormalTok{.}\BuiltInTok{format}\NormalTok{(}\FloatTok{3.14}\NormalTok{, }\FloatTok{-3.14}\NormalTok{)  }\CommentTok{# show a space for positive numbers}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> ' 3.140000; -3.140000'
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{'Correct answers: \{:.2f\}'}\NormalTok{.}\BuiltInTok{format}\NormalTok{(}\FloatTok{55676.345345}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 'Correct answers: 55676.35'
\end{verbatim}

Integer, Percentage

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{'\{0:,\}   \{0:.2%\}   \{0:,.2%\}'}\NormalTok{.}\BuiltInTok{format}\NormalTok{(}\FloatTok{1234567890.4455}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> '1,234,567,890.4455   123456789044.55%   123,456,789,044.55%'
\end{verbatim}

\textbf{Alignment}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{'\{0:<20\}   \{0:<<20\}'}\NormalTok{.}\BuiltInTok{format}\NormalTok{(}\StringTok{'left aligned'}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 'left aligned           left aligned<<<<<<<<'
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{'\{0:>20\}  \{0:$>20\}'}\NormalTok{.}\BuiltInTok{format}\NormalTok{(}\StringTok{'right aligned'}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> '       right aligned  $$$$$$$right aligned'
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{'\{:^30\}'}\NormalTok{.}\BuiltInTok{format}\NormalTok{(}\StringTok{'centered'}\NormalTok{)  }\CommentTok{# use '*' as a fill char}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> '           centered           '
\end{verbatim}

\hypertarget{substitution-f-string}{%
\subsubsection{\texorpdfstring{Substitution : \textbf{\texttt{f-string}}}{Substitution : f-string}}\label{substitution-f-string}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{my_name }\OperatorTok{=} \StringTok{'Yong Keh Soon'}
\NormalTok{salary  }\OperatorTok{=} \FloatTok{11123.346}
\SpecialStringTok{f'Hello, }\SpecialCharTok{\{}\NormalTok{my_name}\SpecialCharTok{\}}\SpecialStringTok{, your salary is }\SpecialCharTok{\{}\NormalTok{salary}\SpecialCharTok{:,.2f\}}\SpecialStringTok{ !'}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 'Hello, Yong Keh Soon, your salary is 11,123.35 !'
\end{verbatim}

\hypertarget{conversion-upper-lower}{%
\subsubsection{\texorpdfstring{Conversion: \texttt{upper()\ lower()}}{Conversion: upper() lower()}}\label{conversion-upper-lower}}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{'myEXEel.xls'}\NormalTok{.upper()}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 'MYEXEEL.XLS'
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{'myEXEel.xls'}\NormalTok{.lower()}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 'myexeel.xls'
\end{verbatim}

\hypertarget{find-pattern-position}{%
\subsubsection{\texorpdfstring{\texttt{find()} pattern position}{find() pattern position}}\label{find-pattern-position}}

\begin{verbatim}
string.find() return position of first occurance. -1 if not found
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{s}\OperatorTok{=}\StringTok{'I love karaoke, I know you love it oo'}
\BuiltInTok{print}\NormalTok{ (s.find(}\StringTok{'lov'}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 2
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{ (s.find(}\StringTok{'kemuning'}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> -1
\end{verbatim}

\hypertarget{strip-off-blank-spaces}{%
\subsubsection{\texorpdfstring{\texttt{strip()} off blank spaces}{strip() off blank spaces}}\label{strip-off-blank-spaces}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{filename }\OperatorTok{=} \StringTok{'  myexce l.   xls   '}
\NormalTok{filename.strip()}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 'myexce l.   xls'
\end{verbatim}

\hypertarget{list-related-split}{%
\subsubsection{\texorpdfstring{List Related: \texttt{split()}}{List Related: split()}}\label{list-related-split}}

Splitting delimeter is specified. Observe the empty spaces were conserved in result array

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{animals }\OperatorTok{=} \StringTok{'a1,a2 ,a3, a4'}
\NormalTok{animals.split(}\StringTok{','}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> ['a1', 'a2 ', 'a3', ' a4']
\end{verbatim}

\hypertarget{list-related-join}{%
\subsubsection{\texorpdfstring{List Related: \texttt{join()}}{List Related: join()}}\label{list-related-join}}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{'-'}\NormalTok{.join([}\StringTok{'1'}\NormalTok{, }\StringTok{'2'}\NormalTok{, }\StringTok{'3'}\NormalTok{, }\StringTok{'4'}\NormalTok{])}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> '1-2-3-4'
\end{verbatim}

\hypertarget{replacement-.replace}{%
\subsubsection{\texorpdfstring{Replacement: \texttt{.replace()}}{Replacement: .replace()}}\label{replacement-.replace}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{string }\OperatorTok{=} \StringTok{"geeks for geeks geeks geeks geeks"} 
   
\CommentTok{# Prints the string by replacing geeks by Geeks  }
\BuiltInTok{print}\NormalTok{(string.replace(}\StringTok{"geeks"}\NormalTok{, }\StringTok{"Geeks"}\NormalTok{))  }
  
\CommentTok{# Prints the string by replacing only 3 occurrence of Geeks   }
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> Geeks for Geeks Geeks Geeks Geeks
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{(string.replace(}\StringTok{"geeks"}\NormalTok{, }\StringTok{"GeeksforGeeks"}\NormalTok{, }\DecValTok{3}\NormalTok{)) }
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> GeeksforGeeks for GeeksforGeeks GeeksforGeeks geeks geeks
\end{verbatim}

\hypertarget{operator}{%
\subsection{Operator}\label{operator}}

\hypertarget{old-style-substitution}{%
\subsubsection{\texorpdfstring{\texttt{\%} Old Style Substitution}{\% Old Style Substitution}}\label{old-style-substitution}}

\url{https://docs.python.org/3/library/stdtypes.html\#old-string-formatting}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{my_name }\OperatorTok{=} \StringTok{'Yong Keh Soon'}
\NormalTok{salary  }\OperatorTok{=} \FloatTok{11123.346}
\CommentTok{'Hello, %s, your salary is %.2f !'} \OperatorTok{%}\NormalTok{(my_name, salary)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 'Hello, Yong Keh Soon, your salary is 11123.35 !'
\end{verbatim}

\hypertarget{concatenation}{%
\subsubsection{\texorpdfstring{\texttt{+} Concatenation}{+ Concatenation}}\label{concatenation}}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{'this is '} \OperatorTok{+} \StringTok{'awesome'}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 'this is awesome'
\end{verbatim}

\hypertarget{in-matching}{%
\subsubsection{\texorpdfstring{\texttt{in} matching}{in matching}}\label{in-matching}}

For single string, \textbf{partial match}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{( }\StringTok{'abc'} \KeywordTok{in} \StringTok{'123abcdefg'}\NormalTok{ )}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> True
\end{verbatim}

For list of strings, \textbf{exact match} (even though only one element in list).\\
For partial match, workaround is to \textbf{convert list to single string}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{( }\StringTok{'abc'} \KeywordTok{in}\NormalTok{ [}\StringTok{'abcdefg'}\NormalTok{],             }\CommentTok{# false}
       \StringTok{'abc'} \KeywordTok{in}\NormalTok{ [}\StringTok{'abcdefg'}\NormalTok{,}\StringTok{'123'}\NormalTok{],       }\CommentTok{# fakse}
       \StringTok{'abc'} \KeywordTok{in}\NormalTok{ [}\StringTok{'123'}\NormalTok{,}\StringTok{'abc'}\NormalTok{,}\StringTok{'def'}\NormalTok{],     }\CommentTok{# true}
       \StringTok{'abc'} \KeywordTok{in} \BuiltInTok{str}\NormalTok{([}\StringTok{'123'}\NormalTok{,}\StringTok{'abcdefg'}\NormalTok{]))  }\CommentTok{# true}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> False False True True
\end{verbatim}

\hypertarget{comparitor}{%
\subsubsection{Comparitor}\label{comparitor}}

Comparitor compares the memory address.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a}\OperatorTok{=}\StringTok{'abc'}
\NormalTok{b}\OperatorTok{=}\StringTok{'abc'}
\BuiltInTok{print}\NormalTok{(}\StringTok{'id(a) = '}\NormalTok{, }\BuiltInTok{id}\NormalTok{(a), }
      \StringTok{'}\CharTok{\textbackslash{}n}\StringTok{id(b) = '}\NormalTok{, }\BuiltInTok{id}\NormalTok{(b),}
      \StringTok{'}\CharTok{\textbackslash{}n}\StringTok{a == b  '}\NormalTok{, a}\OperatorTok{==}\NormalTok{b)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> id(a) =  140563429977008 
#:> id(b) =  140563429977008 
#:> a == b   True
\end{verbatim}

\hypertarget{iterations}{%
\subsection{Iterations}\label{iterations}}

\begin{verbatim}
string[start:end:step]  # default start:0, end:last, step:1
\end{verbatim}

If step is negative (reverse), end value must be lower than start value

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{s }\OperatorTok{=} \StringTok{'abcdefghijk'}
\BuiltInTok{print}\NormalTok{ (s[}\DecValTok{0}\NormalTok{])       }\CommentTok{# first later}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> a
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{ (s[:}\DecValTok{3}\NormalTok{])      }\CommentTok{# first 3 letters}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> abc
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{ (s[}\DecValTok{2}\NormalTok{:}\DecValTok{8}\NormalTok{ :}\DecValTok{2}\NormalTok{])  }\CommentTok{# stepping}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> ceg
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{ (s[}\OperatorTok{-}\DecValTok{1}\NormalTok{])      }\CommentTok{# last letter}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> k
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{ (s[}\OperatorTok{-}\DecValTok{3}\NormalTok{:])     }\CommentTok{# last three letters}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> ijk
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{ (s[:   :}\OperatorTok{-}\DecValTok{1}\NormalTok{]) }\CommentTok{# reverse everything}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> kjihgfedcba
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{ (s[}\DecValTok{8}\NormalTok{:}\DecValTok{2}\NormalTok{ :}\OperatorTok{-}\DecValTok{1}\NormalTok{])}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> ihgfed
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{ (s[}\DecValTok{8}\NormalTok{:}\DecValTok{2}\NormalTok{])     }\CommentTok{# return NOTHING}
\end{Highlighting}
\end{Shaded}

\hypertarget{boolean}{%
\section{Boolean}\label{boolean}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{b }\OperatorTok{=} \VariableTok{False}

\ControlFlowTok{if}\NormalTok{ (b):}
    \BuiltInTok{print}\NormalTok{ (}\StringTok{'It is true'}\NormalTok{)}
\ControlFlowTok{else}\NormalTok{:}
    \BuiltInTok{print}\NormalTok{ (}\StringTok{'It is fake'}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> It is fake
\end{verbatim}

\hypertarget{what-is-considered-false}{%
\subsection{What is Considered False ?}\label{what-is-considered-false}}

Everything below are false, \textbf{anything else are true}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{ ( }\BuiltInTok{bool}\NormalTok{(}\DecValTok{0}\NormalTok{),      }\CommentTok{# zero}
        \BuiltInTok{bool}\NormalTok{(}\VariableTok{None}\NormalTok{),  }\CommentTok{# none}
        \BuiltInTok{bool}\NormalTok{(}\StringTok{''}\NormalTok{),    }\CommentTok{# empty string}
        \BuiltInTok{bool}\NormalTok{([]),    }\CommentTok{# empty list}
        \BuiltInTok{bool}\NormalTok{(()),    }\CommentTok{# empty tupple}
        \BuiltInTok{bool}\NormalTok{(}\VariableTok{False}\NormalTok{), }\CommentTok{# False}
        \BuiltInTok{bool}\NormalTok{(}\DecValTok{2-2}\NormalTok{))    }\CommentTok{# expression that return any value above}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> False False False False False False False
\end{verbatim}

\hypertarget{and-operator}{%
\subsection{\texorpdfstring{\texttt{and} operator}{and operator}}\label{and-operator}}

BEWARE !

\begin{itemize}
\tightlist
\item
  \textbf{and} can return different data types\\
\item
  If evaluated result is \textbf{True}, the last \textbf{True Value} is returned (because python need to evaluate up to the last value)\\
\item
  If evaluated result is \textbf{False}, the first \textbf{False Value} will be returned (because python return it immediately when detecting False value)
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{ (}\DecValTok{123} \KeywordTok{and} \DecValTok{2} \KeywordTok{and} \DecValTok{1}\NormalTok{,}
       \DecValTok{123} \KeywordTok{and}\NormalTok{ [] }\KeywordTok{and} \DecValTok{2}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 1 []
\end{verbatim}

\hypertarget{not-operator}{%
\subsection{\texorpdfstring{\texttt{not} operator}{not operator}}\label{not-operator}}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{not}\NormalTok{ (}\VariableTok{True}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> False
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{not}\NormalTok{ (}\VariableTok{True} \KeywordTok{or} \VariableTok{False}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> False
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{not}\NormalTok{ (}\VariableTok{False}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> True
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{not}\NormalTok{ (}\VariableTok{True} \KeywordTok{and} \VariableTok{False}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> True
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\OperatorTok{~}\NormalTok{(}\VariableTok{False}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> -1
\end{verbatim}

\hypertarget{or-operator}{%
\subsection{\texorpdfstring{\texttt{or} operator}{or operator}}\label{or-operator}}

\begin{itemize}
\tightlist
\item
  \textbf{or} can return different data type\\
\item
  If evaluated result is True, first \textbf{True Value} will be returned (right hand side value \textbf{need not be evaluated})\\
\item
  If evaluated result is False, last \textbf{Fasle Value} will be returned (need to evalute all items before concluding False)
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{ (}\DecValTok{1} \KeywordTok{or} \DecValTok{2}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 1
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{ (}\DecValTok{0} \KeywordTok{or} \DecValTok{1} \KeywordTok{or} \DecValTok{1}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 1
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{ (}\DecValTok{0} \KeywordTok{or}\NormalTok{ () }\KeywordTok{or}\NormalTok{ [])}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> []
\end{verbatim}

\hypertarget{none}{%
\section{None}\label{none}}

\hypertarget{none-is-an-object}{%
\subsection{None is an Object}\label{none-is-an-object}}

\begin{itemize}
\tightlist
\item
  None is a Python \textbf{object NonType}\\
\item
  Any operation to None object will result in \textbf{error}\\
\item
  For array data with None elements, verification is required to check through iteration to determine if the item is not None. It is very computaionaly heavy
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{type}\NormalTok{(}\VariableTok{None}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> <class 'NoneType'>
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{t1 }\OperatorTok{=}\NormalTok{ np.array([}\DecValTok{1}\NormalTok{, }\DecValTok{2}\NormalTok{, }\DecValTok{3}\NormalTok{, }\DecValTok{4}\NormalTok{, }\DecValTok{5}\NormalTok{])}
\NormalTok{t2}\OperatorTok{=}\NormalTok{ np.array([}\DecValTok{1}\NormalTok{, }\DecValTok{2}\NormalTok{, }\DecValTok{3}\NormalTok{, }\VariableTok{None}\NormalTok{, }\DecValTok{4}\NormalTok{, }\DecValTok{5}\NormalTok{])}
\BuiltInTok{print}\NormalTok{( t1.dtype  , }\StringTok{'}\CharTok{\textbackslash{}n\textbackslash{}n}\StringTok{'}\NormalTok{,    }\CommentTok{# it's an object}
\NormalTok{       t2.dtype)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> int64 
#:> 
#:>  object
\end{verbatim}

\hypertarget{comparing-none}{%
\subsection{Comparing None}\label{comparing-none}}

\textbf{Not Prefered Method}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{null_variable }\OperatorTok{=} \VariableTok{None}
\BuiltInTok{print}\NormalTok{( null_variable }\OperatorTok{==} \VariableTok{None}\NormalTok{ )}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> True
\end{verbatim}

\textbf{Prefered}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{( null_variable }\KeywordTok{is} \VariableTok{None}\NormalTok{ )}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> True
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{( null_variable }\KeywordTok{is} \KeywordTok{not} \VariableTok{None}\NormalTok{ )}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> False
\end{verbatim}

\hypertarget{operation-on-none}{%
\subsection{Operation on None}\label{operation-on-none}}

Any operator (except \texttt{is}) on None results in error.

\begin{Shaded}
\begin{Highlighting}[]
\VariableTok{None} \OperatorTok{&} \VariableTok{None}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> Error in py_call_impl(callable, dots$args, dots$keywords): TypeError: unsupported operand type(s) for &: 'NoneType' and 'NoneType'
#:> 
#:> Detailed traceback: 
#:>   File "<string>", line 1, in <module>
\end{verbatim}

\hypertarget{built-in-data-structure}{%
\chapter{Built-In Data Structure}\label{built-in-data-structure}}

\hypertarget{tuple}{%
\section{Tuple}\label{tuple}}

Tuple is an \textbf{immutable list}. Any attempt to change/update tuple will return error. It can contain \textbf{different types} of object.

Benefits of tuple against List are: - \textbf{Faster} than list - \textbf{Protects} your data against accidental change - Can be used as key in dictionaries, list can't

\hypertarget{creating}{%
\subsection{Creating}\label{creating}}

\hypertarget{constructor-1}{%
\subsubsection{Constructor}\label{constructor-1}}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{# mylist = [1,2,3]}
\CommentTok{# print(tuple(mylist))}
\end{Highlighting}
\end{Shaded}

\hypertarget{assignment-1}{%
\subsubsection{Assignment}\label{assignment-1}}

\textbf{With or Without \texttt{()} }

This is a formal syntax for defining tuple, items inside ( ) notation. Assignment although works without \texttt{()}, it is not recommended.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{t1 }\OperatorTok{=}\NormalTok{ (}\DecValTok{1}\NormalTok{,}\DecValTok{2}\NormalTok{,}\DecValTok{3}\NormalTok{,}\StringTok{'o'}\NormalTok{,}\StringTok{'apple'}\NormalTok{)}
\NormalTok{t2 }\OperatorTok{=} \DecValTok{1}\NormalTok{,}\DecValTok{2}\NormalTok{,}\DecValTok{3}\NormalTok{,}\StringTok{'o'}\NormalTok{,}\StringTok{'apple'}

\BuiltInTok{print}\NormalTok{(}\BuiltInTok{type}\NormalTok{(t1), }\BuiltInTok{type}\NormalTok{(t2))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> <class 'tuple'> <class 'tuple'>
\end{verbatim}

\hypertarget{accessing}{%
\subsection{Accessing}\label{accessing}}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{( t[}\DecValTok{1}\NormalTok{], t[}\DecValTok{1}\NormalTok{:}\DecValTok{3}\NormalTok{] )}
\end{Highlighting}
\end{Shaded}

\hypertarget{duplicating}{%
\subsection{Duplicating}\label{duplicating}}

Use normal assignment \texttt{=} to duplicate. Reference of the memory address is copied. Data is actually not duplicated in memory.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{original }\OperatorTok{=}\NormalTok{ (}\DecValTok{1}\NormalTok{,}\DecValTok{2}\NormalTok{,}\DecValTok{3}\NormalTok{,}\DecValTok{4}\NormalTok{,}\DecValTok{5}\NormalTok{)}
\NormalTok{copy_test }\OperatorTok{=}\NormalTok{ original}
\BuiltInTok{print}\NormalTok{(original)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> (1, 2, 3, 4, 5)
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{(copy_test)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> (1, 2, 3, 4, 5)
\end{verbatim}

The copy and original has the same memory location.

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{(}\StringTok{'Original ID: '}\NormalTok{, }\BuiltInTok{id}\NormalTok{(original))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> Original ID:  140562897415440
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{(}\StringTok{'Copy ID:     '}\NormalTok{, }\BuiltInTok{id}\NormalTok{(copy_test))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> Copy ID:      140562897415440
\end{verbatim}

\hypertarget{list}{%
\section{List}\label{list}}

\begin{itemize}
\tightlist
\item
  List is a collection of \textbf{ordered} items, where the items \textbf{can be different data types}\\
\item
  You can pack list of items by placing them into {[}{]}\\
\item
  List is mutable
\end{itemize}

\hypertarget{creating-list}{%
\subsection{Creating List}\label{creating-list}}

\hypertarget{empty-list}{%
\subsubsection{Empty List}\label{empty-list}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{empty }\OperatorTok{=}\NormalTok{ []      }\CommentTok{# literal assignment method}
\NormalTok{empty }\OperatorTok{=} \BuiltInTok{list}\NormalTok{()  }\CommentTok{# constructor method}
\BuiltInTok{print}\NormalTok{ (empty)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> []
\end{verbatim}

\hypertarget{literal-assignment}{%
\subsubsection{Literal Assignment}\label{literal-assignment}}

\begin{itemize}
\tightlist
\item
  \textbf{Multiple data types} is allowed in a list
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{[}\DecValTok{123}\NormalTok{,}\StringTok{'abc'}\NormalTok{,}\DecValTok{456}\NormalTok{, }\VariableTok{None}\NormalTok{]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> [123, 'abc', 456, None]
\end{verbatim}

\textbf{Constructor}

\begin{itemize}
\tightlist
\item
  Note that \textbf{list(string)} will split the string into letters
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{list}\NormalTok{(}\StringTok{'hello'}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> ['h', 'e', 'l', 'l', 'o']
\end{verbatim}

\hypertarget{accessing-items}{%
\subsection{Accessing Items}\label{accessing-items}}

\textbf{Access specific index number}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{food }\OperatorTok{=}\NormalTok{ [}\StringTok{'bread'}\NormalTok{, }\StringTok{'noodle'}\NormalTok{, }\StringTok{'rice'}\NormalTok{, }\StringTok{'biscuit'}\NormalTok{,}\StringTok{'jelly'}\NormalTok{,}\StringTok{'cake'}\NormalTok{]}
\BuiltInTok{print}\NormalTok{ (food[}\DecValTok{2}\NormalTok{])  }\CommentTok{# 3rd item}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> rice
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{ (food[}\OperatorTok{-}\DecValTok{1}\NormalTok{]) }\CommentTok{# last item}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> cake
\end{verbatim}

\textbf{Access range of indexes}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{ (food[:}\DecValTok{4}\NormalTok{])     }\CommentTok{# first 3 items}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> ['bread', 'noodle', 'rice', 'biscuit']
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{ (food[}\OperatorTok{-}\DecValTok{3}\NormalTok{:])    }\CommentTok{# last 3 items}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> ['biscuit', 'jelly', 'cake']
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{ (food[}\DecValTok{1}\NormalTok{:}\DecValTok{5}\NormalTok{])    }\CommentTok{# item 1 to 4}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> ['noodle', 'rice', 'biscuit', 'jelly']
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{ (food[}\DecValTok{5}\NormalTok{:}\DecValTok{2}\NormalTok{:}\OperatorTok{-}\DecValTok{1}\NormalTok{]) }\CommentTok{# item 3 to 5, reverse order}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> ['cake', 'jelly', 'biscuit']
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{ (food[::}\OperatorTok{-}\DecValTok{1}\NormalTok{])   }\CommentTok{# reverse order}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> ['cake', 'jelly', 'biscuit', 'rice', 'noodle', 'bread']
\end{verbatim}

\hypertarget{methods}{%
\subsection{Methods}\label{methods}}

\hypertarget{remove-items}{%
\subsubsection{Remove Item(s)}\label{remove-items}}

Removal of non-existance item will result in error

\textbf{Search and remove first matching item}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{food }\OperatorTok{=} \BuiltInTok{list}\NormalTok{([}\StringTok{'bread'}\NormalTok{, }\StringTok{'noodle'}\NormalTok{, }\StringTok{'rice'}\NormalTok{, }\StringTok{'biscuit'}\NormalTok{,}\StringTok{'jelly'}\NormalTok{,}\StringTok{'cake'}\NormalTok{,}\StringTok{'noodle'}\NormalTok{])}
\NormalTok{food.remove(}\StringTok{'noodle'}\NormalTok{)}
\BuiltInTok{print}\NormalTok{ (food)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> ['bread', 'rice', 'biscuit', 'jelly', 'cake', 'noodle']
\end{verbatim}

\textbf{Remove last item}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{food.pop()}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 'noodle'
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{ (food)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> ['bread', 'rice', 'biscuit', 'jelly', 'cake']
\end{verbatim}

\textbf{Remove item at specific position}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{food.pop(}\DecValTok{1}\NormalTok{)  }\CommentTok{# counter start from 0}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 'rice'
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{(food)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> ['bread', 'biscuit', 'jelly', 'cake']
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{food.remove(}\StringTok{'jelly'}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(food)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> ['bread', 'biscuit', 'cake']
\end{verbatim}

\hypertarget{appending-item-s}{%
\subsubsection{Appending Item (s)}\label{appending-item-s}}

\textbf{Append One Item}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{food.append(}\StringTok{'jelly'}\NormalTok{)}
\BuiltInTok{print}\NormalTok{ (food)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> ['bread', 'biscuit', 'cake', 'jelly']
\end{verbatim}

\textbf{Append Multiple Items} \textbf{\texttt{extend()}} will expand the list/tupple argument and append as multiple items

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{food.extend([}\StringTok{'nand'}\NormalTok{,}\StringTok{'puff'}\NormalTok{])}
\BuiltInTok{print}\NormalTok{ (food)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> ['bread', 'biscuit', 'cake', 'jelly', 'nand', 'puff']
\end{verbatim}

\hypertarget{other-methods}{%
\subsubsection{Other Methods}\label{other-methods}}

\textbf{Reversing the order of the items}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{food.reverse()}
\NormalTok{food}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> ['puff', 'nand', 'jelly', 'cake', 'biscuit', 'bread']
\end{verbatim}

\textbf{Locating the Index Number of An Item}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{food.index(}\StringTok{'biscuit'}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 4
\end{verbatim}

\textbf{Count occurance}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{test }\OperatorTok{=}\NormalTok{ [}\StringTok{'a'}\NormalTok{,}\StringTok{'a'}\NormalTok{,}\StringTok{'a'}\NormalTok{,}\StringTok{'b'}\NormalTok{,}\StringTok{'c'}\NormalTok{]}
\NormalTok{test.count(}\StringTok{'a'}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 3
\end{verbatim}

\textbf{Sorting The Order of Items}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{food.sort()}
\BuiltInTok{print}\NormalTok{ (food)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> ['biscuit', 'bread', 'cake', 'jelly', 'nand', 'puff']
\end{verbatim}

\hypertarget{operator-1}{%
\subsection{Operator}\label{operator-1}}

\hypertarget{concatenation-1}{%
\subsubsection{Concatenation}\label{concatenation-1}}

\textbf{Concatenating Lists}

Two lists can be concatenanted using `+' operator.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{[}\StringTok{'dog'}\NormalTok{,}\StringTok{'cat'}\NormalTok{,}\StringTok{'horse'}\NormalTok{] }\OperatorTok{+}\NormalTok{ [}\StringTok{'elephant'}\NormalTok{,}\StringTok{'tiger'}\NormalTok{] }\OperatorTok{+}\NormalTok{ [}\StringTok{'sheep'}\NormalTok{]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> ['dog', 'cat', 'horse', 'elephant', 'tiger', 'sheep']
\end{verbatim}

\hypertarget{list-is-mutable}{%
\subsection{List is Mutable}\label{list-is-mutable}}

The reference of list variable won't change after adding/removing its item

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{food }\OperatorTok{=}\NormalTok{ [}\StringTok{'cake'}\NormalTok{,}\StringTok{'jelly'}\NormalTok{,}\StringTok{'roti'}\NormalTok{,}\StringTok{'noodle'}\NormalTok{]}
\BuiltInTok{print}\NormalTok{ (}\StringTok{'food : '}\NormalTok{,}\BuiltInTok{id}\NormalTok{(food))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> food :  140562897535616
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{food }\OperatorTok{+=}\NormalTok{ [}\StringTok{'salad'}\NormalTok{,}\StringTok{'chicken'}\NormalTok{]}
\BuiltInTok{print}\NormalTok{ (}\StringTok{'food : '}\NormalTok{,}\BuiltInTok{id}\NormalTok{(food))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> food :  140562897535616
\end{verbatim}

A function is actually an \textbf{object}, which reference never change, hence \textbf{mutable}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ spam (elem, some_list}\OperatorTok{=}\NormalTok{[}\StringTok{'a'}\NormalTok{,}\StringTok{'b'}\NormalTok{]):}
\NormalTok{    some_list.append(elem)}
    \ControlFlowTok{return}\NormalTok{ some_list}

\BuiltInTok{print}\NormalTok{ (spam(}\DecValTok{1}\NormalTok{,[}\StringTok{'x'}\NormalTok{]))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> ['x', 1]
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{ (spam(}\DecValTok{2}\NormalTok{)) }\CommentTok{## second parameter is not passed}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> ['a', 'b', 2]
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{ (spam(}\DecValTok{3}\NormalTok{)) }\CommentTok{##  notice the default was remembered}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> ['a', 'b', 2, 3]
\end{verbatim}

\hypertarget{duplicate-or-reference}{%
\subsection{Duplicate or Reference}\label{duplicate-or-reference}}

\textbf{Use =} : It just copy the refernce. IDs are similar

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{original }\OperatorTok{=}\NormalTok{ [}\DecValTok{1}\NormalTok{,}\DecValTok{2}\NormalTok{,}\DecValTok{3}\NormalTok{,}\DecValTok{4}\NormalTok{,}\DecValTok{5}\NormalTok{]}
\NormalTok{copy_test }\OperatorTok{=}\NormalTok{ original}
\BuiltInTok{print}\NormalTok{(}\StringTok{'Original ID: '}\NormalTok{, }\BuiltInTok{id}\NormalTok{(original))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> Original ID:  140562897556576
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{(}\StringTok{'Copy ID:     '}\NormalTok{, }\BuiltInTok{id}\NormalTok{(copy_test))                          }
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> Copy ID:      140562897556576
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{original[}\DecValTok{0}\NormalTok{]}\OperatorTok{=}\DecValTok{999}   \CommentTok{## change original}
\BuiltInTok{print}\NormalTok{(original)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> [999, 2, 3, 4, 5]
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{(copy_test)  }\CommentTok{## copy affected}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> [999, 2, 3, 4, 5]
\end{verbatim}

\textbf{Duplicate A List Object} with \textbf{\texttt{copy()}}. Resulting IDs are different

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{original }\OperatorTok{=}\NormalTok{ [}\DecValTok{1}\NormalTok{,}\DecValTok{2}\NormalTok{,}\DecValTok{3}\NormalTok{,}\DecValTok{4}\NormalTok{,}\DecValTok{5}\NormalTok{]}
\NormalTok{copy_test }\OperatorTok{=}\NormalTok{ original.copy()}
\BuiltInTok{print}\NormalTok{(original)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> [1, 2, 3, 4, 5]
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{(copy_test)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> [1, 2, 3, 4, 5]
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{(}\StringTok{'Original ID: '}\NormalTok{, }\BuiltInTok{id}\NormalTok{(original))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> Original ID:  140562897550224
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{(}\StringTok{'Copy ID:     '}\NormalTok{, }\BuiltInTok{id}\NormalTok{(copy_test))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> Copy ID:      140562897556416
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{original[}\DecValTok{0}\NormalTok{] }\OperatorTok{=} \DecValTok{999}  \CommentTok{## change original}
\BuiltInTok{print}\NormalTok{(original)    }
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> [999, 2, 3, 4, 5]
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{(copy_test)   }\CommentTok{## copy not affected}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> [1, 2, 3, 4, 5]
\end{verbatim}

\textbf{Passing To Function As Reference}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ func(x):}
    \BuiltInTok{print}\NormalTok{ (x)}
    \BuiltInTok{print}\NormalTok{(}\StringTok{'ID in Function:      '}\NormalTok{, }\BuiltInTok{id}\NormalTok{(x))}
\NormalTok{    x.append(}\DecValTok{6}\NormalTok{)    }\CommentTok{## modify the refrence}
    
\NormalTok{my_list }\OperatorTok{=}\NormalTok{ [}\DecValTok{1}\NormalTok{,}\DecValTok{2}\NormalTok{,}\DecValTok{3}\NormalTok{,}\DecValTok{4}\NormalTok{,}\DecValTok{5}\NormalTok{]}
\BuiltInTok{print}\NormalTok{(}\StringTok{'ID outside Function: '}\NormalTok{, }\BuiltInTok{id}\NormalTok{(my_list))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> ID outside Function:  140562897535856
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{func(my_list)  }\CommentTok{## call the function, pass the reference}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> [1, 2, 3, 4, 5]
#:> ID in Function:       140562897535856
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{(my_list) }\CommentTok{## content was altered}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> [1, 2, 3, 4, 5, 6]
\end{verbatim}

\hypertarget{list-is-iterable}{%
\subsection{List Is Iterable}\label{list-is-iterable}}

\hypertarget{for-loop}{%
\subsubsection{For Loop}\label{for-loop}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{s }\OperatorTok{=}\NormalTok{ [}\StringTok{'abc'}\NormalTok{,}\StringTok{'abcd'}\NormalTok{,}\StringTok{'bcde'}\NormalTok{,}\StringTok{'bcdee'}\NormalTok{,}\StringTok{'cdefg'}\NormalTok{]}
\ControlFlowTok{for}\NormalTok{ x }\KeywordTok{in}\NormalTok{ s:}
    \ControlFlowTok{if} \StringTok{'abc'} \KeywordTok{in}\NormalTok{ x:}
        \BuiltInTok{print}\NormalTok{ (x)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> abc
#:> abcd
\end{verbatim}

\hypertarget{list-comprehension}{%
\subsubsection{List Comprehension}\label{list-comprehension}}

This code below is a shorform method of \textbf{for loop and if}.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{old_list }\OperatorTok{=}\NormalTok{ [}\StringTok{'abc'}\NormalTok{,}\StringTok{'abcd'}\NormalTok{,}\StringTok{'bcde'}\NormalTok{,}\StringTok{'bcdee'}\NormalTok{,}\StringTok{'cdefg'}\NormalTok{]}
\NormalTok{[x }\ControlFlowTok{for}\NormalTok{ x }\KeywordTok{in}\NormalTok{ old_list }\ControlFlowTok{if} \StringTok{'abc'} \KeywordTok{in}\NormalTok{ x]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> ['abc', 'abcd']
\end{verbatim}

Compare to traditional version of code below:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{new_list }\OperatorTok{=}\NormalTok{ []}
\NormalTok{old_list }\OperatorTok{=}\NormalTok{ [}\StringTok{'abc'}\NormalTok{,}\StringTok{'abcd'}\NormalTok{,}\StringTok{'bcde'}\NormalTok{,}\StringTok{'bcdee'}\NormalTok{,}\StringTok{'cdefg'}\NormalTok{]}
\ControlFlowTok{for}\NormalTok{ x }\KeywordTok{in}\NormalTok{ old_list:}
    \ControlFlowTok{if} \StringTok{'abc'} \KeywordTok{in}\NormalTok{ x:}
\NormalTok{        new_list.append(x)}
        
\BuiltInTok{print}\NormalTok{( new_list )}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> ['abc', 'abcd']
\end{verbatim}

\hypertarget{conversion}{%
\subsection{Conversion}\label{conversion}}

Convert mutable list to immutable \textbf{tuple} with \textbf{\texttt{tuple()}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{original }\OperatorTok{=}\NormalTok{ [}\DecValTok{1}\NormalTok{,}\DecValTok{2}\NormalTok{,}\DecValTok{3}\NormalTok{]}
\NormalTok{original_tuple }\OperatorTok{=} \BuiltInTok{tuple}\NormalTok{(original)}
\BuiltInTok{print}\NormalTok{( }\BuiltInTok{id}\NormalTok{(original),}
       \BuiltInTok{id}\NormalTok{(original_tuple))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 140562897559216 140562897559056
\end{verbatim}

\hypertarget{built-in-functions-applicable-to-list}{%
\subsection{Built-In Functions Applicable To List}\label{built-in-functions-applicable-to-list}}

\textbf{Number of Elements}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{len}\NormalTok{(food)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 6
\end{verbatim}

\textbf{Max Value}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{test }\OperatorTok{=}\NormalTok{ [}\DecValTok{1}\NormalTok{,}\DecValTok{2}\NormalTok{,}\DecValTok{3}\NormalTok{,}\DecValTok{5}\NormalTok{,}\DecValTok{5}\NormalTok{,}\DecValTok{3}\NormalTok{,}\DecValTok{2}\NormalTok{,}\DecValTok{1}\NormalTok{]}
\NormalTok{m }\OperatorTok{=} \BuiltInTok{max}\NormalTok{(test)}
\NormalTok{test.index(m)  }\CommentTok{## only first occurance is found}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 3
\end{verbatim}

\hypertarget{dictionaries}{%
\section{Dictionaries}\label{dictionaries}}

Dictionary is a list of index-value items.

\hypertarget{creating-dict}{%
\subsection{Creating dict}\label{creating-dict}}

\hypertarget{from-literals}{%
\subsubsection{From Literals}\label{from-literals}}

\textbf{Simple Dictionary}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{animal_counts }\OperatorTok{=}\NormalTok{ \{ }\StringTok{'cats'}\NormalTok{ : }\DecValTok{2}\NormalTok{, }\StringTok{'dogs'}\NormalTok{ : }\DecValTok{5}\NormalTok{, }\StringTok{'horses'}\NormalTok{:}\DecValTok{4}\NormalTok{\}}
\BuiltInTok{print}\NormalTok{ (animal_counts)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> {'cats': 2, 'dogs': 5, 'horses': 4}
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{( }\BuiltInTok{type}\NormalTok{(animal_counts) )}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> <class 'dict'>
\end{verbatim}

\textbf{Dictionary with list}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{animal_names }\OperatorTok{=}\NormalTok{ \{}\StringTok{'cats'}\NormalTok{:   [}\StringTok{'Walter'}\NormalTok{,}\StringTok{'Ra'}\NormalTok{],}
                \StringTok{'dogs'}\NormalTok{:   [}\StringTok{'Jim'}\NormalTok{,}\StringTok{'Roy'}\NormalTok{,}\StringTok{'John'}\NormalTok{,}\StringTok{'Lucky'}\NormalTok{,}\StringTok{'Row'}\NormalTok{],}
                \StringTok{'horses'}\NormalTok{: [}\StringTok{'Sax'}\NormalTok{,}\StringTok{'Jack'}\NormalTok{,}\StringTok{'Ann'}\NormalTok{,}\StringTok{'Jeep'}\NormalTok{]}
\NormalTok{               \}}
\NormalTok{animal_names}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> {'cats': ['Walter', 'Ra'], 'dogs': ['Jim', 'Roy', 'John', 'Lucky', 'Row'], 'horses': ['Sax', 'Jack', 'Ann', 'Jeep']}
\end{verbatim}

\hypertarget{from-variables}{%
\subsubsection{From Variables}\label{from-variables}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{cat_names }\OperatorTok{=}\NormalTok{ [}\StringTok{'Walter'}\NormalTok{,}\StringTok{'Ra'}\NormalTok{,}\StringTok{'Jim'}\NormalTok{]}
\NormalTok{dog_names }\OperatorTok{=}\NormalTok{ [}\StringTok{'Jim'}\NormalTok{,}\StringTok{'Roy'}\NormalTok{,}\StringTok{'John'}\NormalTok{,}\StringTok{'Lucky'}\NormalTok{,}\StringTok{'Row'}\NormalTok{]}
\NormalTok{horse_names}\OperatorTok{=}\NormalTok{ [}\StringTok{'Sax'}\NormalTok{,}\StringTok{'Jack'}\NormalTok{,}\StringTok{'Ann'}\NormalTok{,}\StringTok{'Jeep'}\NormalTok{]}
\NormalTok{animal_names }\OperatorTok{=}\NormalTok{ \{}\StringTok{'cats'}\NormalTok{: cat_names, }\StringTok{'dogs'}\NormalTok{: dog_names, }\StringTok{'horses'}\NormalTok{: horse_names\}}
\NormalTok{animal_names}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> {'cats': ['Walter', 'Ra', 'Jim'], 'dogs': ['Jim', 'Roy', 'John', 'Lucky', 'Row'], 'horses': ['Sax', 'Jack', 'Ann', 'Jeep']}
\end{verbatim}

\hypertarget{accessing-dict}{%
\subsection{Accessing dict}\label{accessing-dict}}

\hypertarget{get-all-keys}{%
\subsubsection{Get All Keys}\label{get-all-keys}}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{ (animal_names.keys())}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> dict_keys(['cats', 'dogs', 'horses'])
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{ (}\BuiltInTok{sorted}\NormalTok{(animal_names.keys()))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> ['cats', 'dogs', 'horses']
\end{verbatim}

\hypertarget{get-all-values}{%
\subsubsection{Get All Values}\label{get-all-values}}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{ (animal_names.values())}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> dict_values([['Walter', 'Ra', 'Jim'], ['Jim', 'Roy', 'John', 'Lucky', 'Row'], ['Sax', 'Jack', 'Ann', 'Jeep']])
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{ (}\BuiltInTok{sorted}\NormalTok{(animal_names.values()))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> [['Jim', 'Roy', 'John', 'Lucky', 'Row'], ['Sax', 'Jack', 'Ann', 'Jeep'], ['Walter', 'Ra', 'Jim']]
\end{verbatim}

\hypertarget{access-value-with-specific-key}{%
\subsubsection{Access value with Specific Key}\label{access-value-with-specific-key}}

Use \textbf{\texttt{{[}\ key\ {]}}} notation. However, this will return \textbf{Error} if key does not exist

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{animal_names[}\StringTok{'dogs'}\NormalTok{]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> ['Jim', 'Roy', 'John', 'Lucky', 'Row']
\end{verbatim}

Use \textbf{\texttt{get(\ key\ )}} notation. will return None if key does not exist

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{ (animal_counts.get(}\StringTok{'cow'}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> None
\end{verbatim}

\hypertarget{dict-is-mutable}{%
\subsection{Dict Is Mutable}\label{dict-is-mutable}}

\hypertarget{updateappend}{%
\subsubsection{Update/Append}\label{updateappend}}

Use \textbf{{[}key{]}} notation to \textbf{update} o \textbf{append} the content of element.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{animal_names[}\StringTok{'dogs'}\NormalTok{] }\OperatorTok{=}\NormalTok{ [}\StringTok{'Ali'}\NormalTok{,}\StringTok{'Abu'}\NormalTok{,}\StringTok{'Bakar'}\NormalTok{]}
\NormalTok{animal_names}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> {'cats': ['Walter', 'Ra', 'Jim'], 'dogs': ['Ali', 'Abu', 'Bakar'], 'horses': ['Sax', 'Jack', 'Ann', 'Jeep']}
\end{verbatim}

Use \textbf{\texttt{clear()}} to erase all elements

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{animal_names.clear()}
\end{Highlighting}
\end{Shaded}

\hypertarget{iterating-elements}{%
\subsection{Iterating Elements}\label{iterating-elements}}

Loop through \textbf{\texttt{.items()}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{animal_dict }\OperatorTok{=}\NormalTok{ \{ }\StringTok{'cats'}\NormalTok{ : }\DecValTok{2}\NormalTok{, }\StringTok{'dogs'}\NormalTok{ : }\DecValTok{5}\NormalTok{, }\StringTok{'horses'}\NormalTok{:}\DecValTok{4}\NormalTok{\}}

\ControlFlowTok{for}\NormalTok{ key,val }\KeywordTok{in}\NormalTok{ animal_dict.items():}
  \BuiltInTok{print}\NormalTok{( key, val )}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> cats 2
#:> dogs 5
#:> horses 4
\end{verbatim}

\hypertarget{sets}{%
\section{Sets}\label{sets}}

Set is \textbf{unordered} collection of \textbf{unique items}. Set is \textbf{mutable}

\hypertarget{creation}{%
\subsection{Creation}\label{creation}}

Set can be declared with \texttt{\{\}}, unlike list creation uses `{[}{]}'.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{myset }\OperatorTok{=}\NormalTok{ \{}\StringTok{'a'}\NormalTok{,}\StringTok{'b'}\NormalTok{,}\StringTok{'c'}\NormalTok{,}\StringTok{'d'}\NormalTok{,}\StringTok{'a'}\NormalTok{,}\StringTok{'b'}\NormalTok{,}\StringTok{'e'}\NormalTok{,}\StringTok{'f'}\NormalTok{,}\StringTok{'g'}\NormalTok{\}}
\BuiltInTok{print}\NormalTok{ (myset) }\CommentTok{# notice no repetition values}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> {'a', 'g', 'c', 'b', 'f', 'e', 'd'}
\end{verbatim}

Set can be created from list, and then converted back to list

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{mylist }\OperatorTok{=}\NormalTok{ [}\StringTok{'a'}\NormalTok{,}\StringTok{'b'}\NormalTok{,}\StringTok{'c'}\NormalTok{,}\StringTok{'d'}\NormalTok{,}\StringTok{'a'}\NormalTok{,}\StringTok{'b'}\NormalTok{,}\StringTok{'e'}\NormalTok{,}\StringTok{'f'}\NormalTok{,}\StringTok{'g'}\NormalTok{]}
\NormalTok{myset }\OperatorTok{=} \BuiltInTok{set}\NormalTok{(mylist)}
\NormalTok{my_unique_list }\OperatorTok{=} \BuiltInTok{list}\NormalTok{(myset)}
\BuiltInTok{print}\NormalTok{ (}
  \StringTok{'Original List       : '}\NormalTok{, mylist,}
  \StringTok{'}\CharTok{\textbackslash{}n}\StringTok{Convert to set      : '}\NormalTok{, myset,}
  \StringTok{'}\CharTok{\textbackslash{}n}\StringTok{Convert back to list: '}\NormalTok{, my_unique_list) }\CommentTok{# notice no repetition values}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> Original List       :  ['a', 'b', 'c', 'd', 'a', 'b', 'e', 'f', 'g'] 
#:> Convert to set      :  {'a', 'g', 'c', 'b', 'f', 'e', 'd'} 
#:> Convert back to list:  ['a', 'g', 'c', 'b', 'f', 'e', 'd']
\end{verbatim}

\hypertarget{membership-test}{%
\subsection{Membership Test}\label{membership-test}}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{ (}\StringTok{'a'} \KeywordTok{in}\NormalTok{ myset)      }\CommentTok{# is member ?}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> True
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{ (}\StringTok{'f'} \KeywordTok{not} \KeywordTok{in}\NormalTok{ myset)  }\CommentTok{# is not member ?}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> False
\end{verbatim}

\hypertarget{subset-test}{%
\subsection{Subset Test}\label{subset-test}}

Subset Test : \textless=\\
Proper Subset Test : \textless{}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{mysubset }\OperatorTok{=}\NormalTok{ \{}\StringTok{'d'}\NormalTok{,}\StringTok{'g'}\NormalTok{\}}
\NormalTok{mysubset }\OperatorTok{<=}\NormalTok{ myset}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> True
\end{verbatim}

Proper Subset test that the master set \textbf{contain at least one element} which is not in the subset

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{mysubset }\OperatorTok{=}\NormalTok{ \{}\StringTok{'b'}\NormalTok{,}\StringTok{'a'}\NormalTok{,}\StringTok{'d'}\NormalTok{,}\StringTok{'c'}\NormalTok{,}\StringTok{'e'}\NormalTok{,}\StringTok{'f'}\NormalTok{,}\StringTok{'g'}\NormalTok{\}}
\BuiltInTok{print}\NormalTok{ (}\StringTok{'Is Subset : '}\NormalTok{, mysubset }\OperatorTok{<=}\NormalTok{ myset)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> Is Subset :  True
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{ (}\StringTok{'Is Proper Subet : '}\NormalTok{, mysubset }\OperatorTok{<}\NormalTok{ myset)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> Is Proper Subet :  False
\end{verbatim}

\hypertarget{union-using}{%
\subsection{\texorpdfstring{Union using \texttt{\textbar{}}}{Union using \textbar{}}}\label{union-using}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{\{}\StringTok{'a'}\NormalTok{,}\StringTok{'b'}\NormalTok{,}\StringTok{'c'}\NormalTok{\} }\OperatorTok{|}\NormalTok{ \{}\StringTok{'a'}\NormalTok{,}\StringTok{'e'}\NormalTok{,}\StringTok{'f'}\NormalTok{\}}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> {'a', 'c', 'b', 'e', 'f'}
\end{verbatim}

\hypertarget{intersection-using}{%
\subsection{\texorpdfstring{Intersection using \texttt{\&}}{Intersection using \&}}\label{intersection-using}}

Any elments that exist in both left and right set

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{\{}\StringTok{'a'}\NormalTok{,}\StringTok{'b'}\NormalTok{,}\StringTok{'c'}\NormalTok{,}\StringTok{'d'}\NormalTok{\} }\OperatorTok{&}\NormalTok{ \{}\StringTok{'c'}\NormalTok{,}\StringTok{'d'}\NormalTok{,}\StringTok{'e'}\NormalTok{,}\StringTok{'f'}\NormalTok{\}}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> {'c', 'd'}
\end{verbatim}

\hypertarget{difference-using--}{%
\subsection{\texorpdfstring{Difference using \texttt{-}}{Difference using -}}\label{difference-using--}}

Remove \textbf{right} from \textbf{left}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{\{}\StringTok{'a'}\NormalTok{,}\StringTok{'b'}\NormalTok{,}\StringTok{'c'}\NormalTok{,}\StringTok{'d'}\NormalTok{\} }\OperatorTok{-}\NormalTok{ \{}\StringTok{'c'}\NormalTok{,}\StringTok{'d'}\NormalTok{,}\StringTok{'e'}\NormalTok{,}\StringTok{'f'}\NormalTok{\}}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> {'a', 'b'}
\end{verbatim}

\hypertarget{range}{%
\section{range}\label{range}}

\textbf{range(X)} generates sequence of integer object

\begin{verbatim}
range (lower_bound, upper_bound, step_size)  
# lower bound is optional, default = 0
# upper bound is not included in result
# step is optional, default = 1
\end{verbatim}

\textbf{Use list() to convert in order to view actual sequence of data}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{r }\OperatorTok{=} \BuiltInTok{range}\NormalTok{(}\DecValTok{10}\NormalTok{)     }\CommentTok{# default lower bound =0, step =1}
\BuiltInTok{print}\NormalTok{ (}\BuiltInTok{type}\NormalTok{ (r))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> <class 'range'>
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{ (r)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> range(0, 10)
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{ (}\BuiltInTok{list}\NormalTok{(r))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
\end{verbatim}

\textbf{More Examples}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{ (}\BuiltInTok{list}\NormalTok{(}\BuiltInTok{range}\NormalTok{(}\DecValTok{2}\NormalTok{,}\DecValTok{8}\NormalTok{)))    }\CommentTok{# step not specified, default 1}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> [2, 3, 4, 5, 6, 7]
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{ (}\StringTok{'Odds Number : '}\NormalTok{ , }\BuiltInTok{list}\NormalTok{(}\BuiltInTok{range}\NormalTok{(}\DecValTok{1}\NormalTok{,}\DecValTok{10}\NormalTok{,}\DecValTok{2}\NormalTok{))) }\CommentTok{# generate odds number}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> Odds Number :  [1, 3, 5, 7, 9]
\end{verbatim}

\hypertarget{control-and-loops}{%
\chapter{Control and Loops}\label{control-and-loops}}

\hypertarget{if-statement}{%
\section{If Statement}\label{if-statement}}

\hypertarget{multiline-if..-statements}{%
\subsection{Multiline If.. Statements}\label{multiline-if..-statements}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{price }\OperatorTok{=} \DecValTok{102}
\ControlFlowTok{if}\NormalTok{ price }\OperatorTok{<}\DecValTok{100}\NormalTok{:}
    \BuiltInTok{print}\NormalTok{ (}\StringTok{'buy'}\NormalTok{)}
\ControlFlowTok{elif}\NormalTok{ price }\OperatorTok{<} \DecValTok{110}\NormalTok{:}
    \BuiltInTok{print}\NormalTok{ (}\StringTok{'hold'}\NormalTok{)}
\ControlFlowTok{elif}\NormalTok{ price }\OperatorTok{<} \DecValTok{120}\NormalTok{:}
    \BuiltInTok{print}\NormalTok{ (}\StringTok{'think about it'}\NormalTok{)}
\ControlFlowTok{else}\NormalTok{:}
    \BuiltInTok{print}\NormalTok{ (}\StringTok{'sell'}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> hold
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{(}\StringTok{'end of programming'}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> end of programming
\end{verbatim}

\hypertarget{single-line-if-..-statement}{%
\subsection{Single Line If .. Statement}\label{single-line-if-..-statement}}

\hypertarget{if-in-one-statement}{%
\subsubsection{if \ldots{} In One Statement}\label{if-in-one-statement}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{price }\OperatorTok{=} \DecValTok{70}
\ControlFlowTok{if}\NormalTok{ price}\OperatorTok{<}\DecValTok{80}\NormalTok{: }\BuiltInTok{print}\NormalTok{(}\StringTok{'buy'}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> buy
\end{verbatim}

\hypertarget{ternary-statemnt}{%
\subsubsection{Ternary Statemnt}\label{ternary-statemnt}}

This statement return a value with simple condition

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{price }\OperatorTok{=} \DecValTok{85}
\CommentTok{'buy'} \ControlFlowTok{if}\NormalTok{ (price}\OperatorTok{<}\DecValTok{80}\NormalTok{) }\ControlFlowTok{else} \StringTok{'dont buy'}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 'dont buy'
\end{verbatim}

\hypertarget{for-loops}{%
\section{For Loops}\label{for-loops}}

\hypertarget{for-..-else-construct}{%
\subsection{For .. Else Construct}\label{for-..-else-construct}}

\textbf{\texttt{else}} is only executed when the for loop \textbf{completed all cycles}

\begin{Shaded}
\begin{Highlighting}[]

\NormalTok{mylist }\OperatorTok{=}\NormalTok{ [}\DecValTok{1}\NormalTok{,}\DecValTok{2}\NormalTok{,}\DecValTok{3}\NormalTok{,}\DecValTok{4}\NormalTok{,}\DecValTok{5}\NormalTok{]}

\ControlFlowTok{for}\NormalTok{ i }\KeywordTok{in}\NormalTok{ mylist:}
  \BuiltInTok{print}\NormalTok{ (i)}
\ControlFlowTok{else}\NormalTok{:}
  \BuiltInTok{print}\NormalTok{(}\StringTok{'Hooray, the loop is completed successfully'}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 1
#:> 2
#:> 3
#:> 4
#:> 5
#:> Hooray, the loop is completed successfully
\end{verbatim}

In below exmaple, for loop encountered \textbf{\texttt{break}}, hence the \textbf{\texttt{else}} section is not executed.

\begin{Shaded}
\begin{Highlighting}[]
\ControlFlowTok{for}\NormalTok{ i }\KeywordTok{in}\NormalTok{ mylist:}
  \ControlFlowTok{if}\NormalTok{ i }\OperatorTok{<} \DecValTok{4}\NormalTok{:}
    \BuiltInTok{print}\NormalTok{ (i)}
  \ControlFlowTok{else}\NormalTok{:}
    \BuiltInTok{print}\NormalTok{(}\StringTok{'Oops, I am breaking out half way in the loop'}\NormalTok{)}
    \ControlFlowTok{break}
\ControlFlowTok{else}\NormalTok{:}
  \BuiltInTok{print}\NormalTok{(}\StringTok{'Hooray, the loop is completed successfully'}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 1
#:> 2
#:> 3
#:> Oops, I am breaking out half way in the loop
\end{verbatim}

\hypertarget{loop-thorugh-range}{%
\subsection{Loop thorugh `range'}\label{loop-thorugh-range}}

\begin{Shaded}
\begin{Highlighting}[]
\ControlFlowTok{for}\NormalTok{ i }\KeywordTok{in} \BuiltInTok{range}\NormalTok{ (}\DecValTok{1}\NormalTok{,}\DecValTok{10}\NormalTok{,}\DecValTok{2}\NormalTok{):}
    \BuiltInTok{print}\NormalTok{ (}\StringTok{'Odds Number : '}\NormalTok{,i) }
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> Odds Number :  1
#:> Odds Number :  3
#:> Odds Number :  5
#:> Odds Number :  7
#:> Odds Number :  9
\end{verbatim}

\hypertarget{loop-through-list}{%
\subsection{Loop through `list'}\label{loop-through-list}}

\hypertarget{standard-for-loop}{%
\subsubsection{Standard For Loop}\label{standard-for-loop}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{letters }\OperatorTok{=}\NormalTok{ [}\StringTok{'a'}\NormalTok{,}\StringTok{'b'}\NormalTok{,}\StringTok{'c'}\NormalTok{,}\StringTok{'d'}\NormalTok{]}
\ControlFlowTok{for}\NormalTok{ e }\KeywordTok{in}\NormalTok{ letters:}
    \BuiltInTok{print}\NormalTok{ (}\StringTok{'Letter : '}\NormalTok{,e)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> Letter :  a
#:> Letter :  b
#:> Letter :  c
#:> Letter :  d
\end{verbatim}

\hypertarget{list-comprehension-1}{%
\subsubsection{List Comprehension}\label{list-comprehension-1}}

Iterate through existing list, and \textbf{build new list} based on condition\\
\texttt{new\_list\ =\ {[}expression(i)\ for\ i\ in\ old\_list{]}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{s }\OperatorTok{=}\NormalTok{ [}\StringTok{'abc'}\NormalTok{,}\StringTok{'abcd'}\NormalTok{,}\StringTok{'bcde'}\NormalTok{,}\StringTok{'bcdee'}\NormalTok{,}\StringTok{'cdefg'}\NormalTok{]}
\NormalTok{[x.upper() }\ControlFlowTok{for}\NormalTok{ x }\KeywordTok{in}\NormalTok{ s]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> ['ABC', 'ABCD', 'BCDE', 'BCDEE', 'CDEFG']
\end{verbatim}

Extend list comprehension can be extended with \textbf{\texttt{if}} condition**\\
\texttt{new\_list\ =\ {[}expression(i)\ for\ i\ in\ old\_list\ if\ filter(i){]}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{old_list    }\OperatorTok{=}\NormalTok{ [}\StringTok{'abc'}\NormalTok{,}\StringTok{'abcd'}\NormalTok{,}\StringTok{'bcde'}\NormalTok{,}\StringTok{'bcdee'}\NormalTok{,}\StringTok{'cdefg'}\NormalTok{]}
\NormalTok{matching }\OperatorTok{=}\NormalTok{ [ x.upper() }\ControlFlowTok{for}\NormalTok{ x }\KeywordTok{in}\NormalTok{ old_list }\ControlFlowTok{if} \StringTok{'bcd'} \KeywordTok{in}\NormalTok{ x ]}
\BuiltInTok{print}\NormalTok{( matching )}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> ['ABCD', 'BCDE', 'BCDEE']
\end{verbatim}

\hypertarget{loop-through-dictionary}{%
\subsection{Loop Through `Dictionary'}\label{loop-through-dictionary}}

Looping through dict will picup \textbf{key}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{d }\OperatorTok{=}\NormalTok{ \{}\StringTok{"x"}\NormalTok{: }\DecValTok{1}\NormalTok{, }\StringTok{"y"}\NormalTok{: }\DecValTok{2}\NormalTok{\}}
\ControlFlowTok{for}\NormalTok{ key }\KeywordTok{in}\NormalTok{ d:}
    \BuiltInTok{print}\NormalTok{ (key, d[key])}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> x 1
#:> y 2
\end{verbatim}

\hypertarget{generators}{%
\section{Generators}\label{generators}}

\begin{itemize}
\tightlist
\item
  Generator is lazy, produce items only if asked for, hence more memory efficient
\item
  Generator is \textbf{function} with `yield' instead of `return'\\
\item
  Generator contains one or more yields statement\\
\item
  When called, it returns an object (iterator) but \textbf{does not start execution} immediately\\
\item
  Methods like \textbf{iter}() and \textbf{next}() are implemented automatically. So we can iterate through the items using \textbf{next()}\\
\item
  Once the function yields, the \textbf{function is paused} and the control is transferred to the caller\\
\item
  Local variables and their states are \textbf{remembered} between successive calls\\
\item
  Finally, when the function \textbf{terminates}, \textbf{StopIteration} is raised automatically on further calls
\end{itemize}

\hypertarget{basic-generator-function}{%
\subsection{Basic Generator Function}\label{basic-generator-function}}

Below example give clear understanding of how generator works

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ my_gen():}
\NormalTok{    n }\OperatorTok{=} \DecValTok{1}
    \BuiltInTok{print}\NormalTok{(}\StringTok{'This is printed first'}\NormalTok{)}
    \CommentTok{# Generator function contains yield statements}
    \ControlFlowTok{yield}\NormalTok{ n}

\NormalTok{    n }\OperatorTok{+=} \DecValTok{1}
    \BuiltInTok{print}\NormalTok{(}\StringTok{'This is printed second'}\NormalTok{)}
    \ControlFlowTok{yield}\NormalTok{ n}

\NormalTok{    n }\OperatorTok{+=} \DecValTok{1}
    \BuiltInTok{print}\NormalTok{(}\StringTok{'This is printed at last'}\NormalTok{)}
    \ControlFlowTok{yield}\NormalTok{ n}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a }\OperatorTok{=}\NormalTok{ my_gen()}
\BuiltInTok{type}\NormalTok{(a)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> <class 'generator'>
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{next}\NormalTok{(a)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> This is printed first
#:> 1
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{next}\NormalTok{(a)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> This is printed second
#:> 2
\end{verbatim}

\hypertarget{useful-generator-fuction}{%
\subsection{Useful Generator Fuction}\label{useful-generator-fuction}}

Generator is only useful when it uses \textbf{for-loop} - for-loop within generator - for-loop to iterate through a generator

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ rev_str(my_str):}
\NormalTok{    length }\OperatorTok{=} \BuiltInTok{len}\NormalTok{(my_str)}
    \ControlFlowTok{for}\NormalTok{ i }\KeywordTok{in} \BuiltInTok{range}\NormalTok{(length }\OperatorTok{-} \DecValTok{1}\NormalTok{,}\OperatorTok{-}\DecValTok{1}\NormalTok{,}\OperatorTok{-}\DecValTok{1}\NormalTok{):}
        \ControlFlowTok{yield}\NormalTok{ my_str[i]}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\ControlFlowTok{for}\NormalTok{ c }\KeywordTok{in}\NormalTok{ rev_str(}\StringTok{"hello"}\NormalTok{):}
     \BuiltInTok{print}\NormalTok{(c)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> o
#:> l
#:> l
#:> e
#:> h
\end{verbatim}

\hypertarget{generator-expression}{%
\subsection{Generator Expression}\label{generator-expression}}

Use () to create an annonymous generator function

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{my_list }\OperatorTok{=}\NormalTok{ [}\DecValTok{1}\NormalTok{, }\DecValTok{3}\NormalTok{, }\DecValTok{6}\NormalTok{, }\DecValTok{10}\NormalTok{]}
\NormalTok{a }\OperatorTok{=}\NormalTok{ (x}\OperatorTok{**}\DecValTok{2} \ControlFlowTok{for}\NormalTok{ x }\KeywordTok{in}\NormalTok{ my_list)}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{next}\NormalTok{(a)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 1
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{next}\NormalTok{(a)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 9
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{sum}\NormalTok{(a) }\CommentTok{# sum the power of 6,10}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 136
\end{verbatim}

\hypertarget{compare-to-iterator-class}{%
\subsection{Compare to Iterator Class}\label{compare-to-iterator-class}}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{class}\NormalTok{ PowTwo:}
    \KeywordTok{def} \FunctionTok{__init__}\NormalTok{(}\VariableTok{self}\NormalTok{, }\BuiltInTok{max} \OperatorTok{=} \DecValTok{0}\NormalTok{):}
        \VariableTok{self}\NormalTok{.}\BuiltInTok{max} \OperatorTok{=} \BuiltInTok{max}

    \KeywordTok{def} \FunctionTok{__iter__}\NormalTok{(}\VariableTok{self}\NormalTok{):}
        \VariableTok{self}\NormalTok{.n }\OperatorTok{=} \DecValTok{0}
        \ControlFlowTok{return} \VariableTok{self}

    \KeywordTok{def} \FunctionTok{__next__}\NormalTok{(}\VariableTok{self}\NormalTok{):}
        \ControlFlowTok{if} \VariableTok{self}\NormalTok{.n }\OperatorTok{>} \VariableTok{self}\NormalTok{.}\BuiltInTok{max}\NormalTok{:}
            \ControlFlowTok{raise} \PreprocessorTok{StopIteration}

\NormalTok{        result }\OperatorTok{=} \DecValTok{2} \OperatorTok{**} \VariableTok{self}\NormalTok{.n}
        \VariableTok{self}\NormalTok{.n }\OperatorTok{+=} \DecValTok{1}
        \ControlFlowTok{return}\NormalTok{ result}
\end{Highlighting}
\end{Shaded}

\textbf{Obviously, Generator is more concise and cleaner}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ PowTwoGen(}\BuiltInTok{max} \OperatorTok{=} \DecValTok{0}\NormalTok{):}
\NormalTok{    n }\OperatorTok{=} \DecValTok{0}
    \ControlFlowTok{while}\NormalTok{ n }\OperatorTok{<} \BuiltInTok{max}\NormalTok{:}
        \ControlFlowTok{yield} \DecValTok{2} \OperatorTok{**}\NormalTok{ n}
\NormalTok{        n }\OperatorTok{+=} \DecValTok{1}
\end{Highlighting}
\end{Shaded}

\hypertarget{library-and-functions}{%
\chapter{Library and Functions}\label{library-and-functions}}

Library are group of functions

\hypertarget{package-source}{%
\section{Package Source}\label{package-source}}

\hypertarget{conda-1}{%
\subsection{Conda}\label{conda-1}}

\begin{itemize}
\tightlist
\item
  Package manager for any language\\
\item
  Install binaries
\end{itemize}

\hypertarget{pip-1}{%
\subsection{PIP}\label{pip-1}}

\begin{itemize}
\tightlist
\item
  Package manager python only\\
\item
  Compile from source\\
\item
  Stands for Pip Installs Packages\\
\item
  Python's officially-sanctioned package manager, and is most commonly used to install packages published on the \textbf{Python Package Index (PyPI)}\\
\item
  Both pip and PyPI are governed and supported by the Python Packaging Authority (PyPA).
\end{itemize}

\hypertarget{importing-library}{%
\section{Importing Library}\label{importing-library}}

There are two methods to import library functions:

\textbf{Standalone Namespace}

\begin{verbatim}
- import <libName>                        # access function through: libName.functionName
- import <libName> as <shortName>         # access function through: shortName.functionName
\end{verbatim}

\textbf{Global Namespace}

\begin{verbatim}
- from   <libName> import *               # all functions available at global namespace
- from   <libName> import <functionName>  # access function through: functionName    
- from   <libName> import <functionName> as <shortFunctionName>  # access function through shortFunctionName
\end{verbatim}

\hypertarget{import-entire-library}{%
\subsection{Import Entire Library}\label{import-entire-library}}

\hypertarget{import-into-standalone-namespace}{%
\subsubsection{Import Into Standalone Namespace}\label{import-into-standalone-namespace}}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ math}
\NormalTok{math.sqrt(}\DecValTok{9}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 3.0
\end{verbatim}

Use \textbf{as} for aliasing library name. This is useful if you have conflicting library name

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ math }\ImportTok{as}\NormalTok{ m}
\NormalTok{m.sqrt(}\DecValTok{9}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 3.0
\end{verbatim}

\hypertarget{import-into-global-name-space}{%
\subsubsection{Import Into Global Name Space}\label{import-into-global-name-space}}

All functions in the library accessible through global namespace

\begin{verbatim}
from <libName> import *
\end{verbatim}

\hypertarget{import-specific-function}{%
\subsection{Import Specific Function}\label{import-specific-function}}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ math }\ImportTok{import}\NormalTok{ sqrt}
\BuiltInTok{print}\NormalTok{ (sqrt(}\DecValTok{9}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 3.0
\end{verbatim}

Use \textbf{as} for aliasing function name

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ math }\ImportTok{import}\NormalTok{ sqrt }\ImportTok{as}\NormalTok{ sq}
\BuiltInTok{print}\NormalTok{ (sq(}\DecValTok{9}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 3.0
\end{verbatim}

\hypertarget{machine-learning-packages}{%
\subsection{Machine Learning Packages}\label{machine-learning-packages}}

\begin{figure}
\centering
\includegraphics{img/ml_libraries.jpg}
\caption{alt text}
\end{figure}

\hypertarget{define-function}{%
\section{Define Function}\label{define-function}}

\hypertarget{function-arguments}{%
\subsection{Function Arguments}\label{function-arguments}}

By default, arguments are assigned to function left to right

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ myfun(x,y):}
    \BuiltInTok{print}\NormalTok{ (}\StringTok{'x:'}\NormalTok{,x)}
    \BuiltInTok{print}\NormalTok{ (}\StringTok{'y:'}\NormalTok{,y)}
    
\NormalTok{myfun(}\DecValTok{5}\NormalTok{,}\DecValTok{8}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> x: 5
#:> y: 8
\end{verbatim}

However, you can also specify the argument assigment during function call

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{myfun (y}\OperatorTok{=}\DecValTok{8}\NormalTok{,x}\OperatorTok{=}\DecValTok{5}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> x: 5
#:> y: 8
\end{verbatim}

Function can have \textbf{default argement value}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ myfun(x}\OperatorTok{=}\DecValTok{1}\NormalTok{,y}\OperatorTok{=}\DecValTok{1}\NormalTok{):  }\CommentTok{# default argument value is 1}
    \BuiltInTok{print}\NormalTok{ (}\StringTok{'x:'}\NormalTok{,x)}
    \BuiltInTok{print}\NormalTok{ (}\StringTok{'y:'}\NormalTok{,y)}
    
\NormalTok{myfun(}\DecValTok{5}\NormalTok{)  }\CommentTok{# pass only one argument}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> x: 5
#:> y: 1
\end{verbatim}

\hypertarget{list-within-function}{%
\subsection{List Within Function}\label{list-within-function}}

Consider a function is an object, its variable (some\_list) is immutable and hence its reference won't change, even data changes

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ spam (elem, some_list}\OperatorTok{=}\NormalTok{[]):}
\NormalTok{    some_list.append(elem)}
    \ControlFlowTok{return}\NormalTok{ some_list}

\BuiltInTok{print}\NormalTok{ (spam(}\DecValTok{1}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> [1]
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{ (spam(}\DecValTok{2}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> [1, 2]
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{ (spam(}\DecValTok{3}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> [1, 2, 3]
\end{verbatim}

\hypertarget{return-statement}{%
\subsection{Return Statement}\label{return-statement}}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ bigger(x,y):}
    \ControlFlowTok{if}\NormalTok{ (x}\OperatorTok{>}\NormalTok{y):}
        \ControlFlowTok{return}\NormalTok{ x}
    \ControlFlowTok{else}\NormalTok{:}
        \ControlFlowTok{return}\NormalTok{ y}
    
\BuiltInTok{print}\NormalTok{ (bigger(}\DecValTok{5}\NormalTok{,}\DecValTok{8}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 8
\end{verbatim}

\hypertarget{no-return-statement}{%
\subsection{No Return Statement}\label{no-return-statement}}

if no \textbf{return} statement, python return \textbf{None}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ dummy():}
    \BuiltInTok{print}\NormalTok{ (}\StringTok{'This is a dummy function, return no value'}\NormalTok{)}

\NormalTok{dummy()}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> This is a dummy function, return no value
\end{verbatim}

\hypertarget{return-multiple-value}{%
\subsection{Return Multiple Value}\label{return-multiple-value}}

Multiple value is returned as \textbf{tuple}. Use multiple assignment to assign to multiple variable

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ minmax(x,y,z):}
    \ControlFlowTok{return} \BuiltInTok{min}\NormalTok{(x,y,z), }\BuiltInTok{max}\NormalTok{(x,y,z)}

\NormalTok{a,b }\OperatorTok{=}\NormalTok{ minmax(}\DecValTok{7}\NormalTok{,}\DecValTok{8}\NormalTok{,}\DecValTok{9}\NormalTok{)     }\CommentTok{# multiple assignment}
\NormalTok{c   }\OperatorTok{=}\NormalTok{ minmax(}\DecValTok{7}\NormalTok{,}\DecValTok{8}\NormalTok{,}\DecValTok{9}\NormalTok{)     }\CommentTok{# tuple}

\BuiltInTok{print}\NormalTok{ (a,b)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 7 9
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{ (c)    }
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> (7, 9)
\end{verbatim}

\hypertarget{passing-function-as-argument}{%
\subsection{Passing Function as Argument}\label{passing-function-as-argument}}

You can pass a function name as an argument to a function

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ myfun(x,y,f):}
\NormalTok{    f(x,y)}

\NormalTok{myfun(}\StringTok{'hello'}\NormalTok{,}\DecValTok{54}\NormalTok{,}\BuiltInTok{print}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> hello 54
\end{verbatim}

\hypertarget{arguments}{%
\subsection{Arguments}\label{arguments}}

args is a \textbf{tuple}

\hypertarget{example-1}{%
\subsubsection{Example 1}\label{example-1}}

Error example, too many parameters passed over to function

\hypertarget{example-2}{%
\subsubsection{Example 2}\label{example-2}}

First argument goes to x, remaining goes to args as tuple

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ myfun(x,}\OperatorTok{*}\NormalTok{args):}
    \BuiltInTok{print}\NormalTok{ (x)}
    \BuiltInTok{print}\NormalTok{ (args)     }\CommentTok{#tuple}
    
\NormalTok{myfun(}\DecValTok{1}\NormalTok{,}\DecValTok{2}\NormalTok{,}\DecValTok{3}\NormalTok{,}\DecValTok{4}\NormalTok{,}\DecValTok{5}\NormalTok{,}\StringTok{'abc'}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 1
#:> (2, 3, 4, 5, 'abc')
\end{verbatim}

\hypertarget{example-3}{%
\subsubsection{Example 3}\label{example-3}}

First argument goes to x, second argument goest to y, remaining goes to args

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ myfun(x,y,}\OperatorTok{*}\NormalTok{args):}
    \BuiltInTok{print}\NormalTok{ (x)}
    \BuiltInTok{print}\NormalTok{ (y)}
    \BuiltInTok{print}\NormalTok{ (args)     }\CommentTok{#tuple}
    
\NormalTok{myfun(}\DecValTok{1}\NormalTok{,}\DecValTok{2}\NormalTok{,}\DecValTok{3}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 1
#:> 2
#:> (3,)
\end{verbatim}

\hypertarget{example-4}{%
\subsubsection{Example 4}\label{example-4}}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ myfun(x,}\OperatorTok{*}\NormalTok{args, y}\OperatorTok{=}\DecValTok{9}\NormalTok{):}
    \BuiltInTok{print}\NormalTok{ (x)}
    \BuiltInTok{print}\NormalTok{ (y)}
    \BuiltInTok{print}\NormalTok{ (args)     }\CommentTok{#tuple}
    
\NormalTok{myfun(}\DecValTok{1}\NormalTok{,}\DecValTok{2}\NormalTok{,}\DecValTok{3}\NormalTok{,}\DecValTok{4}\NormalTok{,}\DecValTok{5}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 1
#:> 9
#:> (2, 3, 4, 5)
\end{verbatim}

\hypertarget{example-5}{%
\subsubsection{Example 5}\label{example-5}}

All goes to args

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ myfun(}\OperatorTok{*}\NormalTok{args):}
    \BuiltInTok{print}\NormalTok{ (args)     }\CommentTok{#tuple}
    
\NormalTok{myfun(}\DecValTok{1}\NormalTok{,}\DecValTok{2}\NormalTok{,}\DecValTok{3}\NormalTok{,}\DecValTok{4}\NormalTok{,}\DecValTok{5}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> (1, 2, 3, 4, 5)
\end{verbatim}

\hypertarget{example-6-empty-args}{%
\subsubsection{Example 6 Empty args}\label{example-6-empty-args}}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ myfun(x,y,}\OperatorTok{*}\NormalTok{args):}
    \BuiltInTok{print}\NormalTok{ (x)}
    \BuiltInTok{print}\NormalTok{ (y)}
    \BuiltInTok{print}\NormalTok{ (args)}
    
\NormalTok{myfun(}\DecValTok{1}\NormalTok{,}\DecValTok{2}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 1
#:> 2
#:> ()
\end{verbatim}

\hypertarget{keyword-arguments}{%
\subsection{keyword arguments}\label{keyword-arguments}}

kwargs is a \textbf{dictionary}

\hypertarget{example-1-1}{%
\subsubsection{Example 1}\label{example-1-1}}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ foo(}\OperatorTok{**}\NormalTok{kwargs):}
    \BuiltInTok{print}\NormalTok{(kwargs)}
    
\NormalTok{foo(a}\OperatorTok{=}\DecValTok{1}\NormalTok{,b}\OperatorTok{=}\DecValTok{2}\NormalTok{,c}\OperatorTok{=}\DecValTok{3}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> {'a': 1, 'b': 2, 'c': 3}
\end{verbatim}

\hypertarget{example-2-1}{%
\subsubsection{Example 2}\label{example-2-1}}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ foo(x,}\OperatorTok{**}\NormalTok{kwargs):}
    \BuiltInTok{print}\NormalTok{(x)}
    \BuiltInTok{print}\NormalTok{(kwargs)}
    
\NormalTok{foo(}\DecValTok{9}\NormalTok{,a}\OperatorTok{=}\DecValTok{1}\NormalTok{,b}\OperatorTok{=}\DecValTok{2}\NormalTok{,c}\OperatorTok{=}\DecValTok{3}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 9
#:> {'a': 1, 'b': 2, 'c': 3}
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{foo(}\DecValTok{9}\NormalTok{) }\CommentTok{#empty dictionary}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 9
#:> {}
\end{verbatim}

\hypertarget{example-3-1}{%
\subsubsection{Example 3}\label{example-3-1}}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ foo(a,b,c,d}\OperatorTok{=}\DecValTok{1}\NormalTok{):}
    \BuiltInTok{print}\NormalTok{(a)}
    \BuiltInTok{print}\NormalTok{(b)}
    \BuiltInTok{print}\NormalTok{(c)}
    \BuiltInTok{print}\NormalTok{(d)}
    
\NormalTok{foo(}\OperatorTok{**}\NormalTok{\{}\StringTok{"a"}\NormalTok{:}\DecValTok{2}\NormalTok{,}\StringTok{"b"}\NormalTok{:}\DecValTok{3}\NormalTok{,}\StringTok{"c"}\NormalTok{:}\DecValTok{4}\NormalTok{\})}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 2
#:> 3
#:> 4
#:> 1
\end{verbatim}

\hypertarget{mixing-args-kwargs}{%
\subsection{Mixing *args, **kwargs}\label{mixing-args-kwargs}}

Always put args \textbf{before} kwargs

\hypertarget{example-1-2}{%
\subsubsection{Example 1}\label{example-1-2}}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ foo(x,y}\OperatorTok{=}\DecValTok{1}\NormalTok{,}\OperatorTok{**}\NormalTok{kwargs):}
    \BuiltInTok{print}\NormalTok{ (x)}
    \BuiltInTok{print}\NormalTok{ (y)}
    \BuiltInTok{print}\NormalTok{ (kwargs)}
    
\NormalTok{foo(}\DecValTok{1}\NormalTok{,}\DecValTok{2}\NormalTok{,c}\OperatorTok{=}\DecValTok{3}\NormalTok{,d}\OperatorTok{=}\DecValTok{4}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 1
#:> 2
#:> {'c': 3, 'd': 4}
\end{verbatim}

\hypertarget{example-2-2}{%
\subsubsection{Example 2}\label{example-2-2}}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ foo(x,y}\OperatorTok{=}\DecValTok{2}\NormalTok{,}\OperatorTok{*}\NormalTok{args,}\OperatorTok{**}\NormalTok{kwargs):}
    \BuiltInTok{print}\NormalTok{ (x)}
    \BuiltInTok{print}\NormalTok{ (y)}
    \BuiltInTok{print}\NormalTok{ (args)}
    \BuiltInTok{print}\NormalTok{ (kwargs)}
    
\NormalTok{foo(}\DecValTok{1}\NormalTok{,}\DecValTok{2}\NormalTok{,}\DecValTok{3}\NormalTok{,}\DecValTok{4}\NormalTok{,}\DecValTok{5}\NormalTok{,c}\OperatorTok{=}\DecValTok{6}\NormalTok{,d}\OperatorTok{=}\DecValTok{7}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 1
#:> 2
#:> (3, 4, 5)
#:> {'c': 6, 'd': 7}
\end{verbatim}

\hypertarget{exception-handling}{%
\chapter{Exception Handling}\label{exception-handling}}

The try statement works as follows:\\
- First, the try clause (the statement(s) between the try and except keywords) is executed\\
- If no exception occurs, the except clause is skipped and execution of the try statement is finished\\
- If an exception occurs during execution of the try clause, the rest of the clause is skipped. Then if its type matches the exception named after the except keyword, the except clause is executed, and then execution continues after the try statement\\
- If an exception occurs which does not match the exception named in the except clause, it is passed on to outer try statements; if no handler is found, it is an unhandled exception and execution stops with a message as shown above

A try statement may have more than one except clause, to specify handlers for different exceptions.

\hypertarget{catching-error}{%
\section{Catching Error}\label{catching-error}}

Different exception object has different attributes.

\begin{Shaded}
\begin{Highlighting}[]
\ControlFlowTok{try}\NormalTok{:}
\NormalTok{  a }\OperatorTok{=} \DecValTok{1} \OperatorTok{+} \StringTok{'a'}
  
\CommentTok{## known error  }
\ControlFlowTok{except} \PreprocessorTok{TypeError} \ImportTok{as}\NormalTok{ err:}
  \BuiltInTok{print}\NormalTok{(}\StringTok{'I know this error !!!!'}\NormalTok{,}
        \StringTok{'}\CharTok{\textbackslash{}n}\StringTok{ Error: '}\NormalTok{, err,}
        \StringTok{'}\CharTok{\textbackslash{}n}\StringTok{ Args:  '}\NormalTok{, err.args,}
        \StringTok{'}\CharTok{\textbackslash{}n}\StringTok{ Type:  '}\NormalTok{, }\BuiltInTok{type}\NormalTok{(err))}

\CommentTok{## all other error}
\ControlFlowTok{except} \PreprocessorTok{Exception} \ImportTok{as}\NormalTok{ err:}
  \BuiltInTok{print}\NormalTok{( }\StringTok{'Error: '}\NormalTok{, err,}
         \StringTok{'}\CharTok{\textbackslash{}n}\StringTok{Args:  '}\NormalTok{, err.args,}
         \StringTok{'}\CharTok{\textbackslash{}n}\StringTok{Type:  '}\NormalTok{, }\BuiltInTok{type}\NormalTok{(err))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> I know this error !!!! 
#:>  Error:  unsupported operand type(s) for +: 'int' and 'str' 
#:>  Args:   ("unsupported operand type(s) for +: 'int' and 'str'",) 
#:>  Type:   <class 'TypeError'>
\end{verbatim}

\hypertarget{custom-exception}{%
\section{Custom Exception}\label{custom-exception}}

\begin{Shaded}
\begin{Highlighting}[]
\ControlFlowTok{try}\NormalTok{:}
  \ControlFlowTok{raise} \PreprocessorTok{Exception}\NormalTok{(}\StringTok{'bloody'}\NormalTok{, }\StringTok{'hell'}\NormalTok{)  }\CommentTok{#simulate exception}
\ControlFlowTok{except} \PreprocessorTok{Exception} \ImportTok{as}\NormalTok{ err:}
  \BuiltInTok{print}\NormalTok{( }\StringTok{'Error: '}\NormalTok{, err,}
         \StringTok{'}\CharTok{\textbackslash{}n}\StringTok{Args:  '}\NormalTok{, err.args,}
         \StringTok{'}\CharTok{\textbackslash{}n}\StringTok{Type:  '}\NormalTok{, }\BuiltInTok{type}\NormalTok{(err))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> Error:  ('bloody', 'hell') 
#:> Args:   ('bloody', 'hell') 
#:> Type:   <class 'Exception'>
\end{verbatim}

\hypertarget{object-oriented-programming}{%
\chapter{Object Oriented Programming}\label{object-oriented-programming}}

\hypertarget{defining-class}{%
\section{Defining Class}\label{defining-class}}

\begin{itemize}
\tightlist
\item
  Every function within a class \textbf{must have} at least one parameter - \textbf{self}\\
\item
  Use \textbf{init} as the constructor function. \textbf{init} is optional
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{class}\NormalTok{ Person:}
\NormalTok{  wallet }\OperatorTok{=} \DecValTok{0}  \CommentTok{# }
  \KeywordTok{def} \FunctionTok{__init__}\NormalTok{(}\VariableTok{self}\NormalTok{, myname,money}\OperatorTok{=}\DecValTok{0}\NormalTok{):   }\CommentTok{# constructor}
      \VariableTok{self}\NormalTok{.name }\OperatorTok{=}\NormalTok{ myname}
      \VariableTok{self}\NormalTok{.wallet}\OperatorTok{=}\NormalTok{money}
      \BuiltInTok{print}\NormalTok{(}\StringTok{'I}\CharTok{\textbackslash{}'}\StringTok{m in Person Constructor: }\SpecialCharTok{\{\}}\StringTok{'}\NormalTok{.}\BuiltInTok{format}\NormalTok{(myname))}
  \KeywordTok{def}\NormalTok{ say_hi(}\VariableTok{self}\NormalTok{):}
      \BuiltInTok{print}\NormalTok{(}\StringTok{'Hello, my name is : '}\NormalTok{, }\VariableTok{self}\NormalTok{.name)}
  \KeywordTok{def}\NormalTok{ say_bye(}\VariableTok{self}\NormalTok{):}
      \BuiltInTok{print}\NormalTok{(}\StringTok{'Goodbye'}\NormalTok{, Person.ID)}
  \KeywordTok{def}\NormalTok{ take(}\VariableTok{self}\NormalTok{,amount):}
      \VariableTok{self}\NormalTok{.wallet}\OperatorTok{+=}\NormalTok{amount}
  \KeywordTok{def}\NormalTok{ balance(}\VariableTok{self}\NormalTok{):}
      \BuiltInTok{print}\NormalTok{(}\StringTok{'Wallet Balance:'}\NormalTok{,}\VariableTok{self}\NormalTok{.wallet)}
  \KeywordTok{def}\NormalTok{ MakeCry(}\VariableTok{self}\NormalTok{):}
      \VariableTok{self}\NormalTok{.Cry()}
      
\KeywordTok{class}\NormalTok{ Kid(Person):}
  \KeywordTok{def} \FunctionTok{__init__}\NormalTok{(}\VariableTok{self}\NormalTok{, myname, money}\OperatorTok{=}\DecValTok{0}\NormalTok{):}
      \BuiltInTok{print}\NormalTok{(}\StringTok{'I}\CharTok{\textbackslash{}'}\StringTok{m in Kid Constructor: }\SpecialCharTok{\{\}}\StringTok{'}\NormalTok{.}\BuiltInTok{format}\NormalTok{(myname))}
      \BuiltInTok{super}\NormalTok{().}\FunctionTok{__init__}\NormalTok{(myname}\OperatorTok{=}\NormalTok{myname, money}\OperatorTok{=}\NormalTok{money)}
  \KeywordTok{def}\NormalTok{ Cry(}\VariableTok{self}\NormalTok{):}
      \BuiltInTok{print}\NormalTok{(}\StringTok{'Kid is crying'}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\hypertarget{constructor-2}{%
\section{Constructor}\label{constructor-2}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{p1 }\OperatorTok{=}\NormalTok{ Person(}\StringTok{'Yong'}\NormalTok{)  }
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> I'm in Person Constructor: Yong
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{p2 }\OperatorTok{=}\NormalTok{ Person(}\StringTok{'Gan'}\NormalTok{,}\DecValTok{200}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> I'm in Person Constructor: Gan
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{p3 }\OperatorTok{=}\NormalTok{ Kid(}\StringTok{'Jolin'}\NormalTok{,}\DecValTok{50}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> I'm in Kid Constructor: Jolin
#:> I'm in Person Constructor: Jolin
\end{verbatim}

\hypertarget{calling-method}{%
\section{Calling Method}\label{calling-method}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{p1.say_hi()}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> Hello, my name is :  Yong
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{p1.balance()}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> Wallet Balance: 0
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{p3.Cry()}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> Kid is crying
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{p3.MakeCry()}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> Kid is crying
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{p2.say_hi()}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> Hello, my name is :  Gan
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{p2.balance()}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> Wallet Balance: 200
\end{verbatim}

\hypertarget{getting-property}{%
\section{Getting Property}\label{getting-property}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{p1.wallet}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 0
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{p2.wallet}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 200
\end{verbatim}

\hypertarget{setting-property}{%
\section{Setting Property}\label{setting-property}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{p1.wallet }\OperatorTok{=} \DecValTok{900}
\NormalTok{p1.wallet}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 900
\end{verbatim}

\hypertarget{decorator}{%
\chapter{Decorator}\label{decorator}}

\hypertarget{definition}{%
\section{Definition}\label{definition}}

\begin{itemize}
\tightlist
\item
  \textbf{Decorator} is a function that accept callable as the \textbf{only argument}
\item
  The main purpose of decarator is to \textbf{enhance} the program of the decorated function
\item
  It returns a \textbf{callable}
\end{itemize}

\hypertarget{examples}{%
\section{Examples}\label{examples}}

\hypertarget{example-1---plain-decorator-function}{%
\subsection{Example 1 - Plain decorator function}\label{example-1---plain-decorator-function}}

\begin{itemize}
\tightlist
\item
  Many times, it is useful to register a function elsewhere - for example, registering a task in a task runner, or a functin with signal handler
\item
  \textbf{register} is a decarator, it accept \textbf{decorated} as the only argument
\item
  foo() and bar() are the \textbf{decorated function} of \textbf{register}
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{registry }\OperatorTok{=}\NormalTok{ []}

\KeywordTok{def}\NormalTok{ register(decorated):}
\NormalTok{    registry.append(decorated)}
    \ControlFlowTok{return}\NormalTok{ decorated}

\AttributeTok{@register}
\KeywordTok{def}\NormalTok{ foo():}
    \ControlFlowTok{return} \DecValTok{3}

\AttributeTok{@register}
\KeywordTok{def}\NormalTok{ bar():}
    \ControlFlowTok{return} \DecValTok{5}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{registry}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> [<function foo at 0x7fd75992f830>, <function bar at 0x7fd75992f560>]
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{registry[}\DecValTok{0}\NormalTok{]()}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 3
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{registry[}\DecValTok{1}\NormalTok{]()}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 5
\end{verbatim}

\hypertarget{example-2---decorator-with-class}{%
\subsection{Example 2 - Decorator with Class}\label{example-2---decorator-with-class}}

\begin{itemize}
\tightlist
\item
  Extending the use case above
\item
  register is the \textbf{decarator}, it has only one argument
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{class}\NormalTok{ Registry(}\BuiltInTok{object}\NormalTok{):}
    \KeywordTok{def} \FunctionTok{__init__}\NormalTok{(}\VariableTok{self}\NormalTok{):}
        \VariableTok{self}\NormalTok{._functions }\OperatorTok{=}\NormalTok{ []}
    \KeywordTok{def}\NormalTok{ register(}\VariableTok{self}\NormalTok{,decorated):}
        \VariableTok{self}\NormalTok{._functions.append(decorated)}
        \ControlFlowTok{return}\NormalTok{ decorated}
    \KeywordTok{def}\NormalTok{ run_all(}\VariableTok{self}\NormalTok{,}\OperatorTok{*}\NormalTok{args,}\OperatorTok{**}\NormalTok{kwargs):}
\NormalTok{        return_values }\OperatorTok{=}\NormalTok{ []}
        \ControlFlowTok{for}\NormalTok{ func }\KeywordTok{in} \VariableTok{self}\NormalTok{._functions:}
\NormalTok{            return_values.append(func(}\OperatorTok{*}\NormalTok{args,}\OperatorTok{**}\NormalTok{kwargs))}
        \ControlFlowTok{return}\NormalTok{ return_values}
\end{Highlighting}
\end{Shaded}

The decorator will decorate two functions, for both object \textbf{a} and \textbf{b}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a }\OperatorTok{=}\NormalTok{ Registry()}
\NormalTok{b }\OperatorTok{=}\NormalTok{ Registry()}

\AttributeTok{@a.register}
\KeywordTok{def}\NormalTok{ foo(x}\OperatorTok{=}\DecValTok{3}\NormalTok{):}
    \ControlFlowTok{return}\NormalTok{ x}

\AttributeTok{@b.register}
\KeywordTok{def}\NormalTok{ bar(x}\OperatorTok{=}\DecValTok{5}\NormalTok{):}
    \ControlFlowTok{return}\NormalTok{ x}

\AttributeTok{@a.register}
\AttributeTok{@b.register}
\KeywordTok{def}\NormalTok{ bax(x}\OperatorTok{=}\DecValTok{7}\NormalTok{):}
    \ControlFlowTok{return}\NormalTok{ x}
\end{Highlighting}
\end{Shaded}

Observe the result

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{ (a._functions)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> [<function foo at 0x7fd75993af80>, <function bax at 0x7fd75994d3b0>]
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{ (b._functions)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> [<function bar at 0x7fd75994d200>, <function bax at 0x7fd75994d3b0>]
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{ (a.run_all())}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> [3, 7]
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{ (b.run_all())}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> [5, 7]
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{ ( a.run_all(x}\OperatorTok{=}\DecValTok{9}\NormalTok{) )}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> [9, 9]
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{ ( b.run_all(x}\OperatorTok{=}\DecValTok{9}\NormalTok{) )}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> [9, 9]
\end{verbatim}

\hypertarget{datetime-standard-library}{%
\chapter{datetime Standard Library}\label{datetime-standard-library}}

This is a built-in library by Python. There is no need to install this library.

\hypertarget{iso8601}{%
\section{ISO8601}\label{iso8601}}

\url{https://en.wikipedia.org/wiki/ISO_8601\#Time_zone_designators}

\hypertarget{date-time}{%
\subsection{Date Time}\label{date-time}}

\texttt{UTC:\ \ \ "2007-04-05T14:30Z"\ \ \ \ \ \ \#notice\ Z\ GMT+8:\ \ "2007-04-05T12:30+08:00\ \ \#notice\ +08:00\ GMT+8:\ \ "2007-04-05T12:30+0800\ \ \ \#notice\ +0800\ GMT+8:\ \ "2007-04-05T12:30+08\ \ \ \ \ \#notice\ +08}

\hypertarget{date}{%
\subsection{Date}\label{date}}

2019-02-04 \#notice no timezone available

\hypertarget{module-import}{%
\section{Module Import}\label{module-import}}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ datetime }\ImportTok{import}\NormalTok{ date     }\CommentTok{# module for date object}
\ImportTok{from}\NormalTok{ datetime }\ImportTok{import}\NormalTok{ time     }\CommentTok{# module for time object}
\ImportTok{from}\NormalTok{ datetime }\ImportTok{import}\NormalTok{ datetime }\CommentTok{# module for datetime object}
\ImportTok{from}\NormalTok{ datetime }\ImportTok{import}\NormalTok{ timedelta}
\end{Highlighting}
\end{Shaded}

\hypertarget{class}{%
\section{Class}\label{class}}

datetime library contain \textbf{three class of objects}:\\
- \textbf{date} (year,month,day)\\
- \textbf{time} (hour,minute,second)\\
- \textbf{datetime} (year,month,day,hour,minute,second)\\
- \textbf{timedelta}: duration between two datetime or date object

\hypertarget{date-1}{%
\section{date}\label{date-1}}

\hypertarget{constructor-3}{%
\subsection{Constructor}\label{constructor-3}}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{( date(}\DecValTok{2000}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{1}\NormalTok{) )}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 2000-01-01
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{( date(year}\OperatorTok{=}\DecValTok{2000}\NormalTok{,month}\OperatorTok{=}\DecValTok{1}\NormalTok{,day}\OperatorTok{=}\DecValTok{1}\NormalTok{) )}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 2000-01-01
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{( }\BuiltInTok{type}\NormalTok{(date(year}\OperatorTok{=}\DecValTok{2000}\NormalTok{,month}\OperatorTok{=}\DecValTok{1}\NormalTok{,day}\OperatorTok{=}\DecValTok{1}\NormalTok{)))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> <class 'datetime.date'>
\end{verbatim}

\hypertarget{class-method}{%
\subsection{Class Method}\label{class-method}}

\hypertarget{today}{%
\subsubsection{\texorpdfstring{\texttt{today}}{today}}\label{today}}

This is \textbf{local date} (not UTC)

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{date.today()}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> datetime.date(2020, 10, 30)
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{( date.today() )}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 2020-10-30
\end{verbatim}

\hypertarget{convert-from-iso-fromisoformat}{%
\subsubsection{\texorpdfstring{Convert From ISO \texttt{fromisoformat}}{Convert From ISO fromisoformat}}\label{convert-from-iso-fromisoformat}}

\texttt{strptime} is \textbf{not available for date} conversion. It is only for datetime conversion

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{date.fromisoformat(}\StringTok{'2011-11-11'}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> datetime.date(2011, 11, 11)
\end{verbatim}

To convert \textbf{non-iso format} date string to date object, \textbf{convert to datetime first}, then to date

\hypertarget{instance-method}{%
\subsection{Instance Method}\label{instance-method}}

\hypertarget{replace}{%
\subsubsection{\texorpdfstring{\texttt{replace()}}{replace()}}\label{replace}}

\begin{itemize}
\tightlist
\item
  Replace \textbf{year/month/day} with specified parameter, non specified params will remain unchange.\\
\item
  Example below change only month. You can change year or day in combination
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{( date.today() )}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 2020-10-30
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{( date.today().replace(month}\OperatorTok{=}\DecValTok{8}\NormalTok{) )}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 2020-08-30
\end{verbatim}

\hypertarget{weekday-isoweekday}{%
\subsubsection{\texorpdfstring{\texttt{weekday(),\ isoweekday()}}{weekday(), isoweekday()}}\label{weekday-isoweekday}}

For \texttt{weekday()}, Zero being Monday\\
For \texttt{isoweekday()}, Zero being Sunday

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{( date.today().weekday() )}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 4
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{( date.today().isoweekday() )}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 5
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{weekdays }\OperatorTok{=}\NormalTok{ [}\StringTok{'Mon'}\NormalTok{,}\StringTok{'Tue'}\NormalTok{,}\StringTok{'Wed'}\NormalTok{,}\StringTok{'Thu'}\NormalTok{,}\StringTok{'Fri'}\NormalTok{,}\StringTok{'Sat'}\NormalTok{,}\StringTok{'Sun'}\NormalTok{]}
\NormalTok{wd }\OperatorTok{=}\NormalTok{ date.today().weekday()}
\BuiltInTok{print}\NormalTok{( date.today(), }\StringTok{"is day"}\NormalTok{, wd ,}\StringTok{"which is"}\NormalTok{, weekdays[wd] )}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 2020-10-30 is day 4 which is Fri
\end{verbatim}

\hypertarget{formating-with-isoformat}{%
\subsubsection{\texorpdfstring{Formating with \texttt{isoformat()}}{Formating with isoformat()}}\label{formating-with-isoformat}}

\texttt{isoformat()} return \textbf{ISO 8601 String (YYYY-MM-DD)}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{date.today().isoformat() }\CommentTok{# return string}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> '2020-10-30'
\end{verbatim}

\hypertarget{formating-with-strftime}{%
\subsubsection{\texorpdfstring{Formating with \texttt{strftime}}{Formating with strftime}}\label{formating-with-strftime}}

For complete directive, see below:\\
\url{https://docs.python.org/3/library/datetime.html\#strftime-strptime-behavior}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{date.today().strftime(}\StringTok{"%m/}\SpecialCharTok{%d}\StringTok{"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> '10/30'
\end{verbatim}

\hypertarget{isocalendar}{%
\subsubsection{\texorpdfstring{\texttt{isocalendar()}}{isocalendar()}}\label{isocalendar}}

\texttt{isocalendar} return a 3-tuple, \textbf{(ISO year, ISO week number, ISO weekday)}.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{date.today().isocalendar() }\CommentTok{## return tuple }
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> (2020, 44, 5)
\end{verbatim}

\hypertarget{attributes}{%
\subsection{Attributes}\label{attributes}}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{( date.today().year )}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 2020
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{( date.today().month )}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 10
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{( date.today().day )}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 30
\end{verbatim}

\hypertarget{date-and-datetime}{%
\section{date and datetime}\label{date-and-datetime}}

\hypertarget{constructor-4}{%
\subsection{Constructor}\label{constructor-4}}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ datetime }\ImportTok{as}\NormalTok{ dt}

\BuiltInTok{print}\NormalTok{( }
\NormalTok{    dt.date(}\DecValTok{2000}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{1}\NormalTok{,), }\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{,}
\NormalTok{    dt.datetime(}\DecValTok{2000}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{), }\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{,}
\NormalTok{    dt.datetime(year}\OperatorTok{=}\DecValTok{2000}\NormalTok{,month}\OperatorTok{=}\DecValTok{1}\NormalTok{,day}\OperatorTok{=}\DecValTok{1}\NormalTok{,hour}\OperatorTok{=}\DecValTok{23}\NormalTok{,minute}\OperatorTok{=}\DecValTok{15}\NormalTok{,second}\OperatorTok{=}\DecValTok{55}\NormalTok{),}\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{,}
    \BuiltInTok{type}\NormalTok{(dt.date(}\DecValTok{2000}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{1}\NormalTok{)),}\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{,}
    \BuiltInTok{type}\NormalTok{(dt.datetime(}\DecValTok{2000}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{)))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 2000-01-01 
#:>  2000-01-01 00:00:00 
#:>  2000-01-01 23:15:55 
#:>  <class 'datetime.date'> 
#:>  <class 'datetime.datetime'>
\end{verbatim}

\hypertarget{class-method-1}{%
\subsection{Class Method}\label{class-method-1}}

\hypertarget{now-and-today}{%
\subsubsection{\texorpdfstring{\texttt{now} and \texttt{today}}{now and today}}\label{now-and-today}}

Both \texttt{now()} and \texttt{today()} return current \textbf{system local} datetime, no timezone

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{(  dt.datetime.now(), }\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{,}
\NormalTok{        dt.datetime.now().date())}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 2020-10-30 18:32:30.663667 
#:>  2020-10-30
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{dt.datetime.today()}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> datetime.datetime(2020, 10, 30, 18, 32, 30, 675824)
\end{verbatim}

\hypertarget{utcnow}{%
\subsubsection{\texorpdfstring{\texttt{utcnow}}{utcnow}}\label{utcnow}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{dt.datetime.utcnow()}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> datetime.datetime(2020, 10, 30, 23, 32, 30, 692239)
\end{verbatim}

\hypertarget{combine-date-and-time}{%
\subsubsection{\texorpdfstring{\texttt{combine()} date and time}{combine() date and time}}\label{combine-date-and-time}}

Apply \texttt{datetime.combine()} module method on both \textbf{date and time} object to get \textbf{datetime}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{now }\OperatorTok{=}\NormalTok{ dt.datetime.now()}
\NormalTok{dt.datetime.combine(now.date(), now.time())}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> datetime.datetime(2020, 10, 30, 18, 32, 30, 707323)
\end{verbatim}

\hypertarget{convert-from-string-strptime}{%
\subsubsection{\texorpdfstring{Convert from String \texttt{strptime()}}{Convert from String strptime()}}\label{convert-from-string-strptime}}

Use \textbf{\texttt{strptime}} to convert string into \textbf{datetime} object

\begin{verbatim}
%I : 12-hour
%H : 24-hour
%M : Minute
%p : AM/PM
%y : 18
%Y : 2018
%b : Mar
%m : month (1 to 12)
%d : day
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{datetime.strptime(}\StringTok{'2011-02-25'}\NormalTok{,}\StringTok{'%Y-%m-}\SpecialCharTok{%d}\StringTok{'}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> datetime.datetime(2011, 2, 25, 0, 0)
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{datetime.strptime(}\StringTok{'9-01-18'}\NormalTok{,}\StringTok{'}\SpecialCharTok{%d}\StringTok{-%m-%y'}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> datetime.datetime(2018, 1, 9, 0, 0)
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{datetime.strptime(}\StringTok{'09-Mar-2018'}\NormalTok{,}\StringTok{'}\SpecialCharTok{%d}\StringTok{-%b-%Y'}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> datetime.datetime(2018, 3, 9, 0, 0)
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{datetime.strptime(}\StringTok{'2/5/2018 4:49 PM'}\NormalTok{, }\StringTok{'%m/}\SpecialCharTok{%d}\StringTok{/%Y %I:%M %p'}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> datetime.datetime(2018, 2, 5, 16, 49)
\end{verbatim}

\hypertarget{convert-from-iso-fromisoformat-1}{%
\subsubsection{\texorpdfstring{Convert from ISO \texttt{fromisoformat}}{Convert from ISO fromisoformat}}\label{convert-from-iso-fromisoformat-1}}

\begin{itemize}
\tightlist
\item
  \texttt{fromisoformat()} is intend to be reverse of \texttt{isoformat()}\\
\item
  It actually \textbf{not ISO compliance}: when Z or +8 is included at the end of the string, error occur
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{#s = dt.datetime.now().isoformat()}
\NormalTok{dt.datetime.fromisoformat(}\StringTok{"2019-02-05T10:22:33"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> datetime.datetime(2019, 2, 5, 10, 22, 33)
\end{verbatim}

\hypertarget{instance-method-1}{%
\subsection{Instance Method}\label{instance-method-1}}

\hypertarget{weekday}{%
\subsubsection{\texorpdfstring{\texttt{weekday}}{weekday}}\label{weekday}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{datetime.now().weekday()}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 4
\end{verbatim}

\hypertarget{replace-1}{%
\subsubsection{\texorpdfstring{\texttt{replace}}{replace}}\label{replace-1}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{datetime.now().replace(year}\OperatorTok{=}\DecValTok{1999}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> datetime.datetime(1999, 10, 30, 18, 32, 30, 806442)
\end{verbatim}

\hypertarget{convert-to-.time}{%
\subsubsection{\texorpdfstring{convert to \texttt{.time()}}{convert to .time()}}\label{convert-to-.time}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{datetime.now().time()}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> datetime.time(18, 32, 30, 817182)
\end{verbatim}

\hypertarget{convert-to-.date}{%
\subsubsection{\texorpdfstring{Convert to \texttt{.date()}}{Convert to .date()}}\label{convert-to-.date}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{datetime.now().date()}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> datetime.date(2020, 10, 30)
\end{verbatim}

\hypertarget{convert-to-string}{%
\subsubsection{Convert to String}\label{convert-to-string}}

\textbf{\texttt{str}}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{str}\NormalTok{( datetime.now() )}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> '2020-10-30 18:32:30.841228'
\end{verbatim}

\textbf{Use \texttt{strftime()}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{dt.datetime.now().strftime(}\StringTok{'}\SpecialCharTok{%d}\StringTok{-%b-%Y'}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> '30-Oct-2020'
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{dt.datetime.utcnow().strftime(}\StringTok{'%Y-%m-}\SpecialCharTok{%d}\StringTok{T%H:%M:%S.}\SpecialCharTok{%f}\StringTok{Z'}\NormalTok{)  }\CommentTok{## ISO 8601 UTC}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> '2020-10-30T23:32:30.861777Z'
\end{verbatim}

\textbf{Use \texttt{isoformat()}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{dt.datetime.utcnow().isoformat()}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> '2020-10-30T23:32:30.877359'
\end{verbatim}

\hypertarget{attributes-1}{%
\subsection{Attributes}\label{attributes-1}}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{( datetime.now().year )}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 2020
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{( datetime.now().month )}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 10
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{( datetime.now().day )}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 30
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{( datetime.now().hour )}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 18
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{( datetime.now().minute )}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 32
\end{verbatim}

\hypertarget{time}{%
\section{time}\label{time}}

\hypertarget{constructor-5}{%
\subsection{Constructor}\label{constructor-5}}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{( time(}\DecValTok{2}\NormalTok{) )    }\CommentTok{#default single arugement, hour}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 02:00:00
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{( time(}\DecValTok{2}\NormalTok{,}\DecValTok{15}\NormalTok{) ) }\CommentTok{#default two arguments, hour, minute}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 02:15:00
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{( time(hour}\OperatorTok{=}\DecValTok{2}\NormalTok{,minute}\OperatorTok{=}\DecValTok{15}\NormalTok{,second}\OperatorTok{=}\DecValTok{30}\NormalTok{) )}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 02:15:30
\end{verbatim}

\hypertarget{class-method-2}{%
\subsection{Class Method}\label{class-method-2}}

\hypertarget{now}{%
\subsubsection{\texorpdfstring{\texttt{now()}}{now()}}\label{now}}

There is unfortunately no single function to extract the current time. Use \textbf{time()} function of an \textbf{datetime} object

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{datetime.now().time()}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> datetime.time(18, 32, 30, 929342)
\end{verbatim}

\hypertarget{attributes-2}{%
\subsection{Attributes}\label{attributes-2}}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{( datetime.now().time().hour )}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 18
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{( datetime.now().time().minute )}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 32
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{( datetime.now().time().second )}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 30
\end{verbatim}

\hypertarget{timedelta}{%
\section{timedelta}\label{timedelta}}

\begin{itemize}
\tightlist
\item
  \textbf{years} argument is \textbf{not supported}\\
\item
  Apply timedelta on \textbf{datetime} object\\
\item
  timedelta \textbf{cannot} be applied on \textbf{time object} , because timedelta potentially go beyond single day (24H)
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{delt }\OperatorTok{=}\NormalTok{ timedelta(days}\OperatorTok{=}\DecValTok{365}\NormalTok{,minutes}\OperatorTok{=}\DecValTok{33}\NormalTok{,seconds}\OperatorTok{=}\DecValTok{15}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{now }\OperatorTok{=}\NormalTok{ datetime.now()}
\BuiltInTok{print}\NormalTok{ (}\StringTok{'delt+now : '}\NormalTok{, now}\OperatorTok{+}\NormalTok{delt)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> delt+now :  2021-10-30 19:05:45.966615
\end{verbatim}

\hypertarget{getting-external-data}{%
\chapter{Getting External Data}\label{getting-external-data}}

\hypertarget{plydata-dplyr-for-python}{%
\chapter{Plydata (dplyr for Python)}\label{plydata-dplyr-for-python}}

\hypertarget{sample-data}{%
\section{Sample Data}\label{sample-data}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{n }\OperatorTok{=} \DecValTok{200}
\NormalTok{comp }\OperatorTok{=}\NormalTok{ [}\StringTok{'C'} \OperatorTok{+}\NormalTok{ i }\ControlFlowTok{for}\NormalTok{ i }\KeywordTok{in}\NormalTok{ np.random.randint( }\DecValTok{1}\NormalTok{,}\DecValTok{4}\NormalTok{, size  }\OperatorTok{=}\NormalTok{ n).astype(}\BuiltInTok{str}\NormalTok{)] }\CommentTok{# 3x Company}
\NormalTok{dept }\OperatorTok{=}\NormalTok{ [}\StringTok{'D'} \OperatorTok{+}\NormalTok{ i }\ControlFlowTok{for}\NormalTok{ i }\KeywordTok{in}\NormalTok{ np.random.randint( }\DecValTok{1}\NormalTok{,}\DecValTok{6}\NormalTok{, size  }\OperatorTok{=}\NormalTok{ n).astype(}\BuiltInTok{str}\NormalTok{)] }\CommentTok{# 5x Department}
\NormalTok{grp }\OperatorTok{=}\NormalTok{  [}\StringTok{'G'} \OperatorTok{+}\NormalTok{ i }\ControlFlowTok{for}\NormalTok{ i }\KeywordTok{in}\NormalTok{ np.random.randint( }\DecValTok{1}\NormalTok{,}\DecValTok{3}\NormalTok{, size  }\OperatorTok{=}\NormalTok{ n).astype(}\BuiltInTok{str}\NormalTok{)] }\CommentTok{# 2x Groups}
\NormalTok{value1 }\OperatorTok{=}\NormalTok{ np.random.normal( loc}\OperatorTok{=}\DecValTok{50}\NormalTok{ , scale}\OperatorTok{=}\DecValTok{5}\NormalTok{ , size }\OperatorTok{=}\NormalTok{ n)}
\NormalTok{value2 }\OperatorTok{=}\NormalTok{ np.random.normal( loc}\OperatorTok{=}\DecValTok{20}\NormalTok{ , scale}\OperatorTok{=}\DecValTok{3}\NormalTok{ , size }\OperatorTok{=}\NormalTok{ n)}
\CommentTok{#value3 = np.random.normal( loc=5 , scale=30 , size = n)}

\NormalTok{mydf }\OperatorTok{=}\NormalTok{ pd.DataFrame(\{}
    \StringTok{'comp'}\NormalTok{:comp, }
    \StringTok{'dept'}\NormalTok{:dept, }
    \StringTok{'grp'}\NormalTok{: grp,}
    \StringTok{'value1'}\NormalTok{:value1, }
    \StringTok{'value2'}\NormalTok{:value2}
    \CommentTok{#'value3':value3 }
\NormalTok{\})}
\NormalTok{mydf.head()}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>   comp dept grp     value1     value2
#:> 0   C1   D4  G2  49.032416  18.813083
#:> 1   C1   D4  G1  54.500313  22.495561
#:> 2   C1   D2  G2  49.558894  20.672333
#:> 3   C3   D4  G1  52.208861  19.218633
#:> 4   C2   D5  G2  47.948100  17.912023
\end{verbatim}

\hypertarget{column-manipulation}{%
\section{Column Manipulation}\label{column-manipulation}}

\hypertarget{copy-column}{%
\subsection{Copy Column}\label{copy-column}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{mydf }\OperatorTok{>>}\NormalTok{ define(newcol }\OperatorTok{=} \StringTok{'value1'}\NormalTok{)                 }\CommentTok{# simple method for one column}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>     comp dept grp     value1     value2     newcol
#:> 0     C1   D4  G2  49.032416  18.813083  49.032416
#:> 1     C1   D4  G1  54.500313  22.495561  54.500313
#:> 2     C1   D2  G2  49.558894  20.672333  49.558894
#:> 3     C3   D4  G1  52.208861  19.218633  52.208861
#:> 4     C2   D5  G2  47.948100  17.912023  47.948100
#:> ..   ...  ...  ..        ...        ...        ...
#:> 195   C2   D3  G2  53.353379  20.022397  53.353379
#:> 196   C3   D3  G1  47.959330  22.754286  47.959330
#:> 197   C2   D3  G1  46.270485  20.145101  46.270485
#:> 198   C1   D2  G2  53.756636  17.718943  53.756636
#:> 199   C3   D2  G2  53.098101  22.800075  53.098101
#:> 
#:> [200 rows x 6 columns]
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{mydf }\OperatorTok{>>}\NormalTok{ define ((}\StringTok{'newcol1'}\NormalTok{, }\StringTok{'value1'}\NormalTok{), newcol2}\OperatorTok{=}\StringTok{'value2'}\NormalTok{)  }\CommentTok{# method for muiltiple new columns}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>     comp dept grp     value1     value2    newcol1    newcol2
#:> 0     C1   D4  G2  49.032416  18.813083  49.032416  18.813083
#:> 1     C1   D4  G1  54.500313  22.495561  54.500313  22.495561
#:> 2     C1   D2  G2  49.558894  20.672333  49.558894  20.672333
#:> 3     C3   D4  G1  52.208861  19.218633  52.208861  19.218633
#:> 4     C2   D5  G2  47.948100  17.912023  47.948100  17.912023
#:> ..   ...  ...  ..        ...        ...        ...        ...
#:> 195   C2   D3  G2  53.353379  20.022397  53.353379  20.022397
#:> 196   C3   D3  G1  47.959330  22.754286  47.959330  22.754286
#:> 197   C2   D3  G1  46.270485  20.145101  46.270485  20.145101
#:> 198   C1   D2  G2  53.756636  17.718943  53.756636  17.718943
#:> 199   C3   D2  G2  53.098101  22.800075  53.098101  22.800075
#:> 
#:> [200 rows x 7 columns]
\end{verbatim}

\hypertarget{new-column-from-existing-column}{%
\subsection{New Column from existing Column}\label{new-column-from-existing-column}}

\textbf{Without specify the new column name}, it will be derived from expression

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{mydf }\OperatorTok{>>}\NormalTok{ define (}\StringTok{'value1*2'}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>     comp dept grp     value1     value2    value1*2
#:> 0     C1   D4  G2  49.032416  18.813083   98.064831
#:> 1     C1   D4  G1  54.500313  22.495561  109.000627
#:> 2     C1   D2  G2  49.558894  20.672333   99.117789
#:> 3     C3   D4  G1  52.208861  19.218633  104.417721
#:> 4     C2   D5  G2  47.948100  17.912023   95.896201
#:> ..   ...  ...  ..        ...        ...         ...
#:> 195   C2   D3  G2  53.353379  20.022397  106.706757
#:> 196   C3   D3  G1  47.959330  22.754286   95.918660
#:> 197   C2   D3  G1  46.270485  20.145101   92.540971
#:> 198   C1   D2  G2  53.756636  17.718943  107.513273
#:> 199   C3   D2  G2  53.098101  22.800075  106.196202
#:> 
#:> [200 rows x 6 columns]
\end{verbatim}

\textbf{Specify the new column name}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{mydf }\OperatorTok{>>}\NormalTok{ define(value3 }\OperatorTok{=} \StringTok{'value1*2'}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>     comp dept grp     value1     value2      value3
#:> 0     C1   D4  G2  49.032416  18.813083   98.064831
#:> 1     C1   D4  G1  54.500313  22.495561  109.000627
#:> 2     C1   D2  G2  49.558894  20.672333   99.117789
#:> 3     C3   D4  G1  52.208861  19.218633  104.417721
#:> 4     C2   D5  G2  47.948100  17.912023   95.896201
#:> ..   ...  ...  ..        ...        ...         ...
#:> 195   C2   D3  G2  53.353379  20.022397  106.706757
#:> 196   C3   D3  G1  47.959330  22.754286   95.918660
#:> 197   C2   D3  G1  46.270485  20.145101   92.540971
#:> 198   C1   D2  G2  53.756636  17.718943  107.513273
#:> 199   C3   D2  G2  53.098101  22.800075  106.196202
#:> 
#:> [200 rows x 6 columns]
\end{verbatim}

Define \textbf{multiple} new columns in one go. Observe there are three ways to specify the new columns

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{mydf }\OperatorTok{>>}\NormalTok{ define(}\StringTok{'value1*2'}\NormalTok{,(}\StringTok{'newcol2'}\NormalTok{,}\StringTok{'value2*2'}\NormalTok{),newcol3}\OperatorTok{=}\StringTok{'value2*3'}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>     comp dept grp     value1     value2    value1*2    newcol2    newcol3
#:> 0     C1   D4  G2  49.032416  18.813083   98.064831  37.626166  56.439248
#:> 1     C1   D4  G1  54.500313  22.495561  109.000627  44.991123  67.486684
#:> 2     C1   D2  G2  49.558894  20.672333   99.117789  41.344666  62.016999
#:> 3     C3   D4  G1  52.208861  19.218633  104.417721  38.437266  57.655900
#:> 4     C2   D5  G2  47.948100  17.912023   95.896201  35.824046  53.736069
#:> ..   ...  ...  ..        ...        ...         ...        ...        ...
#:> 195   C2   D3  G2  53.353379  20.022397  106.706757  40.044793  60.067190
#:> 196   C3   D3  G1  47.959330  22.754286   95.918660  45.508571  68.262857
#:> 197   C2   D3  G1  46.270485  20.145101   92.540971  40.290201  60.435302
#:> 198   C1   D2  G2  53.756636  17.718943  107.513273  35.437886  53.156829
#:> 199   C3   D2  G2  53.098101  22.800075  106.196202  45.600149  68.400224
#:> 
#:> [200 rows x 8 columns]
\end{verbatim}

\hypertarget{select-columns}{%
\subsection{Select Column(s)}\label{select-columns}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{mydf2 }\OperatorTok{=}\NormalTok{ mydf }\OperatorTok{>>}\NormalTok{ define(newcol1}\OperatorTok{=}\StringTok{'value1'}\NormalTok{,newcol2}\OperatorTok{=}\StringTok{'value2'}\NormalTok{)}
\NormalTok{mydf2.info()}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> <class 'pandas.core.frame.DataFrame'>
#:> RangeIndex: 200 entries, 0 to 199
#:> Data columns (total 7 columns):
#:>  #   Column   Non-Null Count  Dtype  
#:> ---  ------   --------------  -----  
#:>  0   comp     200 non-null    object 
#:>  1   dept     200 non-null    object 
#:>  2   grp      200 non-null    object 
#:>  3   value1   200 non-null    float64
#:>  4   value2   200 non-null    float64
#:>  5   newcol1  200 non-null    float64
#:>  6   newcol2  200 non-null    float64
#:> dtypes: float64(4), object(3)
#:> memory usage: 11.1+ KB
\end{verbatim}

\hypertarget{by-column-names}{%
\subsubsection{By Column Names}\label{by-column-names}}

\textbf{Exact Coumn Name}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{mydf2 }\OperatorTok{>>}\NormalTok{ select (}\StringTok{'comp'}\NormalTok{,}\StringTok{'dept'}\NormalTok{,}\StringTok{'value1'}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>     comp dept     value1
#:> 0     C1   D4  49.032416
#:> 1     C1   D4  54.500313
#:> 2     C1   D2  49.558894
#:> 3     C3   D4  52.208861
#:> 4     C2   D5  47.948100
#:> ..   ...  ...        ...
#:> 195   C2   D3  53.353379
#:> 196   C3   D3  47.959330
#:> 197   C2   D3  46.270485
#:> 198   C1   D2  53.756636
#:> 199   C3   D2  53.098101
#:> 
#:> [200 rows x 3 columns]
\end{verbatim}

\textbf{Column Name Starts With} \ldots{}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{mydf2 }\OperatorTok{>>}\NormalTok{ select (}\StringTok{'comp'}\NormalTok{, startswith}\OperatorTok{=}\StringTok{'val'}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>     comp     value1     value2
#:> 0     C1  49.032416  18.813083
#:> 1     C1  54.500313  22.495561
#:> 2     C1  49.558894  20.672333
#:> 3     C3  52.208861  19.218633
#:> 4     C2  47.948100  17.912023
#:> ..   ...        ...        ...
#:> 195   C2  53.353379  20.022397
#:> 196   C3  47.959330  22.754286
#:> 197   C2  46.270485  20.145101
#:> 198   C1  53.756636  17.718943
#:> 199   C3  53.098101  22.800075
#:> 
#:> [200 rows x 3 columns]
\end{verbatim}

\textbf{Column Name Ends With \ldots{}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{mydf2 }\OperatorTok{>>}\NormalTok{ select (}\StringTok{'comp'}\NormalTok{,endswith}\OperatorTok{=}\NormalTok{(}\StringTok{'1'}\NormalTok{,}\StringTok{'2'}\NormalTok{,}\StringTok{'3'}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>     comp     value1     value2    newcol1    newcol2
#:> 0     C1  49.032416  18.813083  49.032416  18.813083
#:> 1     C1  54.500313  22.495561  54.500313  22.495561
#:> 2     C1  49.558894  20.672333  49.558894  20.672333
#:> 3     C3  52.208861  19.218633  52.208861  19.218633
#:> 4     C2  47.948100  17.912023  47.948100  17.912023
#:> ..   ...        ...        ...        ...        ...
#:> 195   C2  53.353379  20.022397  53.353379  20.022397
#:> 196   C3  47.959330  22.754286  47.959330  22.754286
#:> 197   C2  46.270485  20.145101  46.270485  20.145101
#:> 198   C1  53.756636  17.718943  53.756636  17.718943
#:> 199   C3  53.098101  22.800075  53.098101  22.800075
#:> 
#:> [200 rows x 5 columns]
\end{verbatim}

\textbf{Column Name Contains \ldots{}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{mydf2 }\OperatorTok{>>}\NormalTok{ select(}\StringTok{'comp'}\NormalTok{, contains}\OperatorTok{=}\NormalTok{(}\StringTok{'col'}\NormalTok{,}\StringTok{'val'}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>     comp     value1     value2    newcol1    newcol2
#:> 0     C1  49.032416  18.813083  49.032416  18.813083
#:> 1     C1  54.500313  22.495561  54.500313  22.495561
#:> 2     C1  49.558894  20.672333  49.558894  20.672333
#:> 3     C3  52.208861  19.218633  52.208861  19.218633
#:> 4     C2  47.948100  17.912023  47.948100  17.912023
#:> ..   ...        ...        ...        ...        ...
#:> 195   C2  53.353379  20.022397  53.353379  20.022397
#:> 196   C3  47.959330  22.754286  47.959330  22.754286
#:> 197   C2  46.270485  20.145101  46.270485  20.145101
#:> 198   C1  53.756636  17.718943  53.756636  17.718943
#:> 199   C3  53.098101  22.800075  53.098101  22.800075
#:> 
#:> [200 rows x 5 columns]
\end{verbatim}

\hypertarget{specify-column-range}{%
\subsubsection{Specify Column Range}\label{specify-column-range}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{mydf2 }\OperatorTok{>>}\NormalTok{ select (}\StringTok{'comp'}\NormalTok{, }\BuiltInTok{slice}\NormalTok{(}\StringTok{'value1'}\NormalTok{,}\StringTok{'newcol2'}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>     comp     value1     value2    newcol1    newcol2
#:> 0     C1  49.032416  18.813083  49.032416  18.813083
#:> 1     C1  54.500313  22.495561  54.500313  22.495561
#:> 2     C1  49.558894  20.672333  49.558894  20.672333
#:> 3     C3  52.208861  19.218633  52.208861  19.218633
#:> 4     C2  47.948100  17.912023  47.948100  17.912023
#:> ..   ...        ...        ...        ...        ...
#:> 195   C2  53.353379  20.022397  53.353379  20.022397
#:> 196   C3  47.959330  22.754286  47.959330  22.754286
#:> 197   C2  46.270485  20.145101  46.270485  20.145101
#:> 198   C1  53.756636  17.718943  53.756636  17.718943
#:> 199   C3  53.098101  22.800075  53.098101  22.800075
#:> 
#:> [200 rows x 5 columns]
\end{verbatim}

\hypertarget{drop-columns}{%
\subsection{Drop Column(s)}\label{drop-columns}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{mydf2 }\OperatorTok{>>}\NormalTok{ select(}\StringTok{'newcol1'}\NormalTok{,}\StringTok{'newcol2'}\NormalTok{,drop}\OperatorTok{=}\VariableTok{True}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>     comp dept grp     value1     value2
#:> 0     C1   D4  G2  49.032416  18.813083
#:> 1     C1   D4  G1  54.500313  22.495561
#:> 2     C1   D2  G2  49.558894  20.672333
#:> 3     C3   D4  G1  52.208861  19.218633
#:> 4     C2   D5  G2  47.948100  17.912023
#:> ..   ...  ...  ..        ...        ...
#:> 195   C2   D3  G2  53.353379  20.022397
#:> 196   C3   D3  G1  47.959330  22.754286
#:> 197   C2   D3  G1  46.270485  20.145101
#:> 198   C1   D2  G2  53.756636  17.718943
#:> 199   C3   D2  G2  53.098101  22.800075
#:> 
#:> [200 rows x 5 columns]
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{mydf }\OperatorTok{>>}\NormalTok{ rename( \{}\StringTok{'val.1'}\NormalTok{ : }\StringTok{'value1'}\NormalTok{,}
                 \StringTok{'val.2'}\NormalTok{ : }\StringTok{'value2'}\NormalTok{ \})}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>     comp dept grp      val.1      val.2
#:> 0     C1   D4  G2  49.032416  18.813083
#:> 1     C1   D4  G1  54.500313  22.495561
#:> 2     C1   D2  G2  49.558894  20.672333
#:> 3     C3   D4  G1  52.208861  19.218633
#:> 4     C2   D5  G2  47.948100  17.912023
#:> ..   ...  ...  ..        ...        ...
#:> 195   C2   D3  G2  53.353379  20.022397
#:> 196   C3   D3  G1  47.959330  22.754286
#:> 197   C2   D3  G1  46.270485  20.145101
#:> 198   C1   D2  G2  53.756636  17.718943
#:> 199   C3   D2  G2  53.098101  22.800075
#:> 
#:> [200 rows x 5 columns]
\end{verbatim}

\textbf{Combined Method}\\
Combine both assignment and dictionary method

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{mydf }\OperatorTok{>>}\NormalTok{ rename( \{}\StringTok{'val.1'}\NormalTok{ : }\StringTok{'value1'}\NormalTok{,}
                 \StringTok{'val.2'}\NormalTok{ : }\StringTok{'value2'}
\NormalTok{              \}, group }\OperatorTok{=} \StringTok{'grp'}\NormalTok{ )}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>     comp dept group      val.1      val.2
#:> 0     C1   D4    G2  49.032416  18.813083
#:> 1     C1   D4    G1  54.500313  22.495561
#:> 2     C1   D2    G2  49.558894  20.672333
#:> 3     C3   D4    G1  52.208861  19.218633
#:> 4     C2   D5    G2  47.948100  17.912023
#:> ..   ...  ...   ...        ...        ...
#:> 195   C2   D3    G2  53.353379  20.022397
#:> 196   C3   D3    G1  47.959330  22.754286
#:> 197   C2   D3    G1  46.270485  20.145101
#:> 198   C1   D2    G2  53.756636  17.718943
#:> 199   C3   D2    G2  53.098101  22.800075
#:> 
#:> [200 rows x 5 columns]
\end{verbatim}

\hypertarget{sorting-arrange}{%
\section{Sorting (arrange)}\label{sorting-arrange}}

Use \textbf{`-colName'} for decending

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{mydf }\OperatorTok{>>}\NormalTok{ arrange(}\StringTok{'comp'}\NormalTok{, }\StringTok{'-value1'}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>     comp dept grp     value1     value2
#:> 58    C1   D1  G1  61.145886  25.186241
#:> 56    C1   D1  G1  59.441298  21.359336
#:> 61    C1   D4  G2  59.150415  18.181272
#:> 93    C1   D4  G2  58.356973  21.139545
#:> 170   C1   D5  G1  57.980779  17.269432
#:> ..   ...  ...  ..        ...        ...
#:> 20    C3   D5  G2  42.526659  18.838995
#:> 171   C3   D5  G1  42.076155  18.953507
#:> 139   C3   D5  G2  41.922043  26.972783
#:> 43    C3   D4  G1  41.889801  14.725170
#:> 96    C3   D3  G2  36.227735  21.492933
#:> 
#:> [200 rows x 5 columns]
\end{verbatim}

\hypertarget{grouping}{%
\section{Grouping}\label{grouping}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{mydf.info()}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> <class 'pandas.core.frame.DataFrame'>
#:> RangeIndex: 200 entries, 0 to 199
#:> Data columns (total 5 columns):
#:>  #   Column  Non-Null Count  Dtype  
#:> ---  ------  --------------  -----  
#:>  0   comp    200 non-null    object 
#:>  1   dept    200 non-null    object 
#:>  2   grp     200 non-null    object 
#:>  3   value1  200 non-null    float64
#:>  4   value2  200 non-null    float64
#:> dtypes: float64(2), object(3)
#:> memory usage: 7.9+ KB
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{gdf }\OperatorTok{=}\NormalTok{ mydf }\OperatorTok{>>}\NormalTok{ group_by(}\StringTok{'comp'}\NormalTok{,}\StringTok{'dept'}\NormalTok{)}
\BuiltInTok{type}\NormalTok{(gdf)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> <class 'plydata.types.GroupedDataFrame'>
\end{verbatim}

\hypertarget{summarization}{%
\section{Summarization}\label{summarization}}

\hypertarget{simple-method}{%
\subsection{Simple Method}\label{simple-method}}

\textbf{Passing Multiple Expressions}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{gdf }\OperatorTok{>>}\NormalTok{ summarize(}\StringTok{'n()'}\NormalTok{,}\StringTok{'sum(value1)'}\NormalTok{,}\StringTok{'mean(value2)'}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\hypertarget{specify-summarized-column-name}{%
\subsection{Specify Summarized Column Name}\label{specify-summarized-column-name}}

\textbf{Assignment Method}\\
- Passing colName=`expression'**\\
- Column name cannot contain special character

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{gdf }\OperatorTok{>>}\NormalTok{ summarize(count}\OperatorTok{=}\StringTok{'n()'}\NormalTok{,v1sum}\OperatorTok{=}\StringTok{'sum(value1)'}\NormalTok{,v2_mean}\OperatorTok{=}\StringTok{'mean(value2)'}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\textbf{Tuple Method (`colName',`expression')}\\
Use when the column name contain special character

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{gdf }\OperatorTok{>>}\NormalTok{ summarize((}\StringTok{'count'}\NormalTok{,}\StringTok{'n()'}\NormalTok{),(}\StringTok{'v1.sum'}\NormalTok{,}\StringTok{'sum(value1)'}\NormalTok{),(}\StringTok{'s2.sum'}\NormalTok{,}\StringTok{'sum(value2)'}\NormalTok{),v2mean}\OperatorTok{=}\NormalTok{np.mean(value2))}
\end{Highlighting}
\end{Shaded}

\hypertarget{number-of-rows-in-group}{%
\subsection{Number of Rows in Group}\label{number-of-rows-in-group}}

\begin{itemize}
\tightlist
\item
  n() : total rows in group\\
\item
  n\_unique() : total of rows with unique value
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{gdf }\OperatorTok{>>}\NormalTok{ summarize(count}\OperatorTok{=}\StringTok{'n()'}\NormalTok{, va11_unique}\OperatorTok{=}\StringTok{'n_unique(value1)'}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\hypertarget{numpy-1}{%
\chapter{numpy}\label{numpy-1}}

\begin{itemize}
\tightlist
\item
  Best array data manipulation, fast\\
\item
  numpy array allows only single data type, unlike list\\
\item
  Support matrix operation
\end{itemize}

\hypertarget{environment-setup}{%
\section{Environment Setup}\label{environment-setup}}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ pandas }\ImportTok{as}\NormalTok{ pd}
\ImportTok{import}\NormalTok{ matplotlib.pyplot }\ImportTok{as}\NormalTok{ plt}
\ImportTok{import}\NormalTok{ math}
\NormalTok{pd.set_option( }\StringTok{'display.notebook_repr_html'}\NormalTok{, }\VariableTok{False}\NormalTok{)  }\CommentTok{# render Series and DataFrame as text, not HTML}
\NormalTok{pd.set_option( }\StringTok{'display.max_column'}\NormalTok{, }\DecValTok{10}\NormalTok{)    }\CommentTok{# number of columns}
\NormalTok{pd.set_option( }\StringTok{'display.max_rows'}\NormalTok{, }\DecValTok{10}\NormalTok{)     }\CommentTok{# number of rows}
\NormalTok{pd.set_option( }\StringTok{'display.width'}\NormalTok{, }\DecValTok{90}\NormalTok{)        }\CommentTok{# number of characters per row}
\end{Highlighting}
\end{Shaded}

\hypertarget{module-import-1}{%
\section{Module Import}\label{module-import-1}}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ numpy }\ImportTok{as}\NormalTok{ np}
\NormalTok{np.__version__}

\CommentTok{## other modules}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> '1.19.1'
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ datetime }\ImportTok{import}\NormalTok{ datetime}
\ImportTok{from}\NormalTok{ datetime }\ImportTok{import}\NormalTok{ date}
\ImportTok{from}\NormalTok{ datetime }\ImportTok{import}\NormalTok{ time}
\end{Highlighting}
\end{Shaded}

\hypertarget{data-types}{%
\section{Data Types}\label{data-types}}

\hypertarget{numpy-data-types}{%
\subsection{NumPy Data Types}\label{numpy-data-types}}

NumPy supports a much greater variety of numerical types than Python does. This makes numpy \textbf{much more powerful} \url{https://www.numpy.org/devdocs/user/basics.types.html}

\textbf{Integer}: np.int8, np.int16, np.int32, np.uint8, np.uint16, np.uint32\\
\textbf{Float}: np.float32, np.float64

\hypertarget{int3264}{%
\subsection{int32/64}\label{int3264}}

\texttt{np.int} is actually \textbf{python standard int}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{x }\OperatorTok{=}\NormalTok{ np.}\BuiltInTok{int}\NormalTok{(}\DecValTok{13}\NormalTok{)}
\NormalTok{y }\OperatorTok{=} \BuiltInTok{int}\NormalTok{(}\DecValTok{13}\NormalTok{)}
\BuiltInTok{print}\NormalTok{( }\BuiltInTok{type}\NormalTok{(x) )}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> <class 'int'>
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{( }\BuiltInTok{type}\NormalTok{(y) )}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> <class 'int'>
\end{verbatim}

\texttt{np.int32/64} are NumPy specific

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{x }\OperatorTok{=}\NormalTok{ np.int32(}\DecValTok{13}\NormalTok{)}
\NormalTok{y }\OperatorTok{=}\NormalTok{ np.int64(}\DecValTok{13}\NormalTok{)}
\BuiltInTok{print}\NormalTok{( }\BuiltInTok{type}\NormalTok{(x) )}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> <class 'numpy.int32'>
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{( }\BuiltInTok{type}\NormalTok{(y) )}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> <class 'numpy.int64'>
\end{verbatim}

\hypertarget{float3264}{%
\subsection{float32/64}\label{float3264}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{x }\OperatorTok{=}\NormalTok{ np.}\BuiltInTok{float}\NormalTok{(}\DecValTok{13}\NormalTok{)}
\NormalTok{y }\OperatorTok{=} \BuiltInTok{float}\NormalTok{(}\DecValTok{13}\NormalTok{)}
\BuiltInTok{print}\NormalTok{( }\BuiltInTok{type}\NormalTok{(x) )}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> <class 'float'>
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{( }\BuiltInTok{type}\NormalTok{(y) )}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> <class 'float'>
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{x }\OperatorTok{=}\NormalTok{ np.float32(}\DecValTok{13}\NormalTok{)}
\NormalTok{y }\OperatorTok{=}\NormalTok{ np.float64(}\DecValTok{13}\NormalTok{)}
\BuiltInTok{print}\NormalTok{( }\BuiltInTok{type}\NormalTok{(x) )}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> <class 'numpy.float32'>
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{( }\BuiltInTok{type}\NormalTok{(y) )}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> <class 'numpy.float64'>
\end{verbatim}

\hypertarget{bool}{%
\subsection{bool}\label{bool}}

\texttt{np.bool} is actually \textbf{python standard bool}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{x }\OperatorTok{=}\NormalTok{ np.}\BuiltInTok{bool}\NormalTok{(}\VariableTok{True}\NormalTok{)}
\BuiltInTok{print}\NormalTok{( }\BuiltInTok{type}\NormalTok{(x) )}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> <class 'bool'>
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{( }\BuiltInTok{type}\NormalTok{(}\VariableTok{True}\NormalTok{) )}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> <class 'bool'>
\end{verbatim}

\hypertarget{str}{%
\subsection{str}\label{str}}

\texttt{np.str} is actually \textbf{python standard str}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{x }\OperatorTok{=}\NormalTok{ np.}\BuiltInTok{str}\NormalTok{(}\StringTok{"ali"}\NormalTok{)}
\BuiltInTok{print}\NormalTok{( }\BuiltInTok{type}\NormalTok{(x) )}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> <class 'str'>
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{x }\OperatorTok{=}\NormalTok{ np.str_(}\StringTok{"ali"}\NormalTok{)}
\BuiltInTok{print}\NormalTok{( }\BuiltInTok{type}\NormalTok{(x) )}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> <class 'numpy.str_'>
\end{verbatim}

\hypertarget{datetime64}{%
\subsection{datetime64}\label{datetime64}}

Unlike python standard datetime library, there is \textbf{no seperation} of date, datetime and time.\\
There is \textbf{no time equivalent object}\\
NumPy only has one object: \textbf{datetime64} object .

\hypertarget{constructor-6}{%
\subsubsection{Constructor}\label{constructor-6}}

\textbf{From String}\\
Note that the input string \textbf{cannot be ISO8601 compliance}, meaning any timezone related information at the end of the string (such as Z or +8) will result in \textbf{error}.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{np.datetime64(}\StringTok{'2005-02'}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> numpy.datetime64('2005-02')
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{np.datetime64(}\StringTok{'2005-02-25'}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> numpy.datetime64('2005-02-25')
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{np.datetime64(}\StringTok{'2005-02-25T03:30'}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> numpy.datetime64('2005-02-25T03:30')
\end{verbatim}

\textbf{From datetime}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{np.datetime64( date.today() )}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> numpy.datetime64('2020-10-30')
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{np.datetime64( datetime.now() )}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> numpy.datetime64('2020-10-30T18:32:34.197281')
\end{verbatim}

\hypertarget{instance-method-2}{%
\subsubsection{Instance Method}\label{instance-method-2}}

Convert to \textbf{datetime} using \textbf{\texttt{astype()}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{dt64 }\OperatorTok{=}\NormalTok{ np.datetime64(}\StringTok{"2019-01-31"}\NormalTok{ )}
\NormalTok{dt64.astype(datetime)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> datetime.date(2019, 1, 31)
\end{verbatim}

\hypertarget{nan}{%
\subsection{nan}\label{nan}}

\hypertarget{creating-nan}{%
\subsubsection{Creating NaN}\label{creating-nan}}

NaN is NOT A BUILT-IN datatype. It means \textbf{not a number}, a numpy \textbf{float} object type. Can be created using two methods below.

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ numpy }\ImportTok{as}\NormalTok{ np}
\ImportTok{import}\NormalTok{ pandas }\ImportTok{as}\NormalTok{ pd}
\ImportTok{import}\NormalTok{ math}

\NormalTok{kosong1 }\OperatorTok{=} \BuiltInTok{float}\NormalTok{(}\StringTok{'NaN'}\NormalTok{)}
\NormalTok{kosong2 }\OperatorTok{=}\NormalTok{ np.nan}

\BuiltInTok{print}\NormalTok{(}\StringTok{'Type: '}\NormalTok{, }\BuiltInTok{type}\NormalTok{(kosong1), }\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{,}
       \StringTok{'Value: '}\NormalTok{, kosong1)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> Type:  <class 'float'> 
#:>  Value:  nan
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{(}\StringTok{'Type: '}\NormalTok{, }\BuiltInTok{type}\NormalTok{(kosong2), }\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{,}
       \StringTok{'Value: '}\NormalTok{, kosong2)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> Type:  <class 'float'> 
#:>  Value:  nan
\end{verbatim}

\hypertarget{detecting-nan}{%
\subsubsection{Detecting NaN}\label{detecting-nan}}

Detect nan using various function from panda, numpy and math.

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{(pd.isna(kosong1), }\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{,}
\NormalTok{      pd.isna(kosong2), }\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{,}
\NormalTok{      np.isnan(kosong1),}\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{,}
\NormalTok{      math.isnan(kosong2))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> True 
#:>  True 
#:>  True 
#:>  True
\end{verbatim}

\hypertarget{operation}{%
\subsubsection{Operation}\label{operation}}

\hypertarget{logical-operator}{%
\paragraph{Logical Operator}\label{logical-operator}}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{( }\VariableTok{True} \KeywordTok{and}\NormalTok{ kosong1,}
\NormalTok{       kosong1 }\KeywordTok{and} \VariableTok{True}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> nan True
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{( }\VariableTok{True} \KeywordTok{or}\NormalTok{ kosong1,}
       \VariableTok{False} \KeywordTok{or}\NormalTok{ kosong1)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> True nan
\end{verbatim}

\hypertarget{comparing}{%
\paragraph{Comparing}\label{comparing}}

Compare nan with \textbf{anything results in False}, including itself.

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{(kosong1 }\OperatorTok{>} \DecValTok{0}\NormalTok{, kosong1}\OperatorTok{==}\DecValTok{0}\NormalTok{, kosong1}\OperatorTok{<}\DecValTok{0}\NormalTok{,}
\NormalTok{      kosong1 }\OperatorTok{==}\DecValTok{1}\NormalTok{, kosong1}\OperatorTok{==}\NormalTok{kosong1, kosong1}\OperatorTok{==}\VariableTok{False}\NormalTok{, kosong1}\OperatorTok{==}\VariableTok{True}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> False False False False False False False
\end{verbatim}

\hypertarget{casting}{%
\paragraph{Casting}\label{casting}}

nan is numpy floating value. It is not a zero value, therefore casting to boolean returns True.

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{bool}\NormalTok{(kosong1)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> True
\end{verbatim}

\hypertarget{numpy-array}{%
\section{Numpy Array}\label{numpy-array}}

\hypertarget{concept}{%
\subsection{Concept}\label{concept}}

Structure - NumPy provides an N-dimensional array type, the \textbf{ndarray} - \textbf{ndarray} is \textbf{homogenous}: every item takes up the same size block of memory, and all blocks - For each ndarray, there is a seperate \textbf{dtype object}, which describe ndarray data type\\
- An item extracted from an array, e.g., by indexing, is represented by a Python object whose type is one of the array scalar types built in NumPy. The array scalars allow easy manipulation of also more complicated arrangements of data. \includegraphics{./img/numpy.png}

\hypertarget{constructor-7}{%
\subsection{Constructor}\label{constructor-7}}

By default, numpy.array autodetect its data types based on most common denominator

\hypertarget{dtype-int-float}{%
\subsubsection{dType: int, float}\label{dtype-int-float}}

Notice example below \textbf{auto detected} as int32 data type

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{x }\OperatorTok{=}\NormalTok{ np.array( (}\DecValTok{1}\NormalTok{,}\DecValTok{2}\NormalTok{,}\DecValTok{3}\NormalTok{,}\DecValTok{4}\NormalTok{,}\DecValTok{5}\NormalTok{) )}
\BuiltInTok{print}\NormalTok{(x)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> [1 2 3 4 5]
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{(}\StringTok{'Type: '}\NormalTok{, }\BuiltInTok{type}\NormalTok{(x))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> Type:  <class 'numpy.ndarray'>
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{(}\StringTok{'dType:'}\NormalTok{, x.dtype)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> dType: int64
\end{verbatim}

Notice example below \textbf{auto detected} as float64 data type

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{x }\OperatorTok{=}\NormalTok{ np.array( (}\DecValTok{1}\NormalTok{,}\DecValTok{2}\NormalTok{,}\DecValTok{3}\NormalTok{,}\FloatTok{4.5}\NormalTok{,}\DecValTok{5}\NormalTok{) )}
\BuiltInTok{print}\NormalTok{(x)}
\CommentTok{# print('Type: ', type(x))}
\CommentTok{# print('dType:', x.dtype)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> [1.  2.  3.  4.5 5. ]
\end{verbatim}

You can specify dtype to specify desired data types.\\
NumPy will \textbf{auto convert} the data into specifeid types. Observe below that we convert float into integer

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{x }\OperatorTok{=}\NormalTok{ np.array( (}\DecValTok{1}\NormalTok{,}\DecValTok{2}\NormalTok{,}\DecValTok{3}\NormalTok{,}\FloatTok{4.5}\NormalTok{,}\DecValTok{5}\NormalTok{), dtype}\OperatorTok{=}\StringTok{'int'}\NormalTok{ )}
\BuiltInTok{print}\NormalTok{(x)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> [1 2 3 4 5]
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{(}\StringTok{'Type: '}\NormalTok{, }\BuiltInTok{type}\NormalTok{(x))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> Type:  <class 'numpy.ndarray'>
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{(}\StringTok{'dType:'}\NormalTok{, x.dtype)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> dType: int64
\end{verbatim}

\hypertarget{dtype-datetime64}{%
\subsubsection{dType: datetime64}\label{dtype-datetime64}}

Specify \texttt{dtype} is necessary to ensure output is datetime type. If not, output is generic \textbf{object} type.

From \texttt{str}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{x }\OperatorTok{=}\NormalTok{ np.array([}\StringTok{'2007-07-13'}\NormalTok{, }\StringTok{'2006-01-13'}\NormalTok{, }\StringTok{'2010-08-13'}\NormalTok{], dtype}\OperatorTok{=}\StringTok{'datetime64'}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(x)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> ['2007-07-13' '2006-01-13' '2010-08-13']
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{(}\StringTok{'Type: '}\NormalTok{, }\BuiltInTok{type}\NormalTok{(x))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> Type:  <class 'numpy.ndarray'>
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{(}\StringTok{'dType:'}\NormalTok{, x.dtype)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> dType: datetime64[D]
\end{verbatim}

From \texttt{datetime}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{x }\OperatorTok{=}\NormalTok{ np.array([datetime(}\DecValTok{2019}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{12}\NormalTok{), datetime(}\DecValTok{2019}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{14}\NormalTok{),datetime(}\DecValTok{2019}\NormalTok{,}\DecValTok{3}\NormalTok{,}\DecValTok{3}\NormalTok{)], dtype}\OperatorTok{=}\StringTok{'datetime64'}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(x)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> ['2019-01-12T00:00:00.000000' '2019-01-14T00:00:00.000000'
#:>  '2019-03-03T00:00:00.000000']
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{(}\StringTok{'Type: '}\NormalTok{, }\BuiltInTok{type}\NormalTok{(x))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> Type:  <class 'numpy.ndarray'>
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{(}\StringTok{'dType:'}\NormalTok{, x.dtype)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> dType: datetime64[us]
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{(}\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{Element Type:'}\NormalTok{,}\BuiltInTok{type}\NormalTok{(x[}\DecValTok{1}\NormalTok{]))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 
#:> Element Type: <class 'numpy.datetime64'>
\end{verbatim}

\hypertarget{d-array}{%
\subsubsection{2D Array}\label{d-array}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{x }\OperatorTok{=}\NormalTok{ np.array([}\BuiltInTok{range}\NormalTok{(}\DecValTok{10}\NormalTok{),np.arange(}\DecValTok{10}\NormalTok{)])}
\NormalTok{x}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> array([[0, 1, 2, 3, 4, 5, 6, 7, 8, 9],
#:>        [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]])
\end{verbatim}

\hypertarget{dimensions}{%
\subsection{Dimensions}\label{dimensions}}

\hypertarget{differentiating-dimensions}{%
\subsubsection{Differentiating Dimensions}\label{differentiating-dimensions}}

1-D array is array of single list\\
2-D array is array made of list containing lists (each row is a list)\\
2-D single row array is array with list containing just one list

\hypertarget{d-array-1}{%
\subsubsection{1-D Array}\label{d-array-1}}

Observe that the \textbf{shape of the array} is (5,). It seems like an array with 5 rows, \textbf{empty columns} !\\
What it really means is 5 items \textbf{single dimension}.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{arr }\OperatorTok{=}\NormalTok{ np.array(}\BuiltInTok{range}\NormalTok{(}\DecValTok{5}\NormalTok{))}
\BuiltInTok{print}\NormalTok{ (arr)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> [0 1 2 3 4]
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{ (arr.shape)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> (5,)
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{ (arr.ndim)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 1
\end{verbatim}

\hypertarget{d-array-2}{%
\subsubsection{2-D Array}\label{d-array-2}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{arr }\OperatorTok{=}\NormalTok{ np.array([}\BuiltInTok{range}\NormalTok{(}\DecValTok{5}\NormalTok{),}\BuiltInTok{range}\NormalTok{(}\DecValTok{5}\NormalTok{,}\DecValTok{10}\NormalTok{),}\BuiltInTok{range}\NormalTok{(}\DecValTok{10}\NormalTok{,}\DecValTok{15}\NormalTok{)])}
\BuiltInTok{print}\NormalTok{ (arr)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> [[ 0  1  2  3  4]
#:>  [ 5  6  7  8  9]
#:>  [10 11 12 13 14]]
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{ (arr.shape)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> (3, 5)
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{ (arr.ndim)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 2
\end{verbatim}

\hypertarget{d-array---single-row}{%
\subsubsection{2-D Array - Single Row}\label{d-array---single-row}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{arr }\OperatorTok{=}\NormalTok{ np.array([}\BuiltInTok{range}\NormalTok{(}\DecValTok{5}\NormalTok{)])}
\BuiltInTok{print}\NormalTok{ (arr)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> [[0 1 2 3 4]]
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{ (arr.shape)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> (1, 5)
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{ (arr.ndim)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 2
\end{verbatim}

\hypertarget{d-array-single-column}{%
\subsubsection{2-D Array : Single Column}\label{d-array-single-column}}

Using array slicing method with \textbf{newaxis} at \textbf{COLUMN}, will turn 1D array into 2D of \textbf{single column}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{arr }\OperatorTok{=}\NormalTok{ np.arange(}\DecValTok{5}\NormalTok{)[:, np.newaxis]}
\BuiltInTok{print}\NormalTok{ (arr)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> [[0]
#:>  [1]
#:>  [2]
#:>  [3]
#:>  [4]]
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{ (arr.shape)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> (5, 1)
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{ (arr.ndim)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 2
\end{verbatim}

Using array slicing method with \textbf{newaxis} at \textbf{ROW}, will turn 1D array into 2D of \textbf{single row}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{arr }\OperatorTok{=}\NormalTok{ np.arange(}\DecValTok{5}\NormalTok{)[np.newaxis,:]}
\BuiltInTok{print}\NormalTok{ (arr)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> [[0 1 2 3 4]]
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{ (arr.shape)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> (1, 5)
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{ (arr.ndim)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 2
\end{verbatim}

\hypertarget{class-method-3}{%
\subsection{Class Method}\label{class-method-3}}

\hypertarget{arange}{%
\subsubsection{\texorpdfstring{\texttt{arange()}}{arange()}}\label{arange}}

Generate array with a sequence of numbers

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{np.arange(}\DecValTok{10}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> array([0, 1, 2, 3, 4, 5, 6, 7, 8, 9])
\end{verbatim}

\hypertarget{ones}{%
\subsubsection{\texorpdfstring{\texttt{ones()}}{ones()}}\label{ones}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{np.ones(}\DecValTok{10}\NormalTok{)  }\CommentTok{# One dimension, default is float}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> array([1., 1., 1., 1., 1., 1., 1., 1., 1., 1.])
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{np.ones((}\DecValTok{2}\NormalTok{,}\DecValTok{5}\NormalTok{),}\StringTok{'int'}\NormalTok{)  }\CommentTok{#Two dimensions}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> array([[1, 1, 1, 1, 1],
#:>        [1, 1, 1, 1, 1]])
\end{verbatim}

\hypertarget{zeros}{%
\subsubsection{\texorpdfstring{\texttt{zeros()}}{zeros()}}\label{zeros}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{np.zeros( }\DecValTok{10}\NormalTok{ )    }\CommentTok{# One dimension, default is float}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> array([0., 0., 0., 0., 0., 0., 0., 0., 0., 0.])
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{np.zeros((}\DecValTok{2}\NormalTok{,}\DecValTok{5}\NormalTok{),}\StringTok{'int'}\NormalTok{)   }\CommentTok{# 2 rows, 5 columns of ZERO}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> array([[0, 0, 0, 0, 0],
#:>        [0, 0, 0, 0, 0]])
\end{verbatim}

\hypertarget{where}{%
\subsubsection{\texorpdfstring{\texttt{where()}}{where()}}\label{where}}

On \textbf{1D array} \texttt{numpy.where()} returns the items matching the criteria

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{ar1 }\OperatorTok{=}\NormalTok{ np.array(}\BuiltInTok{range}\NormalTok{(}\DecValTok{10}\NormalTok{))}
\BuiltInTok{print}\NormalTok{( ar1 )}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> [0 1 2 3 4 5 6 7 8 9]
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{( np.where(ar1}\OperatorTok{>}\DecValTok{5}\NormalTok{) )}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> (array([6, 7, 8, 9]),)
\end{verbatim}

On \textbf{2D array}, \texttt{where()} return array of \textbf{row index and col index} for matching elements

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{ar }\OperatorTok{=}\NormalTok{ np.array([(}\DecValTok{1}\NormalTok{,}\DecValTok{2}\NormalTok{,}\DecValTok{3}\NormalTok{,}\DecValTok{4}\NormalTok{,}\DecValTok{5}\NormalTok{),(}\DecValTok{11}\NormalTok{,}\DecValTok{12}\NormalTok{,}\DecValTok{13}\NormalTok{,}\DecValTok{14}\NormalTok{,}\DecValTok{15}\NormalTok{),(}\DecValTok{21}\NormalTok{,}\DecValTok{22}\NormalTok{,}\DecValTok{23}\NormalTok{,}\DecValTok{24}\NormalTok{,}\DecValTok{25}\NormalTok{)])}
\BuiltInTok{print}\NormalTok{ (}\StringTok{'Data : }\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{, ar)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> Data : 
#:>  [[ 1  2  3  4  5]
#:>  [11 12 13 14 15]
#:>  [21 22 23 24 25]]
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{np.where(ar}\OperatorTok{>}\DecValTok{13}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> (array([1, 1, 2, 2, 2, 2, 2]), array([3, 4, 0, 1, 2, 3, 4]))
\end{verbatim}

\hypertarget{logical-methods}{%
\subsubsection{Logical Methods}\label{logical-methods}}

\textbf{\texttt{numpy.logical\_or}}\\
Perform \textbf{or} operation on two boolean array, generate new resulting \textbf{boolean arrays}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{ar }\OperatorTok{=}\NormalTok{ np.arange(}\DecValTok{10}\NormalTok{)}
\BuiltInTok{print}\NormalTok{( ar}\OperatorTok{==}\DecValTok{3}\NormalTok{ )  }\CommentTok{# boolean array 1}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> [False False False  True False False False False False False]
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{( ar}\OperatorTok{==}\DecValTok{6}\NormalTok{ )  }\CommentTok{# boolean array 2}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> [False False False False False False  True False False False]
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{( np.logical_or(ar}\OperatorTok{==}\DecValTok{3}\NormalTok{,ar}\OperatorTok{==}\DecValTok{6}\NormalTok{ ) ) }\CommentTok{# resulting boolean}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> [False False False  True False False  True False False False]
\end{verbatim}

\textbf{\texttt{numpy.logical\_and}}\\
Perform \textbf{and} operation on two boolean array, generate new resulting \textbf{boolean arrays}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{ar }\OperatorTok{=}\NormalTok{ np.arange(}\DecValTok{10}\NormalTok{)}
\BuiltInTok{print}\NormalTok{( ar}\OperatorTok{==}\DecValTok{3}\NormalTok{ ) }\CommentTok{# boolean array 1}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> [False False False  True False False False False False False]
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{( ar}\OperatorTok{==}\DecValTok{6}\NormalTok{ ) }\CommentTok{# boolean array 2}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> [False False False False False False  True False False False]
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{( np.logical_and(ar}\OperatorTok{==}\DecValTok{3}\NormalTok{,ar}\OperatorTok{==}\DecValTok{6}\NormalTok{ ) )  }\CommentTok{# resulting boolean}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> [False False False False False False False False False False]
\end{verbatim}

\hypertarget{instance-method-3}{%
\subsection{Instance Method}\label{instance-method-3}}

\hypertarget{astype-conversion}{%
\subsubsection{\texorpdfstring{\texttt{astype()} conversion}{astype() conversion}}\label{astype-conversion}}

\textbf{Convert to from datetime64 to datetime}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{ar1 }\OperatorTok{=}\NormalTok{ np.array([}\StringTok{'2007-07-13'}\NormalTok{, }\StringTok{'2006-01-13'}\NormalTok{, }\StringTok{'2010-08-13'}\NormalTok{], dtype}\OperatorTok{=}\StringTok{'datetime64'}\NormalTok{)}
\BuiltInTok{print}\NormalTok{( }\BuiltInTok{type}\NormalTok{(ar1) )  }\CommentTok{## a numpy array}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> <class 'numpy.ndarray'>
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{( ar1.dtype )  }\CommentTok{## dtype is a numpy data type}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> datetime64[D]
\end{verbatim}

After convert to datetime (non-numpy object, the dtype becomes \textbf{generic `object'}.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{ar2 }\OperatorTok{=}\NormalTok{ ar1.astype(datetime)}
\BuiltInTok{print}\NormalTok{( }\BuiltInTok{type}\NormalTok{(ar2) )  }\CommentTok{## still a numpy array}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> <class 'numpy.ndarray'>
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{( ar2.dtype )  }\CommentTok{## dtype becomes generic 'object'}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> object
\end{verbatim}

\hypertarget{reshape}{%
\subsubsection{\texorpdfstring{\texttt{reshape()}}{reshape()}}\label{reshape}}

\begin{verbatim}
reshape ( row numbers, col numbers )
\end{verbatim}

\textbf{Sample Data}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a }\OperatorTok{=}\NormalTok{ np.array([}\BuiltInTok{range}\NormalTok{(}\DecValTok{5}\NormalTok{), }\BuiltInTok{range}\NormalTok{(}\DecValTok{10}\NormalTok{,}\DecValTok{15}\NormalTok{), }\BuiltInTok{range}\NormalTok{(}\DecValTok{20}\NormalTok{,}\DecValTok{25}\NormalTok{), }\BuiltInTok{range}\NormalTok{(}\DecValTok{30}\NormalTok{,}\DecValTok{35}\NormalTok{)])}
\NormalTok{a}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> array([[ 0,  1,  2,  3,  4],
#:>        [10, 11, 12, 13, 14],
#:>        [20, 21, 22, 23, 24],
#:>        [30, 31, 32, 33, 34]])
\end{verbatim}

\textbf{Resphepe 1-Dim to 2-Dim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{np.arange(}\DecValTok{12}\NormalTok{) }\CommentTok{# 1-D Array}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> array([ 0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11])
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{np.arange(}\DecValTok{12}\NormalTok{).reshape(}\DecValTok{3}\NormalTok{,}\DecValTok{4}\NormalTok{)  }\CommentTok{# 2-D Array}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> array([[ 0,  1,  2,  3],
#:>        [ 4,  5,  6,  7],
#:>        [ 8,  9, 10, 11]])
\end{verbatim}

\textbf{Respahe 2-Dim to 2-Dim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{np.array([}\BuiltInTok{range}\NormalTok{(}\DecValTok{5}\NormalTok{), }\BuiltInTok{range}\NormalTok{(}\DecValTok{10}\NormalTok{,}\DecValTok{15}\NormalTok{)])  }\CommentTok{# 2-D Array}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> array([[ 0,  1,  2,  3,  4],
#:>        [10, 11, 12, 13, 14]])
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{np.array([}\BuiltInTok{range}\NormalTok{(}\DecValTok{5}\NormalTok{), }\BuiltInTok{range}\NormalTok{(}\DecValTok{10}\NormalTok{,}\DecValTok{15}\NormalTok{)]).reshape(}\DecValTok{5}\NormalTok{,}\DecValTok{2}\NormalTok{) }\CommentTok{# 2-D Array}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> array([[ 0,  1],
#:>        [ 2,  3],
#:>        [ 4, 10],
#:>        [11, 12],
#:>        [13, 14]])
\end{verbatim}

\textbf{Reshape 2-Dimension to 2-Dim (of single row)} - Change 2x10 to 1x10\\
- Observe {[}{[} {]}{]}, and the number of dimension is stll 2, don't be fooled

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{np.array( [}\BuiltInTok{range}\NormalTok{(}\DecValTok{0}\NormalTok{,}\DecValTok{5}\NormalTok{), }\BuiltInTok{range}\NormalTok{(}\DecValTok{5}\NormalTok{,}\DecValTok{10}\NormalTok{)])  }\CommentTok{# 2-D Array}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> array([[0, 1, 2, 3, 4],
#:>        [5, 6, 7, 8, 9]])
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{np.array( [}\BuiltInTok{range}\NormalTok{(}\DecValTok{0}\NormalTok{,}\DecValTok{5}\NormalTok{), }\BuiltInTok{range}\NormalTok{(}\DecValTok{5}\NormalTok{,}\DecValTok{10}\NormalTok{)]).reshape(}\DecValTok{1}\NormalTok{,}\DecValTok{10}\NormalTok{) }\CommentTok{# 2-D Array}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> array([[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]])
\end{verbatim}

\textbf{Reshape 1-Dim Array to 2-Dim Array (single column)}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{np.arange(}\DecValTok{8}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> array([0, 1, 2, 3, 4, 5, 6, 7])
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{np.arange(}\DecValTok{8}\NormalTok{).reshape(}\DecValTok{8}\NormalTok{,}\DecValTok{1}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> array([[0],
#:>        [1],
#:>        [2],
#:>        [3],
#:>        [4],
#:>        [5],
#:>        [6],
#:>        [7]])
\end{verbatim}

A better method, use \textbf{newaxis}, easier because no need to input row number as parameter

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{np.arange(}\DecValTok{8}\NormalTok{)[:,np.newaxis]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> array([[0],
#:>        [1],
#:>        [2],
#:>        [3],
#:>        [4],
#:>        [5],
#:>        [6],
#:>        [7]])
\end{verbatim}

\textbf{Reshape 1-Dim Array to 2-Dim Array (single row)}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{np.arange(}\DecValTok{8}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> array([0, 1, 2, 3, 4, 5, 6, 7])
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{np.arange(}\DecValTok{8}\NormalTok{)[np.newaxis,:]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> array([[0, 1, 2, 3, 4, 5, 6, 7]])
\end{verbatim}

\hypertarget{element-selection}{%
\subsection{Element Selection}\label{element-selection}}

\hypertarget{sample-data-1}{%
\subsubsection{Sample Data}\label{sample-data-1}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{x1 }\OperatorTok{=}\NormalTok{ np.array( (}\DecValTok{0}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{2}\NormalTok{,}\DecValTok{3}\NormalTok{,}\DecValTok{4}\NormalTok{,}\DecValTok{5}\NormalTok{,}\DecValTok{6}\NormalTok{,}\DecValTok{7}\NormalTok{,}\DecValTok{8}\NormalTok{))}
\NormalTok{x2 }\OperatorTok{=}\NormalTok{ np.array(( (}\DecValTok{1}\NormalTok{,}\DecValTok{2}\NormalTok{,}\DecValTok{3}\NormalTok{,}\DecValTok{4}\NormalTok{,}\DecValTok{5}\NormalTok{), }
\NormalTok{      (}\DecValTok{11}\NormalTok{,}\DecValTok{12}\NormalTok{,}\DecValTok{13}\NormalTok{,}\DecValTok{14}\NormalTok{,}\DecValTok{15}\NormalTok{),}
\NormalTok{      (}\DecValTok{21}\NormalTok{,}\DecValTok{22}\NormalTok{,}\DecValTok{23}\NormalTok{,}\DecValTok{24}\NormalTok{,}\DecValTok{25}\NormalTok{)))}
\BuiltInTok{print}\NormalTok{(x1)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> [0 1 2 3 4 5 6 7 8]
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{(x2)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> [[ 1  2  3  4  5]
#:>  [11 12 13 14 15]
#:>  [21 22 23 24 25]]
\end{verbatim}

\hypertarget{dimension}{%
\subsubsection{1-Dimension}\label{dimension}}

All indexing starts from 0 (not 1)

Choosing \textbf{Single Element} does not return array

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{( x1[}\DecValTok{0}\NormalTok{]   )  }\CommentTok{## first element}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 0
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{( x1[}\OperatorTok{-}\DecValTok{1}\NormalTok{]  )  }\CommentTok{## last element}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 8
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{( x1[}\DecValTok{3}\NormalTok{]   )  }\CommentTok{## third element from start 3}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 3
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{( x1[}\OperatorTok{-}\DecValTok{3}\NormalTok{]  )  }\CommentTok{## third element from end}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 6
\end{verbatim}

Selecting \textbf{multiple elments} return \textbf{ndarray}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{( x1[:}\DecValTok{3}\NormalTok{]  )  }\CommentTok{## first 3 elements}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> [0 1 2]
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{( x1[}\OperatorTok{-}\DecValTok{3}\NormalTok{:])   }\CommentTok{## last 3 elements}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> [6 7 8]
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{( x1[}\DecValTok{3}\NormalTok{:]  )  }\CommentTok{## all except first 3 elements}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> [3 4 5 6 7 8]
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{( x1[:}\OperatorTok{-}\DecValTok{3}\NormalTok{] )  }\CommentTok{## all except last 3 elements}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> [0 1 2 3 4 5]
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{( x1[}\DecValTok{1}\NormalTok{:}\DecValTok{4}\NormalTok{] )  }\CommentTok{## elemnt 1 to 4 (not including 4)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> [1 2 3]
\end{verbatim}

\hypertarget{dimension-1}{%
\subsubsection{2-Dimension}\label{dimension-1}}

Indexing with \textbf{{[} row\_positoins, row\_positions {]}}, index starts with 0

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{x[}\DecValTok{1}\NormalTok{:}\DecValTok{3}\NormalTok{, }\DecValTok{1}\NormalTok{:}\DecValTok{4}\NormalTok{] }\CommentTok{# row 1 to 2 column 1 to 3}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> array([[1, 2, 3]])
\end{verbatim}

\hypertarget{attributes-3}{%
\subsection{Attributes}\label{attributes-3}}

\hypertarget{dtype}{%
\subsubsection{\texorpdfstring{\texttt{dtype}}{dtype}}\label{dtype}}

ndarray contain a property called \textbf{dtype}, whcih tell us the type of underlying items

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a }\OperatorTok{=}\NormalTok{ np.array( (}\DecValTok{1}\NormalTok{,}\DecValTok{2}\NormalTok{,}\DecValTok{3}\NormalTok{,}\DecValTok{4}\NormalTok{,}\DecValTok{5}\NormalTok{), dtype}\OperatorTok{=}\StringTok{'float'}\NormalTok{ )}
\NormalTok{a.dtype}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> dtype('float64')
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{(a.dtype)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> float64
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{( }\BuiltInTok{type}\NormalTok{(a[}\DecValTok{1}\NormalTok{]))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> <class 'numpy.float64'>
\end{verbatim}

\hypertarget{dim}{%
\subsubsection{\texorpdfstring{\texttt{dim}}{dim}}\label{dim}}

\textbf{\texttt{dim}} returns the number of dimensions of the NumPy array. Example below shows 2-D array

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{x }\OperatorTok{=}\NormalTok{ np.array(( (}\DecValTok{1}\NormalTok{,}\DecValTok{2}\NormalTok{,}\DecValTok{3}\NormalTok{,}\DecValTok{4}\NormalTok{,}\DecValTok{5}\NormalTok{), }
\NormalTok{      (}\DecValTok{11}\NormalTok{,}\DecValTok{12}\NormalTok{,}\DecValTok{13}\NormalTok{,}\DecValTok{14}\NormalTok{,}\DecValTok{15}\NormalTok{),}
\NormalTok{      (}\DecValTok{21}\NormalTok{,}\DecValTok{22}\NormalTok{,}\DecValTok{23}\NormalTok{,}\DecValTok{24}\NormalTok{,}\DecValTok{25}\NormalTok{)))}
\NormalTok{x.ndim  }
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 2
\end{verbatim}

\hypertarget{shape}{%
\subsubsection{\texorpdfstring{\texttt{shape}}{shape}}\label{shape}}

\textbf{\texttt{shape}} return a type of \textbf{(rows, cols)}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{x }\OperatorTok{=}\NormalTok{ np.array(( (}\DecValTok{1}\NormalTok{,}\DecValTok{2}\NormalTok{,}\DecValTok{3}\NormalTok{,}\DecValTok{4}\NormalTok{,}\DecValTok{5}\NormalTok{), }
\NormalTok{      (}\DecValTok{11}\NormalTok{,}\DecValTok{12}\NormalTok{,}\DecValTok{13}\NormalTok{,}\DecValTok{14}\NormalTok{,}\DecValTok{15}\NormalTok{),}
\NormalTok{      (}\DecValTok{21}\NormalTok{,}\DecValTok{22}\NormalTok{,}\DecValTok{23}\NormalTok{,}\DecValTok{24}\NormalTok{,}\DecValTok{25}\NormalTok{)))}
\NormalTok{x.shape  }
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> (3, 5)
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{np.identity(}\DecValTok{5}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> array([[1., 0., 0., 0., 0.],
#:>        [0., 1., 0., 0., 0.],
#:>        [0., 0., 1., 0., 0.],
#:>        [0., 0., 0., 1., 0.],
#:>        [0., 0., 0., 0., 1.]])
\end{verbatim}

\hypertarget{operations}{%
\subsection{Operations}\label{operations}}

\hypertarget{arithmetic}{%
\subsubsection{Arithmetic}\label{arithmetic}}

\textbf{Sample Date}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{ar }\OperatorTok{=}\NormalTok{ np.arange(}\DecValTok{10}\NormalTok{)}
\BuiltInTok{print}\NormalTok{( ar )}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> [0 1 2 3 4 5 6 7 8 9]
\end{verbatim}

\textbf{\texttt{*}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{ar }\OperatorTok{=}\NormalTok{ np.arange(}\DecValTok{10}\NormalTok{)}
\BuiltInTok{print}\NormalTok{ (ar)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> [0 1 2 3 4 5 6 7 8 9]
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{ (ar}\OperatorTok{*}\DecValTok{2}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> [ 0  2  4  6  8 10 12 14 16 18]
\end{verbatim}

\texttt{**+\ and\ -**}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{ar }\OperatorTok{=}\NormalTok{ np.arange(}\DecValTok{10}\NormalTok{)}
\BuiltInTok{print}\NormalTok{ (ar}\OperatorTok{+}\DecValTok{2}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> [ 2  3  4  5  6  7  8  9 10 11]
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{ (ar}\DecValTok{-2}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> [-2 -1  0  1  2  3  4  5  6  7]
\end{verbatim}

\hypertarget{comparison}{%
\subsubsection{Comparison}\label{comparison}}

\textbf{Sample Data}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{ar }\OperatorTok{=}\NormalTok{ np.arange(}\DecValTok{10}\NormalTok{)}
\BuiltInTok{print}\NormalTok{( ar )}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> [0 1 2 3 4 5 6 7 8 9]
\end{verbatim}

\textbf{\texttt{==}}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{( ar}\OperatorTok{==}\DecValTok{3}\NormalTok{ )}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> [False False False  True False False False False False False]
\end{verbatim}

\textbf{\texttt{\textgreater{},\ \textgreater{}=,\ \textless{},\ \textless{}=}}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{( ar}\OperatorTok{>}\DecValTok{3}\NormalTok{ )}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> [False False False False  True  True  True  True  True  True]
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{( ar}\OperatorTok{<=}\DecValTok{3}\NormalTok{ )}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> [ True  True  True  True False False False False False False]
\end{verbatim}

\hypertarget{random-numbers}{%
\section{Random Numbers}\label{random-numbers}}

\hypertarget{uniform-distribution}{%
\subsection{Uniform Distribution}\label{uniform-distribution}}

\hypertarget{random-integer-with-replacement}{%
\subsubsection{Random Integer (with Replacement)}\label{random-integer-with-replacement}}

\textbf{randint()} Return random integers from \textbf{low (inclusive) to high (exclusive)}

\begin{verbatim}
np.random.randint( low )                  # generate an integer, i, which         i < low
np.random.randint( low, high )            # generate an integer, i, which  low <= i < high
np.random.randint( low, high, size=1)     # generate an ndarray of integer, single dimension
np.random.randint( low, high, size=(r,c)) # generate an ndarray of integer, two dimensions 
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{np.random.randint( }\DecValTok{10}\NormalTok{ )}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 3
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{np.random.randint( }\DecValTok{10}\NormalTok{, }\DecValTok{20}\NormalTok{ )}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 10
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{np.random.randint( }\DecValTok{10}\NormalTok{, high}\OperatorTok{=}\DecValTok{20}\NormalTok{, size}\OperatorTok{=}\DecValTok{5}\NormalTok{)   }\CommentTok{# single dimension}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> array([16, 15, 19, 14, 15])
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{np.random.randint( }\DecValTok{10}\NormalTok{, }\DecValTok{20}\NormalTok{, (}\DecValTok{3}\NormalTok{,}\DecValTok{5}\NormalTok{) )        }\CommentTok{# two dimensions}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> array([[15, 14, 19, 13, 18],
#:>        [19, 14, 18, 16, 18],
#:>        [13, 13, 15, 12, 19]])
\end{verbatim}

\hypertarget{random-integer-with-or-without-replacement}{%
\subsubsection{Random Integer (with or without replacement)}\label{random-integer-with-or-without-replacement}}

\begin{verbatim}
numpy.random .choice( a, size, replace=True)
 # sampling from a, 
 #   if a is integer, then it is assumed sampling from arange(a)
 #   if a is an 1-D array, then sampling from this array
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{np.random.choice(}\DecValTok{10}\NormalTok{,}\DecValTok{5}\NormalTok{, replace}\OperatorTok{=}\VariableTok{False}\NormalTok{) }\CommentTok{# take 5 samples from 0:19, without replacement}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> array([1, 3, 9, 0, 6])
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{np.random.choice( np.arange(}\DecValTok{10}\NormalTok{,}\DecValTok{20}\NormalTok{), }\DecValTok{5}\NormalTok{, replace}\OperatorTok{=}\VariableTok{False}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> array([12, 10, 19, 16, 13])
\end{verbatim}

\hypertarget{random-float}{%
\subsubsection{Random Float}\label{random-float}}

\textbf{randf()} Generate float numbers in \textbf{between 0.0 and 1.0}

\begin{verbatim}
np.random.ranf(size=None)
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{np.random.ranf(}\DecValTok{4}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> array([0.69710059, 0.82872999, 0.03593044, 0.54566377])
\end{verbatim}

\textbf{uniform()} Return random float from \textbf{low (inclusive) to high (exclusive)}

\begin{verbatim}
np.random.uniform( low )                  # generate an float, i, which         f < low
np.random.uniform( low, high )            # generate an float, i, which  low <= f < high
np.random.uniform( low, high, size=1)     # generate an array of float, single dimension
np.random.uniform( low, high, size=(r,c)) # generate an array of float, two dimensions 
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{np.random.uniform( }\DecValTok{2}\NormalTok{ )}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 1.0727487947579406
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{np.random.uniform( }\DecValTok{2}\NormalTok{,}\DecValTok{5}\NormalTok{, size}\OperatorTok{=}\NormalTok{(}\DecValTok{4}\NormalTok{,}\DecValTok{4}\NormalTok{) )}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> array([[2.6094869 , 3.12759794, 2.04714927, 4.35031485],
#:>        [3.09213339, 4.38930742, 2.22796594, 4.90869577],
#:>        [2.03265345, 4.19190245, 2.69045545, 2.61105275],
#:>        [3.92491186, 4.04893854, 3.70541642, 3.63467769]])
\end{verbatim}

\hypertarget{normal-distribution}{%
\subsection{Normal Distribution}\label{normal-distribution}}

\begin{verbatim}
numpy. random.randn (n_items)       # 1-D standard normal (mean=0, stdev=1)
numpy. random.randn (nrows, ncols)  # 2-D standard normal (mean=0, stdev=1)
numpy. random.standard_normal( size=None )                # default to mean = 0, stdev = 1, non-configurable
numpy. random.normal         ( loc=0, scale=1, size=None) # loc = mean, scale = stdev, size = dimension
\end{verbatim}

\hypertarget{standard-normal-distribution}{%
\subsubsection{Standard Normal Distribution}\label{standard-normal-distribution}}

Generate random normal numbers with gaussion distribution (mean=0, stdev=1)

\textbf{One Dimension}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{np.random.standard_normal(}\DecValTok{3}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> array([ 0.34961933,  1.34488433, -0.60252443])
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{np.random.randn(}\DecValTok{3}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> array([-0.30005145, -0.22254596,  0.79616734])
\end{verbatim}

\textbf{Two Dimensions}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{np.random.randn(}\DecValTok{2}\NormalTok{,}\DecValTok{4}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> array([[ 0.76694483,  1.86781364, -1.19690181, -1.21873709],
#:>        [-1.29392609, -0.26193157, -0.24358407,  0.69935345]])
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{np.random.standard_normal((}\DecValTok{2}\NormalTok{,}\DecValTok{4}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> array([[-1.82091166, -0.162706  , -0.89348878, -0.04431679],
#:>        [ 0.18305435,  0.16166238,  0.19745765, -1.67020584]])
\end{verbatim}

\textbf{Observe:} randn(), standard\_normal() and normal() are able to generate standard normal numbers

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{np.random.seed(}\DecValTok{15}\NormalTok{)}
\BuiltInTok{print}\NormalTok{ (np.random.randn(}\DecValTok{5}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> [-0.31232848  0.33928471 -0.15590853 -0.50178967  0.23556889]
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{np.random.seed(}\DecValTok{15}\NormalTok{)}
\BuiltInTok{print}\NormalTok{ (np.random.normal ( size }\OperatorTok{=} \DecValTok{5}\NormalTok{ )) }\CommentTok{# stdev and mean not specified, default to standard normal}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> [-0.31232848  0.33928471 -0.15590853 -0.50178967  0.23556889]
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{np.random.seed(}\DecValTok{15}\NormalTok{)}
\BuiltInTok{print}\NormalTok{ (np.random.standard_normal (size}\OperatorTok{=}\DecValTok{5}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> [-0.31232848  0.33928471 -0.15590853 -0.50178967  0.23556889]
\end{verbatim}

\hypertarget{normal-distribution-non-standard}{%
\subsubsection{Normal Distribution (Non-Standard)}\label{normal-distribution-non-standard}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{np.random.seed(}\DecValTok{125}\NormalTok{)}
\NormalTok{np.random.normal( loc }\OperatorTok{=} \DecValTok{12}\NormalTok{, scale}\OperatorTok{=}\FloatTok{1.25}\NormalTok{, size}\OperatorTok{=}\NormalTok{(}\DecValTok{3}\NormalTok{,}\DecValTok{3}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> array([[11.12645382, 12.01327885, 10.81651695],
#:>        [12.41091248, 12.39383072, 11.49647195],
#:>        [ 8.70837035, 12.25246312, 11.49084235]])
\end{verbatim}

\hypertarget{linear-spacing}{%
\subsubsection{Linear Spacing}\label{linear-spacing}}

\begin{verbatim}
numpy.linspace(start, stop, num=50, endpoint=True, retstep=False, dtype=None)
# endpoint: If True, stop is the last sample, otherwise it is not included
\end{verbatim}

\textbf{Include Endpoint}\\
Step = Gap divide by (number of elements minus 1) (2/(10-1))

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{np.linspace(}\DecValTok{1}\NormalTok{,}\DecValTok{3}\NormalTok{,}\DecValTok{10}\NormalTok{) }\CommentTok{#default endpont=True}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> array([1.        , 1.22222222, 1.44444444, 1.66666667, 1.88888889,
#:>        2.11111111, 2.33333333, 2.55555556, 2.77777778, 3.        ])
\end{verbatim}

\textbf{Does Not Include Endpoint}\\
Step = Gap divide by (number of elements minus 1) (2/(101))

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{np.linspace(}\DecValTok{1}\NormalTok{,}\DecValTok{3}\NormalTok{,}\DecValTok{10}\NormalTok{,endpoint}\OperatorTok{=}\VariableTok{False}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> array([1. , 1.2, 1.4, 1.6, 1.8, 2. , 2.2, 2.4, 2.6, 2.8])
\end{verbatim}

\hypertarget{sampling-integer}{%
\section{Sampling (Integer)}\label{sampling-integer}}

\begin{verbatim}
random.choice( a, size=None, replace=True, p=None)  # a=integer, return <size> integers < a
random.choice( a, size=None, replace=True, p=None)  # a=array-like, return <size> integers picked from list a
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{np.random.choice (}\DecValTok{100}\NormalTok{, size}\OperatorTok{=}\DecValTok{10}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> array([58,  0, 84, 50, 89, 32, 87, 30, 66, 92])
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{np.random.choice( [}\DecValTok{1}\NormalTok{,}\DecValTok{3}\NormalTok{,}\DecValTok{5}\NormalTok{,}\DecValTok{7}\NormalTok{,}\DecValTok{9}\NormalTok{,}\DecValTok{11}\NormalTok{,}\DecValTok{13}\NormalTok{,}\DecValTok{15}\NormalTok{,}\DecValTok{17}\NormalTok{,}\DecValTok{19}\NormalTok{,}\DecValTok{21}\NormalTok{,}\DecValTok{23}\NormalTok{], size}\OperatorTok{=}\DecValTok{10}\NormalTok{, replace}\OperatorTok{=}\VariableTok{False}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> array([ 5,  1, 23, 17,  3, 13, 15,  9, 21,  7])
\end{verbatim}

\hypertarget{nan-missing-numerical-data}{%
\section{NaN : Missing Numerical Data}\label{nan-missing-numerical-data}}

\begin{itemize}
\tightlist
\item
  You should be aware that NaN is a bit like a data virus?it infects any other object it touches
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{t }\OperatorTok{=}\NormalTok{ np.array([}\DecValTok{1}\NormalTok{, np.nan, }\DecValTok{3}\NormalTok{, }\DecValTok{4}\NormalTok{]) }
\NormalTok{t.dtype}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> dtype('float64')
\end{verbatim}

Regardless of the operation, the result of arithmetic with NaN will be another NaN

\begin{Shaded}
\begin{Highlighting}[]
\DecValTok{1} \OperatorTok{+}\NormalTok{ np.nan}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> nan
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{t.}\BuiltInTok{sum}\NormalTok{(), t.mean(), t.}\BuiltInTok{max}\NormalTok{()}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> (nan, nan, nan)
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{np.nansum(t), np.nanmean(t), np.nanmax(t)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> (8.0, 2.6666666666666665, 4.0)
\end{verbatim}

\hypertarget{pandas-1}{%
\chapter{pandas}\label{pandas-1}}

\hypertarget{modules-import}{%
\section{Modules Import}\label{modules-import}}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ pandas }\ImportTok{as}\NormalTok{ pd}

\CommentTok{## Other Libraries}
\ImportTok{import}\NormalTok{ numpy }\ImportTok{as}\NormalTok{ np}
\ImportTok{import}\NormalTok{ datetime }\ImportTok{as}\NormalTok{ dt}
\ImportTok{from}\NormalTok{ datetime }\ImportTok{import}\NormalTok{ datetime}
\ImportTok{from}\NormalTok{ datetime }\ImportTok{import}\NormalTok{ date}
\end{Highlighting}
\end{Shaded}

\hypertarget{pandas-objects}{%
\section{Pandas Objects}\label{pandas-objects}}

\hypertarget{pandas-data-types}{%
\subsection{Pandas Data Types}\label{pandas-data-types}}

\begin{itemize}
\tightlist
\item
  pandas.Timestamp
\item
  pandas.Timedelta
\item
  pandas.Period
\item
  pandas.Interval
\item
  pandas.DateTimeIndex
\end{itemize}

\hypertarget{pandas-data-structure}{%
\subsection{Pandas Data Structure}\label{pandas-data-structure}}

\begin{longtable}[]{@{}lllll@{}}
\toprule
\begin{minipage}[b]{0.10\columnwidth}\raggedright
Type\strut
\end{minipage} & \begin{minipage}[b]{0.10\columnwidth}\raggedright
Dimension\strut
\end{minipage} & \begin{minipage}[b]{0.10\columnwidth}\raggedright
Size\strut
\end{minipage} & \begin{minipage}[b]{0.08\columnwidth}\raggedright
Value\strut
\end{minipage} & \begin{minipage}[b]{0.48\columnwidth}\raggedright
Constructor\strut
\end{minipage}\tabularnewline
\midrule
\endhead
\begin{minipage}[t]{0.10\columnwidth}\raggedright
Series\strut
\end{minipage} & \begin{minipage}[t]{0.10\columnwidth}\raggedright
1\strut
\end{minipage} & \begin{minipage}[t]{0.10\columnwidth}\raggedright
Immutable\strut
\end{minipage} & \begin{minipage}[t]{0.08\columnwidth}\raggedright
Mutable\strut
\end{minipage} & \begin{minipage}[t]{0.48\columnwidth}\raggedright
pandas.DataFrame( data, index, dtype, copy)\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.10\columnwidth}\raggedright
DataFrame\strut
\end{minipage} & \begin{minipage}[t]{0.10\columnwidth}\raggedright
2\strut
\end{minipage} & \begin{minipage}[t]{0.10\columnwidth}\raggedright
Mutable\strut
\end{minipage} & \begin{minipage}[t]{0.08\columnwidth}\raggedright
Mutable\strut
\end{minipage} & \begin{minipage}[t]{0.48\columnwidth}\raggedright
pandas.DataFrame( data, index, columns, dtype, copy)\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.10\columnwidth}\raggedright
Panel\strut
\end{minipage} & \begin{minipage}[t]{0.10\columnwidth}\raggedright
3\strut
\end{minipage} & \begin{minipage}[t]{0.10\columnwidth}\raggedright
Mutable\strut
\end{minipage} & \begin{minipage}[t]{0.08\columnwidth}\raggedright
Mutable\strut
\end{minipage} & \begin{minipage}[t]{0.48\columnwidth}\raggedright
\strut
\end{minipage}\tabularnewline
\bottomrule
\end{longtable}

\textbf{data} can be ndarray, list, constants\\
\textbf{index} must be unique and same length as data. Can be integer or string \textbf{dtype} if none, it will be inferred\\
\textbf{copy} copy data. Default false

\hypertarget{class-method-4}{%
\section{Class Method}\label{class-method-4}}

\hypertarget{creating-timestamp-objects}{%
\subsection{Creating Timestamp Objects}\label{creating-timestamp-objects}}

Pandas \textbf{\texttt{to\_datetime()}} can:\\
- Convert list of dates to \textbf{DateTimeIndex}\\
- Convert list of dates to \textbf{Series of Timestamps}\\
- Convert single date into \textbf{Timestamp} Object . Source can be \textbf{string, date, datetime object}

\hypertarget{from-list-to-datetimeindex}{%
\subsubsection{\texorpdfstring{From List to \texttt{DateTimeIndex}}{From List to DateTimeIndex}}\label{from-list-to-datetimeindex}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{dti }\OperatorTok{=}\NormalTok{ pd.to_datetime([}\StringTok{'2011-01-03'}\NormalTok{,             }\CommentTok{# from string}
\NormalTok{                       date(}\DecValTok{2018}\NormalTok{,}\DecValTok{4}\NormalTok{,}\DecValTok{13}\NormalTok{),         }\CommentTok{# from date}
\NormalTok{                       datetime(}\DecValTok{2018}\NormalTok{,}\DecValTok{3}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{7}\NormalTok{,}\DecValTok{30}\NormalTok{)] }\CommentTok{# from datetime}
\NormalTok{              )}
\BuiltInTok{print}\NormalTok{( dti,}
      \StringTok{'}\CharTok{\textbackslash{}n}\StringTok{Object Type:  '}\NormalTok{, }\BuiltInTok{type}\NormalTok{(dti),}
      \StringTok{'}\CharTok{\textbackslash{}n}\StringTok{Object dtype: '}\NormalTok{, dti.dtype,}
      \StringTok{'}\CharTok{\textbackslash{}n}\StringTok{Element Type: '}\NormalTok{, }\BuiltInTok{type}\NormalTok{(dti[}\DecValTok{1}\NormalTok{]))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> DatetimeIndex(['2011-01-03 00:00:00', '2018-04-13 00:00:00', '2018-03-01 07:30:00'], dtype='datetime64[ns]', freq=None) 
#:> Object Type:   <class 'pandas.core.indexes.datetimes.DatetimeIndex'> 
#:> Object dtype:  datetime64[ns] 
#:> Element Type:  <class 'pandas._libs.tslibs.timestamps.Timestamp'>
\end{verbatim}

\hypertarget{from-list-to-series-of-timestamps}{%
\subsubsection{From List to Series of Timestamps}\label{from-list-to-series-of-timestamps}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{sdt }\OperatorTok{=}\NormalTok{ pd.to_datetime(pd.Series([}\StringTok{'2011-01-03'}\NormalTok{,      }\CommentTok{# from string}
\NormalTok{                                date(}\DecValTok{2018}\NormalTok{,}\DecValTok{4}\NormalTok{,}\DecValTok{13}\NormalTok{),        }\CommentTok{# from date}
\NormalTok{                                datetime(}\DecValTok{2018}\NormalTok{,}\DecValTok{3}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{7}\NormalTok{,}\DecValTok{30}\NormalTok{)]}\CommentTok{# from datetime}
\NormalTok{              ))}
\BuiltInTok{print}\NormalTok{(sdt,}
      \StringTok{'}\CharTok{\textbackslash{}n}\StringTok{Object Type:  '}\NormalTok{,}\BuiltInTok{type}\NormalTok{(sdt),}
      \StringTok{'}\CharTok{\textbackslash{}n}\StringTok{Object dtype: '}\NormalTok{, sdt.dtype,}
      \StringTok{'}\CharTok{\textbackslash{}n}\StringTok{Element Type: '}\NormalTok{,}\BuiltInTok{type}\NormalTok{(sdt[}\DecValTok{1}\NormalTok{]))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 0   2011-01-03 00:00:00
#:> 1   2018-04-13 00:00:00
#:> 2   2018-03-01 07:30:00
#:> dtype: datetime64[ns] 
#:> Object Type:   <class 'pandas.core.series.Series'> 
#:> Object dtype:  datetime64[ns] 
#:> Element Type:  <class 'pandas._libs.tslibs.timestamps.Timestamp'>
\end{verbatim}

\hypertarget{from-scalar-to-timestamp}{%
\subsubsection{From Scalar to Timestamp}\label{from-scalar-to-timestamp}}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{( pd.to_datetime(}\StringTok{'2011-01-03'}\NormalTok{), }\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{,}
\NormalTok{       pd.to_datetime(date(}\DecValTok{2011}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{3}\NormalTok{)), }\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{,}
\NormalTok{       pd.to_datetime(datetime(}\DecValTok{2011}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{3}\NormalTok{,}\DecValTok{5}\NormalTok{,}\DecValTok{30}\NormalTok{)), }\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{,}
       \StringTok{'}\CharTok{\textbackslash{}n}\StringTok{Element Type: '}\NormalTok{, }\BuiltInTok{type}\NormalTok{(pd.to_datetime(datetime(}\DecValTok{2011}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{3}\NormalTok{,}\DecValTok{5}\NormalTok{,}\DecValTok{30}\NormalTok{))))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 2011-01-03 00:00:00 
#:>  2011-01-03 00:00:00 
#:>  2011-01-03 05:30:00 
#:>  
#:> Element Type:  <class 'pandas._libs.tslibs.timestamps.Timestamp'>
\end{verbatim}

\hypertarget{generate-timestamp-sequence}{%
\subsection{Generate Timestamp Sequence}\label{generate-timestamp-sequence}}

The function \texttt{date\_range()} return \textbf{\texttt{DateTimeIndex}} object. Use \texttt{Series()} to convert into Series if desired.

\hypertarget{hourly}{%
\subsubsection{Hourly}\label{hourly}}

If start time not specified, default to 00:00:00.\\
If start time specified, it will be honored on all subsequent Timestamp elements.\\
Specify \textbf{start} and \textbf{end}, sequence will automatically distribute Timestamp according to \textbf{frequency}.

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{(}
\NormalTok{  pd.date_range(}\StringTok{'2018-01-01'}\NormalTok{, periods}\OperatorTok{=}\DecValTok{3}\NormalTok{, freq}\OperatorTok{=}\StringTok{'H'}\NormalTok{),}
\NormalTok{  pd.date_range(datetime(}\DecValTok{2018}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{12}\NormalTok{,}\DecValTok{30}\NormalTok{), periods}\OperatorTok{=}\DecValTok{3}\NormalTok{, freq}\OperatorTok{=}\StringTok{'H'}\NormalTok{),}
\NormalTok{  pd.date_range(start}\OperatorTok{=}\StringTok{'2018-01-03-1230'}\NormalTok{, end}\OperatorTok{=}\StringTok{'2018-01-03-18:30'}\NormalTok{, freq}\OperatorTok{=}\StringTok{'H'}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> DatetimeIndex(['2018-01-01 00:00:00', '2018-01-01 01:00:00', '2018-01-01 02:00:00'], dtype='datetime64[ns]', freq='H') DatetimeIndex(['2018-01-01 12:30:00', '2018-01-01 13:30:00', '2018-01-01 14:30:00'], dtype='datetime64[ns]', freq='H') DatetimeIndex(['2018-01-03 12:30:00', '2018-01-03 13:30:00', '2018-01-03 14:30:00',
#:>                '2018-01-03 15:30:00', '2018-01-03 16:30:00', '2018-01-03 17:30:00',
#:>                '2018-01-03 18:30:00'],
#:>               dtype='datetime64[ns]', freq='H')
\end{verbatim}

\hypertarget{daily}{%
\subsubsection{Daily}\label{daily}}

When the \textbf{frequency is Day and time is not specified}, output is date distributed.\\
When time is specified, output will honor the time.

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{(}
\NormalTok{  pd.date_range(date(}\DecValTok{2018}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{2}\NormalTok{), periods}\OperatorTok{=}\DecValTok{3}\NormalTok{, freq}\OperatorTok{=}\StringTok{'D'}\NormalTok{),}
\NormalTok{  pd.date_range(}\StringTok{'2018-01-01-1230'}\NormalTok{, periods}\OperatorTok{=}\DecValTok{4}\NormalTok{, freq}\OperatorTok{=}\StringTok{'D'}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> DatetimeIndex(['2018-01-02', '2018-01-03', '2018-01-04'], dtype='datetime64[ns]', freq='D') DatetimeIndex(['2018-01-01 12:30:00', '2018-01-02 12:30:00', '2018-01-03 12:30:00',
#:>                '2018-01-04 12:30:00'],
#:>               dtype='datetime64[ns]', freq='D')
\end{verbatim}

\hypertarget{first-day-of-month}{%
\subsubsection{First Day Of Month}\label{first-day-of-month}}

Use \texttt{freq=MS}, M stands for montly, S stand for Start. If the \textbf{day} specified, the sequence start from first day of following month.

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{(}
\NormalTok{  pd.date_range(}\StringTok{'2018-01'}\NormalTok{, periods}\OperatorTok{=}\DecValTok{4}\NormalTok{, freq}\OperatorTok{=}\StringTok{'MS'}\NormalTok{),}
\NormalTok{  pd.date_range(}\StringTok{'2018-01-09'}\NormalTok{, periods}\OperatorTok{=}\DecValTok{4}\NormalTok{, freq}\OperatorTok{=}\StringTok{'MS'}\NormalTok{),}
\NormalTok{  pd.date_range(}\StringTok{'2018-01-09 12:30:00'}\NormalTok{, periods}\OperatorTok{=}\DecValTok{4}\NormalTok{, freq}\OperatorTok{=}\StringTok{'MS'}\NormalTok{) )}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> DatetimeIndex(['2018-01-01', '2018-02-01', '2018-03-01', '2018-04-01'], dtype='datetime64[ns]', freq='MS') DatetimeIndex(['2018-02-01', '2018-03-01', '2018-04-01', '2018-05-01'], dtype='datetime64[ns]', freq='MS') DatetimeIndex(['2018-02-01 12:30:00', '2018-03-01 12:30:00', '2018-04-01 12:30:00',
#:>                '2018-05-01 12:30:00'],
#:>               dtype='datetime64[ns]', freq='MS')
\end{verbatim}

\hypertarget{last-day-of-month}{%
\subsubsection{Last Day of Month}\label{last-day-of-month}}

Sequence always starts from the end of the specified month.

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{(}
\NormalTok{  pd.date_range(}\StringTok{'2018-01'}\NormalTok{, periods}\OperatorTok{=}\DecValTok{4}\NormalTok{, freq}\OperatorTok{=}\StringTok{'M'}\NormalTok{),}
\NormalTok{  pd.date_range(}\StringTok{'2018-01-09'}\NormalTok{, periods}\OperatorTok{=}\DecValTok{4}\NormalTok{, freq}\OperatorTok{=}\StringTok{'M'}\NormalTok{),}
\NormalTok{  pd.date_range(}\StringTok{'2018-01-09 12:30:00'}\NormalTok{, periods}\OperatorTok{=}\DecValTok{4}\NormalTok{, freq}\OperatorTok{=}\StringTok{'M'}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> DatetimeIndex(['2018-01-31', '2018-02-28', '2018-03-31', '2018-04-30'], dtype='datetime64[ns]', freq='M') DatetimeIndex(['2018-01-31', '2018-02-28', '2018-03-31', '2018-04-30'], dtype='datetime64[ns]', freq='M') DatetimeIndex(['2018-01-31 12:30:00', '2018-02-28 12:30:00', '2018-03-31 12:30:00',
#:>                '2018-04-30 12:30:00'],
#:>               dtype='datetime64[ns]', freq='M')
\end{verbatim}

\hypertarget{frequency-table-crosstab}{%
\subsection{Frequency Table (crosstab)}\label{frequency-table-crosstab}}

crosstab returns \textbf{Dataframe} Object

\begin{verbatim}
crosstab( index = <SeriesObj>, columns = <new_colName> )                # one dimension table
crosstab( index = <SeriesObj>, columns = <SeriesObj> )                  # two dimension table
crosstab( index = <SeriesObj>, columns = [<SeriesObj1>, <SeriesObj2>] ) # multi dimension table   
crosstab( index = <SeriesObj>, columns = <SeriesObj>, margines=True )   # add column and row margins
\end{verbatim}

\hypertarget{sample-data-2}{%
\subsubsection{Sample Data}\label{sample-data-2}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{n }\OperatorTok{=} \DecValTok{200}
\NormalTok{comp }\OperatorTok{=}\NormalTok{ [}\StringTok{'C'} \OperatorTok{+}\NormalTok{ i }\ControlFlowTok{for}\NormalTok{ i }\KeywordTok{in}\NormalTok{ np.random.randint( }\DecValTok{1}\NormalTok{,}\DecValTok{4}\NormalTok{, size  }\OperatorTok{=}\NormalTok{ n).astype(}\BuiltInTok{str}\NormalTok{)] }\CommentTok{# 3x Company}
\NormalTok{dept }\OperatorTok{=}\NormalTok{ [}\StringTok{'D'} \OperatorTok{+}\NormalTok{ i }\ControlFlowTok{for}\NormalTok{ i }\KeywordTok{in}\NormalTok{ np.random.randint( }\DecValTok{1}\NormalTok{,}\DecValTok{6}\NormalTok{, size  }\OperatorTok{=}\NormalTok{ n).astype(}\BuiltInTok{str}\NormalTok{)] }\CommentTok{# 5x Department}
\NormalTok{grp }\OperatorTok{=}\NormalTok{  [}\StringTok{'G'} \OperatorTok{+}\NormalTok{ i }\ControlFlowTok{for}\NormalTok{ i }\KeywordTok{in}\NormalTok{ np.random.randint( }\DecValTok{1}\NormalTok{,}\DecValTok{3}\NormalTok{, size  }\OperatorTok{=}\NormalTok{ n).astype(}\BuiltInTok{str}\NormalTok{)] }\CommentTok{# 2x Groups}
\NormalTok{value1 }\OperatorTok{=}\NormalTok{ np.random.normal( loc}\OperatorTok{=}\DecValTok{50}\NormalTok{ , scale}\OperatorTok{=}\DecValTok{5}\NormalTok{ , size }\OperatorTok{=}\NormalTok{ n)}
\NormalTok{value2 }\OperatorTok{=}\NormalTok{ np.random.normal( loc}\OperatorTok{=}\DecValTok{20}\NormalTok{ , scale}\OperatorTok{=}\DecValTok{3}\NormalTok{ , size }\OperatorTok{=}\NormalTok{ n)}
\NormalTok{value3 }\OperatorTok{=}\NormalTok{ np.random.normal( loc}\OperatorTok{=}\DecValTok{5}\NormalTok{ , scale}\OperatorTok{=}\DecValTok{30}\NormalTok{ , size }\OperatorTok{=}\NormalTok{ n)}

\NormalTok{mydf }\OperatorTok{=}\NormalTok{ pd.DataFrame(\{}
    \StringTok{'comp'}\NormalTok{:comp, }
    \StringTok{'dept'}\NormalTok{:dept, }
    \StringTok{'grp'}\NormalTok{: grp,}
    \StringTok{'value1'}\NormalTok{:value1, }
    \StringTok{'value2'}\NormalTok{:value2,}
    \StringTok{'value3'}\NormalTok{:value3 \})}
\NormalTok{mydf.head()}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>   comp dept grp     value1     value2     value3
#:> 0   C1   D2  G1  38.471249  24.601730  13.001785
#:> 1   C3   D3  G2  51.308631  27.135444  -6.088454
#:> 2   C2   D2  G2  52.251220  23.073042 -85.465809
#:> 3   C2   D1  G2  57.206447  17.094731   9.254349
#:> 4   C3   D2  G1  46.723021  23.756123  14.128651
\end{verbatim}

\hypertarget{one-dimensiontable}{%
\subsubsection{One DimensionTable}\label{one-dimensiontable}}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{## Frequency Countn For Company, Department}
\BuiltInTok{print}\NormalTok{(}
\NormalTok{  pd.crosstab(index}\OperatorTok{=}\NormalTok{mydf.comp, columns}\OperatorTok{=}\StringTok{'counter'}\NormalTok{),}\StringTok{'}\CharTok{\textbackslash{}n\textbackslash{}n}\StringTok{'}\NormalTok{,}
\NormalTok{  pd.crosstab(index}\OperatorTok{=}\NormalTok{mydf.dept, columns}\OperatorTok{=}\StringTok{'counter'}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> col_0  counter
#:> comp          
#:> C1          84
#:> C2          58
#:> C3          58 
#:> 
#:>  col_0  counter
#:> dept          
#:> D1          34
#:> D2          40
#:> D3          38
#:> D4          47
#:> D5          41
\end{verbatim}

\hypertarget{two-dimension-table}{%
\subsubsection{Two Dimension Table}\label{two-dimension-table}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{pd.crosstab(index}\OperatorTok{=}\NormalTok{mydf.comp, columns}\OperatorTok{=}\NormalTok{mydf.dept)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> dept  D1  D2  D3  D4  D5
#:> comp                    
#:> C1    13  17  15  23  16
#:> C2     8  17  13   9  11
#:> C3    13   6  10  15  14
\end{verbatim}

\hypertarget{higher-dimension-table}{%
\subsubsection{Higher Dimension Table}\label{higher-dimension-table}}

Crosstab header is \textbf{multi-levels index} when more than one column specified.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{tb }\OperatorTok{=}\NormalTok{ pd.crosstab(index}\OperatorTok{=}\NormalTok{mydf.comp, columns}\OperatorTok{=}\NormalTok{[mydf.dept, mydf.grp])}
\BuiltInTok{print}\NormalTok{( tb, }\StringTok{'}\CharTok{\textbackslash{}n\textbackslash{}n}\StringTok{'}\NormalTok{,}
\NormalTok{       tb.columns )}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> dept D1    D2      D3     D4    D5    
#:> grp  G1 G2 G1  G2  G1 G2  G1 G2 G1  G2
#:> comp                                  
#:> C1    7  6  9   8  12  3  15  8  5  11
#:> C2    4  4  5  12   8  5   6  3  3   8
#:> C3    5  8  4   2   2  8   9  6  7   7 
#:> 
#:>  MultiIndex([('D1', 'G1'),
#:>             ('D1', 'G2'),
#:>             ('D2', 'G1'),
#:>             ('D2', 'G2'),
#:>             ('D3', 'G1'),
#:>             ('D3', 'G2'),
#:>             ('D4', 'G1'),
#:>             ('D4', 'G2'),
#:>             ('D5', 'G1'),
#:>             ('D5', 'G2')],
#:>            names=['dept', 'grp'])
\end{verbatim}

Select \textbf{sub-dataframe} using multi-level referencing.

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{( }\StringTok{'Under D2:}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{, tb[}\StringTok{'D2'}\NormalTok{], }\StringTok{'}\CharTok{\textbackslash{}n\textbackslash{}n}\StringTok{'}\NormalTok{,}
       \StringTok{'Under D2-G2:}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{,tb[}\StringTok{'D2'}\NormalTok{,}\StringTok{'G1'}\NormalTok{])}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> Under D2:
#:>  grp   G1  G2
#:> comp        
#:> C1     9   8
#:> C2     5  12
#:> C3     4   2 
#:> 
#:>  Under D2-G2:
#:>  comp
#:> C1    9
#:> C2    5
#:> C3    4
#:> Name: (D2, G1), dtype: int64
\end{verbatim}

\hypertarget{getting-margin}{%
\subsubsection{Getting Margin}\label{getting-margin}}

Extend the crosstab with `margin=True' to have sum of rows/columns, presented in \textbf{new column/row named `All'}.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{tb }\OperatorTok{=}\NormalTok{ pd.crosstab(index}\OperatorTok{=}\NormalTok{mydf.dept, columns}\OperatorTok{=}\NormalTok{mydf.grp, margins}\OperatorTok{=}\VariableTok{True}\NormalTok{)}
\NormalTok{tb}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> grp    G1  G2  All
#:> dept              
#:> D1     16  18   34
#:> D2     18  22   40
#:> D3     22  16   38
#:> D4     30  17   47
#:> D5     15  26   41
#:> All   101  99  200
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{(}
  \StringTok{'Row Sums:     }\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{, tb.loc[:,}\StringTok{'All'}\NormalTok{],}
  \StringTok{'}\CharTok{\textbackslash{}n\textbackslash{}n}\StringTok{Column Sums:}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{, tb.loc[}\StringTok{'All'}\NormalTok{])}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> Row Sums:     
#:>  dept
#:> D1      34
#:> D2      40
#:> D3      38
#:> D4      47
#:> D5      41
#:> All    200
#:> Name: All, dtype: int64 
#:> 
#:> Column Sums:
#:>  grp
#:> G1     101
#:> G2      99
#:> All    200
#:> Name: All, dtype: int64
\end{verbatim}

\hypertarget{getting-proportion}{%
\subsubsection{Getting Proportion}\label{getting-proportion}}

Use matrix operation divide each row with its respective column sum.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{tb}\OperatorTok{/}\NormalTok{tb.loc[}\StringTok{'All'}\NormalTok{]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> grp         G1        G2    All
#:> dept                           
#:> D1    0.158416  0.181818  0.170
#:> D2    0.178218  0.222222  0.200
#:> D3    0.217822  0.161616  0.190
#:> D4    0.297030  0.171717  0.235
#:> D5    0.148515  0.262626  0.205
#:> All   1.000000  1.000000  1.000
\end{verbatim}

\hypertarget{concatination}{%
\subsection{Concatination}\label{concatination}}

\hypertarget{sample-data-3}{%
\subsubsection{Sample Data}\label{sample-data-3}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{s1 }\OperatorTok{=}\NormalTok{ pd.Series([}\StringTok{'A1'}\NormalTok{,}\StringTok{'A2'}\NormalTok{,}\StringTok{'A3'}\NormalTok{,}\StringTok{'A4'}\NormalTok{])}
\NormalTok{s2 }\OperatorTok{=}\NormalTok{ pd.Series([}\StringTok{'B1'}\NormalTok{,}\StringTok{'B2'}\NormalTok{,}\StringTok{'B3'}\NormalTok{,}\StringTok{'B4'}\NormalTok{], name}\OperatorTok{=}\StringTok{'B'}\NormalTok{)}
\NormalTok{s3 }\OperatorTok{=}\NormalTok{ pd.Series([}\StringTok{'C1'}\NormalTok{,}\StringTok{'C2'}\NormalTok{,}\StringTok{'C3'}\NormalTok{,}\StringTok{'C4'}\NormalTok{], name}\OperatorTok{=}\StringTok{'C'}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\hypertarget{column-wise}{%
\subsubsection{Column-Wise}\label{column-wise}}

\textbf{Combinining Multiple Series Into A New DataFrame}\\
- Added series will have 0,1,2,\ldots{} column names (if Series are not named originally)\\
- None series will be ignored\\
- \texttt{axis=1} means column-wise

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{pd.concat([s1,s2,s3, }\VariableTok{None}\NormalTok{], axis}\OperatorTok{=}\DecValTok{1}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>     0   B   C
#:> 0  A1  B1  C1
#:> 1  A2  B2  C2
#:> 2  A3  B3  C3
#:> 3  A4  B4  C4
\end{verbatim}

\textbf{Add Multiple Series Into An Existing DataFrame}\\
- No change to original data frame column name\\
- Added columns from series will have 0,1,2,3,.. column name

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df }\OperatorTok{=}\NormalTok{ pd.DataFrame(\{ }\StringTok{'A'}\NormalTok{: s1, }\StringTok{'B'}\NormalTok{: s2\})}
\NormalTok{pd.concat([df,s3,s1, }\VariableTok{None}\NormalTok{],axis}\OperatorTok{=}\DecValTok{1}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>     A   B   C   0
#:> 0  A1  B1  C1  A1
#:> 1  A2  B2  C2  A2
#:> 2  A3  B3  C3  A3
#:> 3  A4  B4  C4  A4
\end{verbatim}

\hypertarget{row-wise}{%
\subsubsection{Row-Wise}\label{row-wise}}

\hypertarget{external-data}{%
\subsection{External Data}\label{external-data}}

\hypertarget{html_table-parser}{%
\subsubsection{\texorpdfstring{\texttt{html\_table} Parser}{html\_table Parser}}\label{html_table-parser}}

This method require \textbf{html5lib} library.\\
- Read the web page, create a list: which contain one or more dataframes that maps to each html table found\\
- Scrap all detectable html tables\\
- Auto detect column header\\
- Auto create index using number starting from 0

\begin{verbatim}
read_html(url)  # return list of dataframe(s) that maps to web table(s) structure
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df_list }\OperatorTok{=}\NormalTok{ pd.read_html(}\StringTok{'https://www.malaysiastock.biz/Listed-Companies.aspx?type=S&s1=18'}\NormalTok{)  }\CommentTok{## read all tables}
\NormalTok{df }\OperatorTok{=}\NormalTok{ df_list[}\DecValTok{6}\NormalTok{]  }\CommentTok{## get the specific table}

\BuiltInTok{print}\NormalTok{ (}\StringTok{'Total Table(s) Found : '}\NormalTok{, }\BuiltInTok{len}\NormalTok{(df_list), }\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{,}
       \StringTok{'First Table Found:      '}\NormalTok{,df)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> Total Table(s) Found :  11 
#:>  First Table Found:                0                                                  1
#:> 0  Sector:  --- Filter by Sector ---  BOND ISLAMIC  CLOSED...
\end{verbatim}

\hypertarget{csv-writing}{%
\subsubsection{CSV Writing}\label{csv-writing}}

\textbf{Syntax}

\begin{verbatim}
DataFrame.to_csv(
  path_or_buf=None,   ## if not provided, result is returned as string
  sep=', ', 
  na_rep='', 
  float_format=None, 
  columns=None,       ## list of columns name to write, if not provided, all columns are written
  header=True,        ## write out column names
  index=True,         ## write row label
  index_label=None, 
  mode='w', 
  encoding=None,      ## if not provided, default to 'utf-8'
  quoting=None, quotechar='"', 
  line_terminator=None, 
  chunksize=None, 
  date_format=None, 
  doublequote=True, 
  escapechar=None, 
  decimal='.')
\end{verbatim}

Example below shows column value containing different special character. Note that pandas handles these very well by default.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{mydf }\OperatorTok{=}\NormalTok{ pd.DataFrame(\{}\StringTok{'Id'}\NormalTok{:[}\DecValTok{10}\NormalTok{,}\DecValTok{20}\NormalTok{,}\DecValTok{30}\NormalTok{,}\DecValTok{40}\NormalTok{], }
                     \StringTok{'Name'}\NormalTok{:  [}\StringTok{'Aaa'}\NormalTok{,}\StringTok{'Bbb'}\NormalTok{,}\StringTok{'Ccc'}\NormalTok{,}\StringTok{'Ddd'}\NormalTok{],}
                     \StringTok{'Funny'}\NormalTok{: [}\StringTok{"world's most \textbackslash{}clever"}\NormalTok{, }
                     \StringTok{"Bloody, damn, good"}\NormalTok{, }
                     \StringTok{"many}\CharTok{\textbackslash{}n}\StringTok{many}\CharTok{\textbackslash{}n}\StringTok{line"}\NormalTok{, }
                     \StringTok{'Quoting "is" tough'}\NormalTok{]\})}
\NormalTok{mydf.set_index(}\StringTok{'Id'}\NormalTok{, inplace}\OperatorTok{=}\VariableTok{True}\NormalTok{)}
\NormalTok{mydf.to_csv(}\StringTok{'data/csv_test.csv'}\NormalTok{, index}\OperatorTok{=}\VariableTok{True}\NormalTok{)}
\NormalTok{mydf}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>    Name                 Funny
#:> Id                           
#:> 10  Aaa  world's most \clever
#:> 20  Bbb    Bloody, damn, good
#:> 30  Ccc      many\nmany\nline
#:> 40  Ddd    Quoting "is" tough
\end{verbatim}

\textbf{This is the file saved}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{# system('more data\textbackslash{}\textbackslash{}csv_test.csv')}
\end{Highlighting}
\end{Shaded}

\textbf{All content retained when reading back by Pandas}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{pd.read_csv(}\StringTok{'data/csv_test.csv'}\NormalTok{, index_col}\OperatorTok{=}\StringTok{'Id'}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>    Name                 Funny
#:> Id                           
#:> 10  Aaa  world's most \clever
#:> 20  Bbb    Bloody, damn, good
#:> 30  Ccc      many\nmany\nline
#:> 40  Ddd    Quoting "is" tough
\end{verbatim}

\hypertarget{csv-reading}{%
\subsubsection{CSV Reading}\label{csv-reading}}

\textbf{Syntax}

\begin{verbatim}
pandas.read_csv( 
    'url or filePath',                     # path to file or url 
    encoding    = 'utf_8',                 # optional: default is 'utf_8'
    index_col   = ['colName1', ...],       # optional: specify one or more index column
    parse_dates = ['dateCol1', ...],       # optional: specify multiple string column to convert to date
    na_values   = ['.','na','NA','N/A'],   # optional: values that is considered NA
    names       = ['newColName1', ... ],   # optional: overwrite column names
    thousands   = '.',                     # optional: thousand seperator symbol
    nrows       = n,                       # optional: load only first n rows
    skiprows    = 0,                       # optional: don't load first n rows
    parse_dates = False,                   # List of date column names
    infer_datetime_format = False          # automatically parse dates
)
\end{verbatim}

Refer to full codec \href{https://docs.python.org/3/library/codecs.html\#standard-encodings}{Python Codec}.

\textbf{Default Import}

\begin{itemize}
\tightlist
\item
  index is sequence of integer 0,1,2\ldots{}\\
\item
  only two data types detection; \textbf{number (float64/int64) and string (object)}\\
\item
  \textbf{date is not parsed}, hence stayed as string
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{goo }\OperatorTok{=}\NormalTok{ pd.read_csv(}\StringTok{'data/goog.csv'}\NormalTok{, encoding}\OperatorTok{=}\StringTok{'utf_8'}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(goo.head(), }\StringTok{'}\CharTok{\textbackslash{}n\textbackslash{}n}\StringTok{'}\NormalTok{,}
\NormalTok{      goo.info())}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> <class 'pandas.core.frame.DataFrame'>
#:> RangeIndex: 61 entries, 0 to 60
#:> Data columns (total 6 columns):
#:>  #   Column  Non-Null Count  Dtype  
#:> ---  ------  --------------  -----  
#:>  0   Date    61 non-null     object 
#:>  1   Open    61 non-null     float64
#:>  2   High    61 non-null     float64
#:>  3   Low     61 non-null     float64
#:>  4   Close   61 non-null     float64
#:>  5   Volume  61 non-null     int64  
#:> dtypes: float64(4), int64(1), object(1)
#:> memory usage: 3.0+ KB
#:>          Date        Open        High         Low       Close   Volume
#:> 0  12/19/2016  790.219971  797.659973  786.270020  794.200012  1225900
#:> 1  12/20/2016  796.760010  798.650024  793.270020  796.419983   925100
#:> 2  12/21/2016  795.840027  796.676025  787.099976  794.559998  1208700
#:> 3  12/22/2016  792.359985  793.320007  788.580017  791.260010   969100
#:> 4  12/23/2016  790.900024  792.739990  787.280029  789.909973   623400 
#:> 
#:>  None
\end{verbatim}

\textbf{Specify Data Types}

\begin{itemize}
\tightlist
\item
  To customize the data type, use \textbf{\texttt{dtype}} parameter with a \textbf{dict} of definition.
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{d_types }\OperatorTok{=}\NormalTok{ \{}\StringTok{'Volume'}\NormalTok{: }\BuiltInTok{str}\NormalTok{\}}
\NormalTok{pd.read_csv(}\StringTok{'data/goog.csv'}\NormalTok{, dtype}\OperatorTok{=}\NormalTok{d_types).info()}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> <class 'pandas.core.frame.DataFrame'>
#:> RangeIndex: 61 entries, 0 to 60
#:> Data columns (total 6 columns):
#:>  #   Column  Non-Null Count  Dtype  
#:> ---  ------  --------------  -----  
#:>  0   Date    61 non-null     object 
#:>  1   Open    61 non-null     float64
#:>  2   High    61 non-null     float64
#:>  3   Low     61 non-null     float64
#:>  4   Close   61 non-null     float64
#:>  5   Volume  61 non-null     object 
#:> dtypes: float64(4), object(2)
#:> memory usage: 3.0+ KB
\end{verbatim}

\textbf{Parse Datetime}

You can specify multiple date-alike column for parsing

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{pd.read_csv(}\StringTok{'data/goog.csv'}\NormalTok{, parse_dates}\OperatorTok{=}\NormalTok{[}\StringTok{'Date'}\NormalTok{]).info()}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> <class 'pandas.core.frame.DataFrame'>
#:> RangeIndex: 61 entries, 0 to 60
#:> Data columns (total 6 columns):
#:>  #   Column  Non-Null Count  Dtype         
#:> ---  ------  --------------  -----         
#:>  0   Date    61 non-null     datetime64[ns]
#:>  1   Open    61 non-null     float64       
#:>  2   High    61 non-null     float64       
#:>  3   Low     61 non-null     float64       
#:>  4   Close   61 non-null     float64       
#:>  5   Volume  61 non-null     int64         
#:> dtypes: datetime64[ns](1), float64(4), int64(1)
#:> memory usage: 3.0 KB
\end{verbatim}

\textbf{Parse Datetime, Then Set as Index}\\
- Specify names of date column in \texttt{parse\_dates=}\\
- When date is set as index, the type is \textbf{\texttt{DateTimeIndex}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{goo3 }\OperatorTok{=}\NormalTok{ pd.read_csv(}\StringTok{'data/goog.csv'}\NormalTok{,index_col}\OperatorTok{=}\StringTok{'Date'}\NormalTok{, parse_dates}\OperatorTok{=}\NormalTok{[}\StringTok{'Date'}\NormalTok{])}
\NormalTok{goo3.info()}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> <class 'pandas.core.frame.DataFrame'>
#:> DatetimeIndex: 61 entries, 2016-12-19 to 2017-03-17
#:> Data columns (total 5 columns):
#:>  #   Column  Non-Null Count  Dtype  
#:> ---  ------  --------------  -----  
#:>  0   Open    61 non-null     float64
#:>  1   High    61 non-null     float64
#:>  2   Low     61 non-null     float64
#:>  3   Close   61 non-null     float64
#:>  4   Volume  61 non-null     int64  
#:> dtypes: float64(4), int64(1)
#:> memory usage: 2.9 KB
\end{verbatim}

\hypertarget{inspection}{%
\subsection{Inspection}\label{inspection}}

\hypertarget{structure-info}{%
\subsubsection{\texorpdfstring{Structure \texttt{info}}{Structure info}}\label{structure-info}}

\textbf{info()} is a function that print information to screen. It doesn't return any object

\begin{verbatim}
dataframe.info()  # display columns and number of rows (that has no missing data)
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{goo.info()}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> <class 'pandas.core.frame.DataFrame'>
#:> RangeIndex: 61 entries, 0 to 60
#:> Data columns (total 6 columns):
#:>  #   Column  Non-Null Count  Dtype  
#:> ---  ------  --------------  -----  
#:>  0   Date    61 non-null     object 
#:>  1   Open    61 non-null     float64
#:>  2   High    61 non-null     float64
#:>  3   Low     61 non-null     float64
#:>  4   Close   61 non-null     float64
#:>  5   Volume  61 non-null     int64  
#:> dtypes: float64(4), int64(1), object(1)
#:> memory usage: 3.0+ KB
\end{verbatim}

\hypertarget{head}{%
\subsubsection{\texorpdfstring{\texttt{head}}{head}}\label{head}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{goo.head()}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>          Date        Open        High         Low       Close   Volume
#:> 0  12/19/2016  790.219971  797.659973  786.270020  794.200012  1225900
#:> 1  12/20/2016  796.760010  798.650024  793.270020  796.419983   925100
#:> 2  12/21/2016  795.840027  796.676025  787.099976  794.559998  1208700
#:> 3  12/22/2016  792.359985  793.320007  788.580017  791.260010   969100
#:> 4  12/23/2016  790.900024  792.739990  787.280029  789.909973   623400
\end{verbatim}

\hypertarget{class-timestamp}{%
\section{class: Timestamp}\label{class-timestamp}}

This is an enhanced version to datetime standard library.\\
\url{https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Timestamp.html\#pandas.Timestamp}

\hypertarget{constructor-8}{%
\subsection{Constructor}\label{constructor-8}}

\hypertarget{from-number}{%
\subsubsection{From Number}\label{from-number}}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{( pd.Timestamp(year}\OperatorTok{=}\DecValTok{2017}\NormalTok{, month}\OperatorTok{=}\DecValTok{1}\NormalTok{, day}\OperatorTok{=}\DecValTok{1}\NormalTok{),}\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{,  }\CommentTok{#date-like numbers}
\NormalTok{       pd.Timestamp(}\DecValTok{2017}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{1}\NormalTok{), }\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{,                  }\CommentTok{# date-like numbers}
\NormalTok{       pd.Timestamp(}\DecValTok{2017}\NormalTok{,}\DecValTok{12}\NormalTok{,}\DecValTok{11}\NormalTok{,}\DecValTok{5}\NormalTok{,}\DecValTok{45}\NormalTok{),}\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{,            }\CommentTok{# datetime-like numbers}
\NormalTok{       pd.Timestamp(}\DecValTok{2017}\NormalTok{,}\DecValTok{12}\NormalTok{,}\DecValTok{11}\NormalTok{,}\DecValTok{5}\NormalTok{,}\DecValTok{45}\NormalTok{,}\DecValTok{55}\NormalTok{,}\DecValTok{999}\NormalTok{),}\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{,     }\CommentTok{# + microseconds}
\NormalTok{       pd.Timestamp(}\DecValTok{2017}\NormalTok{,}\DecValTok{12}\NormalTok{,}\DecValTok{11}\NormalTok{,}\DecValTok{5}\NormalTok{,}\DecValTok{45}\NormalTok{,}\DecValTok{55}\NormalTok{,}\DecValTok{999}\NormalTok{,}\DecValTok{8}\NormalTok{),}\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{,   }\CommentTok{# + nanoseconds}
       \BuiltInTok{type}\NormalTok{(pd.Timestamp(}\DecValTok{2017}\NormalTok{,}\DecValTok{12}\NormalTok{,}\DecValTok{11}\NormalTok{,}\DecValTok{5}\NormalTok{,}\DecValTok{45}\NormalTok{,}\DecValTok{55}\NormalTok{,}\DecValTok{999}\NormalTok{,}\DecValTok{8}\NormalTok{)),}\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 2017-01-01 00:00:00 
#:>  2017-01-01 00:00:00 
#:>  2017-12-11 05:45:00 
#:>  2017-12-11 05:45:55.000999 
#:>  2017-12-11 05:45:55.000999008 
#:>  <class 'pandas._libs.tslibs.timestamps.Timestamp'>
\end{verbatim}

\hypertarget{from-string}{%
\subsubsection{From String}\label{from-string}}

Observe that pandas support many string input format

\textbf{Year Month Day}, default has no timezone

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{( pd.Timestamp(}\StringTok{'2017-12-11'}\NormalTok{),}\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{,   }\CommentTok{# date-like string: year-month-day}
\NormalTok{       pd.Timestamp(}\StringTok{'2017 12 11'}\NormalTok{),}\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{,   }\CommentTok{# date-like string: year-month-day}
\NormalTok{       pd.Timestamp(}\StringTok{'2017 Dec 11'}\NormalTok{),}\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{,  }\CommentTok{# date-like string: year-month-day}
\NormalTok{       pd.Timestamp(}\StringTok{'Dec 11, 2017'}\NormalTok{))      }\CommentTok{# date-like string: year-month-day}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 2017-12-11 00:00:00 
#:>  2017-12-11 00:00:00 
#:>  2017-12-11 00:00:00 
#:>  2017-12-11 00:00:00
\end{verbatim}

\textbf{YMD Hour Minute Second Ms}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{( pd.Timestamp(}\StringTok{'2017-12-11 0545'}\NormalTok{),}\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{,     }\CommentTok{## hour minute}
\NormalTok{       pd.Timestamp(}\StringTok{'2017-12-11-05:45'}\NormalTok{),}\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{,}
\NormalTok{       pd.Timestamp(}\StringTok{'2017-12-11T0545'}\NormalTok{),}\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{,}
\NormalTok{       pd.Timestamp(}\StringTok{'2017-12-11 054533'}\NormalTok{),}\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{,   }\CommentTok{## hour minute seconds}
\NormalTok{       pd.Timestamp(}\StringTok{'2017-12-11 05:45:33'}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 2017-12-11 05:45:00 
#:>  2017-12-11 05:45:00 
#:>  2017-12-11 05:45:00 
#:>  2017-12-11 05:45:33 
#:>  2017-12-11 05:45:33
\end{verbatim}

\textbf{With Timezone} can be included in various ways.

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{( pd.Timestamp(}\StringTok{'2017-01-01T0545Z'}\NormalTok{),}\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{,  }\CommentTok{# GMT }
\NormalTok{       pd.Timestamp(}\StringTok{'2017-01-01T0545+9'}\NormalTok{),}\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{, }\CommentTok{# GMT+9}
\NormalTok{       pd.Timestamp(}\StringTok{'2017-01-01T0545+0800'}\NormalTok{),}\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{,   }\CommentTok{# GMT+0800}
\NormalTok{       pd.Timestamp(}\StringTok{'2017-01-01 0545'}\NormalTok{, tz}\OperatorTok{=}\StringTok{'Asia/Singapore'}\NormalTok{),}\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 2017-01-01 05:45:00+00:00 
#:>  2017-01-01 05:45:00+09:00 
#:>  2017-01-01 05:45:00+08:00 
#:>  2017-01-01 05:45:00+08:00
\end{verbatim}

\hypertarget{from-standard-library-datetime-and-date-object}{%
\subsubsection{\texorpdfstring{From Standard Library \texttt{datetime} and \texttt{date} Object}{From Standard Library datetime and date Object}}\label{from-standard-library-datetime-and-date-object}}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{( pd.Timestamp(date(}\DecValTok{2017}\NormalTok{,}\DecValTok{3}\NormalTok{,}\DecValTok{5}\NormalTok{)),}\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{,           }\CommentTok{# from date}
\NormalTok{       pd.Timestamp(datetime(}\DecValTok{2017}\NormalTok{,}\DecValTok{3}\NormalTok{,}\DecValTok{5}\NormalTok{,}\DecValTok{4}\NormalTok{,}\DecValTok{30}\NormalTok{)),}\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{,  }\CommentTok{# from datetime}
\NormalTok{       pd.Timestamp(datetime(}\DecValTok{2017}\NormalTok{,}\DecValTok{3}\NormalTok{,}\DecValTok{5}\NormalTok{,}\DecValTok{4}\NormalTok{,}\DecValTok{30}\NormalTok{), tz}\OperatorTok{=}\StringTok{'Asia/Kuala_Lumpur'}\NormalTok{)) }\CommentTok{# from datetime, + tz}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 2017-03-05 00:00:00 
#:>  2017-03-05 04:30:00 
#:>  2017-03-05 04:30:00+08:00
\end{verbatim}

\hypertarget{attributes-4}{%
\subsection{Attributes}\label{attributes-4}}

We can tell many things about a Timestamp object.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{ts }\OperatorTok{=}\NormalTok{ pd.Timestamp(}\StringTok{'2017-01-01T054533+0800'}\NormalTok{) }\CommentTok{# GMT+0800}
\BuiltInTok{print}\NormalTok{( ts.month, }\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{,}
\NormalTok{       ts.day, }\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{,}
\NormalTok{       ts.year, }\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{,}
\NormalTok{       ts.hour, }\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{,}
\NormalTok{       ts.minute, }\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{,}
\NormalTok{       ts.second, }\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{,}
\NormalTok{       ts.microsecond, }\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{,}
\NormalTok{       ts.nanosecond, }\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{,}
\NormalTok{       ts.tz, }\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{,}
\NormalTok{       ts.daysinmonth,}\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{,}
\NormalTok{       ts.dayofyear, }\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{,}
\NormalTok{       ts.is_leap_year, }\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{,}
\NormalTok{       ts.is_month_end, }\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{,}
\NormalTok{       ts.is_month_start, }\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{,}
\NormalTok{       ts.dayofweek)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 1 
#:>  1 
#:>  2017 
#:>  5 
#:>  45 
#:>  33 
#:>  0 
#:>  0 
#:>  pytz.FixedOffset(480) 
#:>  31 
#:>  1 
#:>  False 
#:>  False 
#:>  True 
#:>  6
\end{verbatim}

Note that timezone (tz) is a \textbf{pytz object}.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{ts1 }\OperatorTok{=}\NormalTok{ pd.Timestamp(datetime(}\DecValTok{2017}\NormalTok{,}\DecValTok{3}\NormalTok{,}\DecValTok{5}\NormalTok{,}\DecValTok{4}\NormalTok{,}\DecValTok{30}\NormalTok{), tz}\OperatorTok{=}\StringTok{'Asia/Kuala_Lumpur'}\NormalTok{)   }\CommentTok{# from datetime, + tz}
\NormalTok{ts2 }\OperatorTok{=}\NormalTok{ pd.Timestamp(}\StringTok{'2017-01-01T054533+0800'}\NormalTok{) }\CommentTok{# GMT+0800}
\NormalTok{ts3 }\OperatorTok{=}\NormalTok{ pd.Timestamp(}\StringTok{'2017-01-01T0545'}\NormalTok{)}

\BuiltInTok{print}\NormalTok{( ts1.tz, }\StringTok{'Type:'}\NormalTok{, }\BuiltInTok{type}\NormalTok{(ts1.tz), }\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{,}
\NormalTok{       ts2.tz, }\StringTok{'Type:'}\NormalTok{, }\BuiltInTok{type}\NormalTok{(ts2.tz), }\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{,}
\NormalTok{       ts3.tz, }\StringTok{'Type:'}\NormalTok{, }\BuiltInTok{type}\NormalTok{(ts3.tz)  )}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> Asia/Kuala_Lumpur Type: <class 'pytz.tzfile.Asia/Kuala_Lumpur'> 
#:>  pytz.FixedOffset(480) Type: <class 'pytz._FixedOffset'> 
#:>  None Type: <class 'NoneType'>
\end{verbatim}

\hypertarget{instance-methods-1}{%
\subsection{Instance Methods}\label{instance-methods-1}}

\hypertarget{atribute-like-methods}{%
\subsubsection{Atribute-like Methods}\label{atribute-like-methods}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{ts }\OperatorTok{=}\NormalTok{ pd.Timestamp(}\DecValTok{2017}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{1}\NormalTok{)}
\BuiltInTok{print}\NormalTok{( }\StringTok{' Weekday:    '}\NormalTok{, ts.weekday(), }\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{,}
       \StringTok{'ISO Weekday:'}\NormalTok{,  ts.isoweekday(), }\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{,}
       \StringTok{'Day Name:   '}\NormalTok{,  ts.day_name(), }\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{,}
       \StringTok{'ISO Calendar:'}\NormalTok{,  ts.isocalendar()}
\NormalTok{       )}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>  Weekday:     6 
#:>  ISO Weekday: 7 
#:>  Day Name:    Sunday 
#:>  ISO Calendar: (2016, 52, 7)
\end{verbatim}

\hypertarget{timezones}{%
\subsubsection{Timezones}\label{timezones}}

\textbf{Adding Timezones and Clock Shifting}

\begin{itemize}
\tightlist
\item
  \texttt{tz\_localize} will add the timezone, however will not shift the clock.\\
\item
  Once a timestamp had gotten a timezone, you can easily shift the clock to another timezone using \texttt{tz\_convert()}
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{ts }\OperatorTok{=}\NormalTok{ pd.Timestamp(}\DecValTok{2017}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{10}\NormalTok{,}\DecValTok{10}\NormalTok{,}\DecValTok{34}\NormalTok{)        }\CommentTok{## No timezone}
\NormalTok{ts1 }\OperatorTok{=}\NormalTok{ ts.tz_localize(}\StringTok{'Asia/Kuala_Lumpur'}\NormalTok{)  }\CommentTok{## Add timezone}
\NormalTok{ts2 }\OperatorTok{=}\NormalTok{ ts1.tz_convert(}\StringTok{'UTC'}\NormalTok{)                 }\CommentTok{## Convert timezone}
\BuiltInTok{print}\NormalTok{(}\StringTok{' Origininal Timestamp           :'}\NormalTok{, ts,  }\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{,}
      \StringTok{'Loacalized Timestamp (added TZ):'}\NormalTok{, ts1, }\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{,}
      \StringTok{'Converted Timestamp (shifted)  :'}\NormalTok{,ts2)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>  Origininal Timestamp           : 2017-01-10 10:34:00 
#:>  Loacalized Timestamp (added TZ): 2017-01-10 10:34:00+08:00 
#:>  Converted Timestamp (shifted)  : 2017-01-10 02:34:00+00:00
\end{verbatim}

\textbf{Removing Timezone}

Just apply \textbf{None with \texttt{tz\_localize}} to remove TZ infomration.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{ts }\OperatorTok{=}\NormalTok{ pd.Timestamp(}\DecValTok{2017}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{10}\NormalTok{,}\DecValTok{10}\NormalTok{,}\DecValTok{34}\NormalTok{)        }\CommentTok{## No timezone}
\NormalTok{ts }\OperatorTok{=}\NormalTok{ ts.tz_localize(}\StringTok{'Asia/Kuala_Lumpur'}\NormalTok{)  }\CommentTok{## Add timezone}
\NormalTok{ts }\OperatorTok{=}\NormalTok{ ts.tz_localize(}\VariableTok{None}\NormalTok{)                 }\CommentTok{## Convert timezone}
\NormalTok{ts}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> Timestamp('2017-01-10 10:34:00')
\end{verbatim}

\hypertarget{formatting}{%
\subsubsection{Formatting}\label{formatting}}

\textbf{\texttt{strftime}}

Use \textbf{\texttt{strftime()}} to customize string format. For complete directive, see below: \url{https://docs.python.org/3/library/datetime.html\#strftime-strptime-behavior}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{ts }\OperatorTok{=}\NormalTok{ pd.Timestamp(}\DecValTok{2017}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{10}\NormalTok{,}\DecValTok{10}\NormalTok{,}\DecValTok{34}\NormalTok{)        }\CommentTok{## No timezone}
\NormalTok{ts }\OperatorTok{=}\NormalTok{ ts.tz_localize(}\StringTok{'Asia/Kuala_Lumpur'}\NormalTok{)  }\CommentTok{## Add timezone}
\NormalTok{ts.strftime(}\StringTok{"%m/}\SpecialCharTok{%d}\StringTok{"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> '01/10'
\end{verbatim}

\textbf{\texttt{isoformat}}

Use \textbf{\texttt{isoformat()}} to format ISO string (\textbf{without timezone})

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{ts }\OperatorTok{=}\NormalTok{ pd.Timestamp(}\DecValTok{2017}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{10}\NormalTok{,}\DecValTok{10}\NormalTok{,}\DecValTok{34}\NormalTok{)        }
\NormalTok{ts1 }\OperatorTok{=}\NormalTok{ ts.tz_localize(}\StringTok{'Asia/Kuala_Lumpur'}\NormalTok{) }
\BuiltInTok{print}\NormalTok{( }\StringTok{' ISO Format without TZ:'}\NormalTok{, ts.isoformat(), }\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{,}
       \StringTok{'ISO Format with TZ   :'}\NormalTok{, ts1.isoformat())}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>  ISO Format without TZ: 2017-01-10T10:34:00 
#:>  ISO Format with TZ   : 2017-01-10T10:34:00+08:00
\end{verbatim}

\hypertarget{type-conversion}{%
\subsubsection{Type Conversion}\label{type-conversion}}

\textbf{Convert To \texttt{datetime.datetime/date}}

Use \texttt{to\_pydatetime()} to convert into standard library \textbf{\texttt{datetime.datetime}}. From the `datetime' object, apply \texttt{date()} to get \textbf{\texttt{datetime.date}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{ts }\OperatorTok{=}\NormalTok{ pd.Timestamp(}\DecValTok{2017}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{10}\NormalTok{,}\DecValTok{7}\NormalTok{,}\DecValTok{30}\NormalTok{,}\DecValTok{52}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(}
  \StringTok{'Datetime:'}\NormalTok{,  ts.to_pydatetime(), }\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{,}
  \StringTok{'Date Only:'}\NormalTok{, ts.to_pydatetime().date())}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> Datetime: 2017-01-10 07:30:52 
#:>  Date Only: 2017-01-10
\end{verbatim}

\textbf{Convert To \texttt{numpy.datetime64}}

Use \texttt{to\_datetime64()} to convert into \texttt{numpy.datetime64}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{ts }\OperatorTok{=}\NormalTok{ pd.Timestamp(}\DecValTok{2017}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{10}\NormalTok{,}\DecValTok{7}\NormalTok{,}\DecValTok{30}\NormalTok{,}\DecValTok{52}\NormalTok{)}
\NormalTok{ts.to_datetime64()}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> numpy.datetime64('2017-01-10T07:30:52.000000000')
\end{verbatim}

\hypertarget{ceil}{%
\subsubsection{\texorpdfstring{\texttt{ceil}}{ceil}}\label{ceil}}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{( ts.ceil(freq}\OperatorTok{=}\StringTok{'D'}\NormalTok{) ) }\CommentTok{# ceiling to day}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 2017-01-11 00:00:00
\end{verbatim}

\hypertarget{updating}{%
\subsubsection{Updating}\label{updating}}

\texttt{replace()}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{ts.replace(year}\OperatorTok{=}\DecValTok{2000}\NormalTok{, month}\OperatorTok{=}\DecValTok{1}\NormalTok{,day}\OperatorTok{=}\DecValTok{1}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> Timestamp('2000-01-01 07:30:52')
\end{verbatim}

\hypertarget{class-datetimeindex}{%
\section{class: DateTimeIndex}\label{class-datetimeindex}}

\hypertarget{creating-1}{%
\subsection{Creating}\label{creating-1}}

Refer to Pandas class method above.

\hypertarget{instance-method-4}{%
\subsection{Instance Method}\label{instance-method-4}}

\hypertarget{data-type-conversion}{%
\subsubsection{Data Type Conversion}\label{data-type-conversion}}

\textbf{Convert To datetime.datetime}\\
Use \textbf{\texttt{to\_pydatetime}} to convert into python standard \textbf{datetime.datetime} object

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{(}\StringTok{'Converted to List:'}\NormalTok{, dti.to_pydatetime(), }\StringTok{'}\CharTok{\textbackslash{}n\textbackslash{}n}\StringTok{'}\NormalTok{,}
      \StringTok{'Converted Type:'}\NormalTok{,    }\BuiltInTok{type}\NormalTok{(dti.to_pydatetime()))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> Converted to List: [datetime.datetime(2011, 1, 3, 0, 0) datetime.datetime(2018, 4, 13, 0, 0)
#:>  datetime.datetime(2018, 3, 1, 7, 30)] 
#:> 
#:>  Converted Type: <class 'numpy.ndarray'>
\end{verbatim}

\hypertarget{structure-conversion}{%
\subsubsection{Structure Conversion}\label{structure-conversion}}

\textbf{Convert To Series: \texttt{to\_series}}\\
This creates a Series where \textbf{index and data} with the same value

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{#dti = pd.date_range('2018-02', periods=4, freq='M')}
\NormalTok{dti.to_series()}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 2011-01-03 00:00:00   2011-01-03 00:00:00
#:> 2018-04-13 00:00:00   2018-04-13 00:00:00
#:> 2018-03-01 07:30:00   2018-03-01 07:30:00
#:> dtype: datetime64[ns]
\end{verbatim}

\textbf{Convert To DataFrame: \texttt{to\_frame()}}\\
This convert to \textbf{single column DataFrame} with index as the same value

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{dti.to_frame()}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>                                       0
#:> 2011-01-03 00:00:00 2011-01-03 00:00:00
#:> 2018-04-13 00:00:00 2018-04-13 00:00:00
#:> 2018-03-01 07:30:00 2018-03-01 07:30:00
\end{verbatim}

\hypertarget{attributes-5}{%
\subsection{Attributes}\label{attributes-5}}

\textbf{All Timestamp Attributes} can be used upon DateTimeIndex.

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{( dti.weekday, }\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{,}
\NormalTok{       dti.month, }\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{,}
\NormalTok{       dti.daysinmonth)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> Int64Index([0, 4, 3], dtype='int64') 
#:>  Int64Index([1, 4, 3], dtype='int64') 
#:>  Int64Index([31, 30, 31], dtype='int64')
\end{verbatim}

\hypertarget{class-series}{%
\section{class: Series}\label{class-series}}

Series allows different data types (object class) as its element

\begin{verbatim}
pandas.Series(data=None, index=None, dtype=None, name=None, copy=False, fastpath=False)
- data array-like, iterable, dict or scalar
- If dtype not specified, it will infer from data.
\end{verbatim}

\hypertarget{constructor-9}{%
\subsection{Constructor}\label{constructor-9}}

\hypertarget{empty-series}{%
\subsubsection{Empty Series}\label{empty-series}}

Passing no data to constructor will result in empty series. By default, empty series dtype is float.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{s }\OperatorTok{=}\NormalTok{ pd.Series(dtype}\OperatorTok{=}\StringTok{'object'}\NormalTok{)}
\BuiltInTok{print}\NormalTok{ (s, }\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{,}
       \BuiltInTok{type}\NormalTok{(s))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> Series([], dtype: object) 
#:>  <class 'pandas.core.series.Series'>
\end{verbatim}

\hypertarget{from-scalar}{%
\subsubsection{From Scalar}\label{from-scalar}}

If data is a scalar value, an \textbf{index must be provided}. The \textbf{value will be repeated} to match the length of index

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{pd.Series( }\DecValTok{99}\NormalTok{, index }\OperatorTok{=}\NormalTok{ [}\StringTok{'a'}\NormalTok{,}\StringTok{'b'}\NormalTok{,}\StringTok{'c'}\NormalTok{,}\StringTok{'d'}\NormalTok{])}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> a    99
#:> b    99
#:> c    99
#:> d    99
#:> dtype: int64
\end{verbatim}

\hypertarget{from-array-like}{%
\subsubsection{From array-like}\label{from-array-like}}

\textbf{From list}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{pd.Series([}\StringTok{'a'}\NormalTok{,}\StringTok{'b'}\NormalTok{,}\StringTok{'c'}\NormalTok{,}\StringTok{'d'}\NormalTok{,}\StringTok{'e'}\NormalTok{])           }\CommentTok{# from Python list}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 0    a
#:> 1    b
#:> 2    c
#:> 3    d
#:> 4    e
#:> dtype: object
\end{verbatim}

\textbf{From numpy.array}\\
If index is not specified, default to 0 and continue incrementally

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{pd.Series(np.array([}\StringTok{'a'}\NormalTok{,}\StringTok{'b'}\NormalTok{,}\StringTok{'c'}\NormalTok{,}\StringTok{'d'}\NormalTok{,}\StringTok{'e'}\NormalTok{]))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 0    a
#:> 1    b
#:> 2    c
#:> 3    d
#:> 4    e
#:> dtype: object
\end{verbatim}

\textbf{From DateTimeIndex}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{pd.Series(pd.date_range(}\StringTok{'2011-1-1'}\NormalTok{,}\StringTok{'2011-1-3'}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 0   2011-01-01
#:> 1   2011-01-02
#:> 2   2011-01-03
#:> dtype: datetime64[ns]
\end{verbatim}

\hypertarget{from-dictionary}{%
\subsubsection{From Dictionary}\label{from-dictionary}}

The \textbf{dictionary key} will be the index. Order is \textbf{not sorted}.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{pd.Series(\{}\StringTok{'a'}\NormalTok{ : }\FloatTok{0.}\NormalTok{, }\StringTok{'c'}\NormalTok{ : }\FloatTok{5.}\NormalTok{, }\StringTok{'b'}\NormalTok{ : }\FloatTok{2.}\NormalTok{\})}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> a    0.0
#:> c    5.0
#:> b    2.0
#:> dtype: float64
\end{verbatim}

If \textbf{index sequence} is specifeid, then Series will forllow the index order\\
Objerve that \textbf{missing data} (index without value) will be marked as NaN

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{pd.Series(\{}\StringTok{'a'}\NormalTok{ : }\FloatTok{0.}\NormalTok{, }\StringTok{'c'}\NormalTok{ : }\FloatTok{1.}\NormalTok{, }\StringTok{'b'}\NormalTok{ : }\FloatTok{2.}\NormalTok{\},index }\OperatorTok{=}\NormalTok{ [}\StringTok{'a'}\NormalTok{,}\StringTok{'b'}\NormalTok{,}\StringTok{'c'}\NormalTok{,}\StringTok{'d'}\NormalTok{])}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> a    0.0
#:> b    2.0
#:> c    1.0
#:> d    NaN
#:> dtype: float64
\end{verbatim}

\hypertarget{specify-index}{%
\subsubsection{Specify Index}\label{specify-index}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{pd.Series([}\StringTok{'a'}\NormalTok{,}\StringTok{'b'}\NormalTok{,}\StringTok{'c'}\NormalTok{,}\StringTok{'d'}\NormalTok{,}\StringTok{'e'}\NormalTok{], index}\OperatorTok{=}\NormalTok{[}\DecValTok{10}\NormalTok{,}\DecValTok{20}\NormalTok{,}\DecValTok{30}\NormalTok{,}\DecValTok{40}\NormalTok{,}\DecValTok{50}\NormalTok{])}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 10    a
#:> 20    b
#:> 30    c
#:> 40    d
#:> 50    e
#:> dtype: object
\end{verbatim}

\hypertarget{mix-element-types}{%
\subsubsection{Mix Element Types}\label{mix-element-types}}

dType will be \textbf{`object'} when there were mixture of classes

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{ser }\OperatorTok{=}\NormalTok{ pd.Series([}\StringTok{'a'}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{2}\NormalTok{,}\DecValTok{3}\NormalTok{])}
\BuiltInTok{print}\NormalTok{(}\StringTok{'Object Type :  '}\NormalTok{, }\BuiltInTok{type}\NormalTok{(ser),}\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{,}
      \StringTok{'Object dType:  '}\NormalTok{, ser.dtype,}\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{,}
      \StringTok{'Element 1 Type: '}\NormalTok{,}\BuiltInTok{type}\NormalTok{(ser[}\DecValTok{0}\NormalTok{]),}\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{,}
      \StringTok{'Elmeent 2 Type: '}\NormalTok{,}\BuiltInTok{type}\NormalTok{(ser[}\DecValTok{1}\NormalTok{]))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> Object Type :   <class 'pandas.core.series.Series'> 
#:>  Object dType:   object 
#:>  Element 1 Type:  <class 'str'> 
#:>  Elmeent 2 Type:  <class 'int'>
\end{verbatim}

\hypertarget{specify-data-types}{%
\subsubsection{Specify Data Types}\label{specify-data-types}}

By default, dtype is \textbf{inferred} from data.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{ser1 }\OperatorTok{=}\NormalTok{ pd.Series([}\DecValTok{1}\NormalTok{,}\DecValTok{2}\NormalTok{,}\DecValTok{3}\NormalTok{])}
\NormalTok{ser2 }\OperatorTok{=}\NormalTok{ pd.Series([}\DecValTok{1}\NormalTok{,}\DecValTok{2}\NormalTok{,}\DecValTok{3}\NormalTok{], dtype}\OperatorTok{=}\StringTok{"int8"}\NormalTok{)}
\NormalTok{ser3 }\OperatorTok{=}\NormalTok{ pd.Series([}\DecValTok{1}\NormalTok{,}\DecValTok{2}\NormalTok{,}\DecValTok{3}\NormalTok{], dtype}\OperatorTok{=}\StringTok{"object"}\NormalTok{)}

\BuiltInTok{print}\NormalTok{(}\StringTok{' Inferred:        '}\NormalTok{,ser1.dtype, }\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{,}
      \StringTok{'Specified int8:  '}\NormalTok{,ser2.dtype, }\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{,}
      \StringTok{'Specified object:'}\NormalTok{,ser3.dtype)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>  Inferred:         int64 
#:>  Specified int8:   int8 
#:>  Specified object: object
\end{verbatim}

\hypertarget{accessing-series}{%
\subsection{Accessing Series}\label{accessing-series}}

\begin{verbatim}
series     ( single/list/range_of_row_label/number ) # can cause confusion
series.loc ( single/list/range_of_row_label )
series.iloc( single/list/range_of_row_number )
\end{verbatim}

\hypertarget{sample-data-4}{%
\subsubsection{Sample Data}\label{sample-data-4}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{s }\OperatorTok{=}\NormalTok{ pd.Series([}\DecValTok{1}\NormalTok{,}\DecValTok{2}\NormalTok{,}\DecValTok{3}\NormalTok{,}\DecValTok{4}\NormalTok{,}\DecValTok{5}\NormalTok{],index}\OperatorTok{=}\NormalTok{[}\StringTok{'a'}\NormalTok{,}\StringTok{'b'}\NormalTok{,}\StringTok{'c'}\NormalTok{,}\StringTok{'d'}\NormalTok{,}\StringTok{'e'}\NormalTok{]) }
\NormalTok{s}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> a    1
#:> b    2
#:> c    3
#:> d    4
#:> e    5
#:> dtype: int64
\end{verbatim}

\hypertarget{by-row-numbers}{%
\subsubsection{by Row Number(s)}\label{by-row-numbers}}

\textbf{Single Item}. Notice that inputing a number and list of number give different result.

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{( }\StringTok{'Referencing by number:'}\NormalTok{,s.iloc[}\DecValTok{1}\NormalTok{],}\StringTok{'}\CharTok{\textbackslash{}n\textbackslash{}n}\StringTok{'}\NormalTok{,}
       \StringTok{'}\CharTok{\textbackslash{}n}\StringTok{Referencing by list of number:}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{,s.iloc[[}\DecValTok{1}\NormalTok{]])}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> Referencing by number: 2 
#:> 
#:>  
#:> Referencing by list of number:
#:>  b    2
#:> dtype: int64
\end{verbatim}

\textbf{Multiple Items}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{s.iloc[[}\DecValTok{1}\NormalTok{,}\DecValTok{3}\NormalTok{]] }
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> b    2
#:> d    4
#:> dtype: int64
\end{verbatim}

\textbf{Range (First 3)}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{s.iloc[:}\DecValTok{3}\NormalTok{]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> a    1
#:> b    2
#:> c    3
#:> dtype: int64
\end{verbatim}

\textbf{Range (Last 3)}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{s.iloc[}\OperatorTok{-}\DecValTok{3}\NormalTok{:]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> c    3
#:> d    4
#:> e    5
#:> dtype: int64
\end{verbatim}

\textbf{Range (in between)}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{s.iloc[}\DecValTok{2}\NormalTok{:}\DecValTok{3}\NormalTok{]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> c    3
#:> dtype: int64
\end{verbatim}

\hypertarget{by-indexes}{%
\subsubsection{by Index(es)}\label{by-indexes}}

\textbf{Single Label}. Notice the difference referencing input: single index and list of index.\\
\textbf{Warning}: if index is invalid, this will result in error.

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{( s.loc[}\StringTok{'c'}\NormalTok{], }\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{,}
\NormalTok{       s[[}\StringTok{'c'}\NormalTok{]])}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 3 
#:>  c    3
#:> dtype: int64
\end{verbatim}

\textbf{Multiple Labels}

If index is not found, it will return \textbf{NaN}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{# error: missing labels no longer supported}
\NormalTok{s.loc[[}\StringTok{'k'}\NormalTok{,}\StringTok{'c'}\NormalTok{]]}
\end{Highlighting}
\end{Shaded}

** Range of Labels **

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{s.loc[}\StringTok{'b'}\NormalTok{:}\StringTok{'d'}\NormalTok{]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> b    2
#:> c    3
#:> d    4
#:> dtype: int64
\end{verbatim}

\hypertarget{filtering}{%
\subsubsection{Filtering}\label{filtering}}

Use \textbf{logical array} to filter

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{s }\OperatorTok{=}\NormalTok{ pd.Series(}\BuiltInTok{range}\NormalTok{(}\DecValTok{1}\NormalTok{,}\DecValTok{8}\NormalTok{))}
\NormalTok{s[s}\OperatorTok{<}\DecValTok{5}\NormalTok{]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 0    1
#:> 1    2
#:> 2    3
#:> 3    4
#:> dtype: int64
\end{verbatim}

Use \textbf{where}\\
The where method is an application of the if-then idiom. For each element in the calling Series, if \texttt{cond} is True the element is used; otherwise \texttt{other} is used.

\begin{verbatim}
.where(cond, other=nan, inplace=False)
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{(s.where(s}\OperatorTok{<}\DecValTok{4}\NormalTok{),}\StringTok{'}\CharTok{\textbackslash{}n\textbackslash{}n}\StringTok{'}\NormalTok{,}
\NormalTok{      s.where(s}\OperatorTok{<}\DecValTok{4}\NormalTok{,other}\OperatorTok{=}\VariableTok{None}\NormalTok{) )}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 0    1.0
#:> 1    2.0
#:> 2    3.0
#:> 3    NaN
#:> 4    NaN
#:> 5    NaN
#:> 6    NaN
#:> dtype: float64 
#:> 
#:>  0       1
#:> 1       2
#:> 2       3
#:> 3    None
#:> 4    None
#:> 5    None
#:> 6    None
#:> dtype: object
\end{verbatim}

\hypertarget{updating-series}{%
\subsection{Updating Series}\label{updating-series}}

\hypertarget{by-row-numbers-1}{%
\subsubsection{by Row Number(s)}\label{by-row-numbers-1}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{s }\OperatorTok{=}\NormalTok{ pd.Series(}\BuiltInTok{range}\NormalTok{(}\DecValTok{1}\NormalTok{,}\DecValTok{7}\NormalTok{), index}\OperatorTok{=}\NormalTok{[}\StringTok{'a'}\NormalTok{,}\StringTok{'b'}\NormalTok{,}\StringTok{'c'}\NormalTok{,}\StringTok{'d'}\NormalTok{,}\StringTok{'e'}\NormalTok{,}\StringTok{'f'}\NormalTok{])}
\NormalTok{s[}\DecValTok{2}\NormalTok{] }\OperatorTok{=} \DecValTok{999}
\NormalTok{s[[}\DecValTok{3}\NormalTok{,}\DecValTok{4}\NormalTok{]] }\OperatorTok{=} \DecValTok{888}\NormalTok{,}\DecValTok{777}
\NormalTok{s}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> a      1
#:> b      2
#:> c    999
#:> d    888
#:> e    777
#:> f      6
#:> dtype: int64
\end{verbatim}

\hypertarget{by-indexes-1}{%
\subsubsection{by Index(es)}\label{by-indexes-1}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{s }\OperatorTok{=}\NormalTok{ pd.Series(}\BuiltInTok{range}\NormalTok{(}\DecValTok{1}\NormalTok{,}\DecValTok{7}\NormalTok{), index}\OperatorTok{=}\NormalTok{[}\StringTok{'a'}\NormalTok{,}\StringTok{'b'}\NormalTok{,}\StringTok{'c'}\NormalTok{,}\StringTok{'d'}\NormalTok{,}\StringTok{'e'}\NormalTok{,}\StringTok{'f'}\NormalTok{])}
\NormalTok{s[}\StringTok{'e'}\NormalTok{] }\OperatorTok{=} \DecValTok{888}
\NormalTok{s[[}\StringTok{'c'}\NormalTok{,}\StringTok{'d'}\NormalTok{]] }\OperatorTok{=} \DecValTok{777}\NormalTok{,}\DecValTok{888}
\NormalTok{s}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> a      1
#:> b      2
#:> c    777
#:> d    888
#:> e    888
#:> f      6
#:> dtype: int64
\end{verbatim}

\hypertarget{series-attributes}{%
\subsection{Series Attributes}\label{series-attributes}}

\hypertarget{the-data}{%
\subsubsection{The Data}\label{the-data}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{s }\OperatorTok{=}\NormalTok{ pd.Series([}\DecValTok{1}\NormalTok{,}\DecValTok{2}\NormalTok{,}\DecValTok{3}\NormalTok{,}\DecValTok{4}\NormalTok{,}\DecValTok{5}\NormalTok{],index}\OperatorTok{=}\NormalTok{[}\StringTok{'a'}\NormalTok{,}\StringTok{'b'}\NormalTok{,}\StringTok{'c'}\NormalTok{,}\StringTok{'d'}\NormalTok{,}\StringTok{'e'}\NormalTok{],name}\OperatorTok{=}\StringTok{'SuperHero'}\NormalTok{) }
\NormalTok{s}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> a    1
#:> b    2
#:> c    3
#:> d    4
#:> e    5
#:> Name: SuperHero, dtype: int64
\end{verbatim}

\hypertarget{the-attributes}{%
\subsubsection{The Attributes}\label{the-attributes}}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{( }\StringTok{' Series Index:    '}\NormalTok{,s.index, }\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{,}
       \StringTok{'Series dType:    '}\NormalTok{, s.dtype, }\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{,}
       \StringTok{'Series Size:     '}\NormalTok{, s.size, }\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{,}
       \StringTok{'Series Shape:    '}\NormalTok{, s.shape, }\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{,}
       \StringTok{'Series Dimension:'}\NormalTok{, s.ndim)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>  Series Index:     Index(['a', 'b', 'c', 'd', 'e'], dtype='object') 
#:>  Series dType:     int64 
#:>  Series Size:      5 
#:>  Series Shape:     (5,) 
#:>  Series Dimension: 1
\end{verbatim}

\hypertarget{instance-methods-2}{%
\subsection{Instance Methods}\label{instance-methods-2}}

\hypertarget{index-manipulation}{%
\subsubsection{Index Manipulation}\label{index-manipulation}}

\textbf{\texttt{.rename\_axis()}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{s.rename_axis(}\StringTok{'haribulan'}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> haribulan
#:> a    1
#:> b    2
#:> c    3
#:> d    4
#:> e    5
#:> Name: SuperHero, dtype: int64
\end{verbatim}

\textbf{\texttt{.reset\_index()}}

Resetting index will:\\
- Convert index to a normal column, with column named as \textbf{`index'}\\
- Index renumbered to 1,2,3\\
- Return \textbf{DataFrame} (became two columns)

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{s.reset_index()}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>   index  SuperHero
#:> 0     a          1
#:> 1     b          2
#:> 2     c          3
#:> 3     d          4
#:> 4     e          5
\end{verbatim}

\hypertarget{structure-conversion-1}{%
\subsubsection{Structure Conversion}\label{structure-conversion-1}}

\begin{itemize}
\tightlist
\item
  A series structure contain \textbf{\texttt{value}} (in numpy array), its \textbf{\texttt{dtype}} (data type of the numpy array).\\
\item
  Use \textbf{\texttt{values}} to retrieve into `\texttt{numpy.ndarray}. Use \textbf{\texttt{dtype}} to understand the data type.
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{s }\OperatorTok{=}\NormalTok{ pd.Series([}\DecValTok{1}\NormalTok{,}\DecValTok{2}\NormalTok{,}\DecValTok{3}\NormalTok{,}\DecValTok{4}\NormalTok{,}\DecValTok{5}\NormalTok{])}
\BuiltInTok{print}\NormalTok{(}\StringTok{' Series value:      '}\NormalTok{, s.values, }\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{, }
      \StringTok{'Series value type: '}\NormalTok{,  }\BuiltInTok{type}\NormalTok{(s.values), }\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{,}
      \StringTok{'Series dtype:      '}\NormalTok{,  s.dtype)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>  Series value:       [1 2 3 4 5] 
#:>  Series value type:  <class 'numpy.ndarray'> 
#:>  Series dtype:       int64
\end{verbatim}

Convert To List using \textbf{\texttt{.tolist()}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{pd.Series.tolist(s)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> [1, 2, 3, 4, 5]
\end{verbatim}

\hypertarget{datatype-conversion}{%
\subsubsection{DataType Conversion}\label{datatype-conversion}}

Use \textbf{\texttt{astype()}} to convert to another numpy supproted datatypes, results in a new Series.\\
\textbf{Warning}: casting to incompatible type will result in \textbf{error}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{s.astype(}\StringTok{'int8'}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 0    1
#:> 1    2
#:> 2    3
#:> 3    4
#:> 4    5
#:> dtype: int8
\end{verbatim}

\hypertarget{series-operators}{%
\subsection{Series Operators}\label{series-operators}}

The result of applying operator (arithmetic or logic) to Series object \textbf{returns a new Series object}

\hypertarget{arithmetic-operator}{%
\subsubsection{Arithmetic Operator}\label{arithmetic-operator}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{s1 }\OperatorTok{=}\NormalTok{ pd.Series( [}\DecValTok{100}\NormalTok{,}\DecValTok{200}\NormalTok{,}\DecValTok{300}\NormalTok{,}\DecValTok{400}\NormalTok{,}\DecValTok{500}\NormalTok{] )}
\NormalTok{s2 }\OperatorTok{=}\NormalTok{ pd.Series( [}\DecValTok{10}\NormalTok{, }\DecValTok{20}\NormalTok{, }\DecValTok{30}\NormalTok{, }\DecValTok{40}\NormalTok{, }\DecValTok{50}\NormalTok{] )}
\end{Highlighting}
\end{Shaded}

\textbf{Apply To One Series Object}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{s1 }\OperatorTok{-} \DecValTok{100}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 0      0
#:> 1    100
#:> 2    200
#:> 3    300
#:> 4    400
#:> dtype: int64
\end{verbatim}

\textbf{Apply To Two Series Objects}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{s1 }\OperatorTok{-}\NormalTok{ s2}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 0     90
#:> 1    180
#:> 2    270
#:> 3    360
#:> 4    450
#:> dtype: int64
\end{verbatim}

\hypertarget{logic-operator}{%
\subsubsection{Logic Operator}\label{logic-operator}}

\begin{itemize}
\tightlist
\item
  Apply logic operator to a Series return a \textbf{new Series} of boolean result\\
\item
  This can be used for \textbf{Series or DataFrame filtering}
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{bs }\OperatorTok{=}\NormalTok{ pd.Series(}\BuiltInTok{range}\NormalTok{(}\DecValTok{0}\NormalTok{,}\DecValTok{10}\NormalTok{))}
\NormalTok{bs}\OperatorTok{>}\DecValTok{3}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 0    False
#:> 1    False
#:> 2    False
#:> 3    False
#:> 4     True
#:> 5     True
#:> 6     True
#:> 7     True
#:> 8     True
#:> 9     True
#:> dtype: bool
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\OperatorTok{~}\NormalTok{((bs}\OperatorTok{>}\DecValTok{3}\NormalTok{) }\OperatorTok{&}\NormalTok{ (bs}\OperatorTok{<}\DecValTok{8}\NormalTok{) }\OperatorTok{|}\NormalTok{ (bs}\OperatorTok{>}\DecValTok{7}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 0     True
#:> 1     True
#:> 2     True
#:> 3     True
#:> 4    False
#:> 5    False
#:> 6    False
#:> 7    False
#:> 8    False
#:> 9    False
#:> dtype: bool
\end{verbatim}

\hypertarget{series-.str-accesor}{%
\subsection{\texorpdfstring{Series \texttt{.str} Accesor}{Series .str Accesor}}\label{series-.str-accesor}}

If the underlying data is \textbf{str} type, then pandas exposed various properties and methos through \textbf{\texttt{str} accessor}.

\begin{verbatim}
SeriesObj.str.operatorFunction()
\end{verbatim}

\textbf{Available Functions}

Nearly all Python's built-in string methods are mirrored by a Pandas vectorized string method. Here is a list of Pandas str methods that mirror Python string methods:

len() lower() translate() islower() ljust() upper() startswith() isupper() rjust() find() endswith() isnumeric() center() rfind() isalnum() isdecimal() zfill() index() isalpha() split() strip() rindex() isdigit() rsplit() rstrip() capitalize() isspace() partition() lstrip() swapcase() istitle() rpartition()

\hypertarget{regex-extractor}{%
\subsubsection{Regex Extractor}\label{regex-extractor}}

Extract capture \textbf{groups} in the regex pattern, by default in DataFrame (\texttt{expand=True}).

\begin{verbatim}
Series.str.extract(self, pat, flags=0, expand=True)
- expand=True: if result is single column, make it a Series instead of Dataframe.
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{s }\OperatorTok{=}\NormalTok{ pd.Series([}\StringTok{'a1'}\NormalTok{, }\StringTok{'b2'}\NormalTok{, }\StringTok{'c3'}\NormalTok{])}
\BuiltInTok{print}\NormalTok{( }
  \StringTok{' Extracted Dataframe:}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{, s.}\BuiltInTok{str}\NormalTok{.extract(}\VerbatimStringTok{r'([ab])(\textbackslash{}d)'}\NormalTok{),}\StringTok{'}\CharTok{\textbackslash{}n\textbackslash{}n}\StringTok{'}\NormalTok{,}
  \StringTok{'Extracted Dataframe witn Names:}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{, s.}\BuiltInTok{str}\NormalTok{.extract(}\VerbatimStringTok{r'(?P<Letter>[ab])(\textbackslash{}d)'}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>  Extracted Dataframe:
#:>       0    1
#:> 0    a    1
#:> 1    b    2
#:> 2  NaN  NaN 
#:> 
#:>  Extracted Dataframe witn Names:
#:>    Letter    1
#:> 0      a    1
#:> 1      b    2
#:> 2    NaN  NaN
\end{verbatim}

Below ouptut single columne, use \textbf{\texttt{expand=False}} to make the result a \textbf{Series}, instead of DataFrame.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{r }\OperatorTok{=}\NormalTok{ s.}\BuiltInTok{str}\NormalTok{.extract(}\VerbatimStringTok{r'[ab](\textbackslash{}d)'}\NormalTok{, expand}\OperatorTok{=}\VariableTok{False}\NormalTok{)}
\BuiltInTok{print}\NormalTok{( r, }\StringTok{'}\CharTok{\textbackslash{}n\textbackslash{}n}\StringTok{'}\NormalTok{, }\BuiltInTok{type}\NormalTok{(r) )}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 0      1
#:> 1      2
#:> 2    NaN
#:> dtype: object 
#:> 
#:>  <class 'pandas.core.series.Series'>
\end{verbatim}

\hypertarget{character-extractor}{%
\subsubsection{Character Extractor}\label{character-extractor}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{monte }\OperatorTok{=}\NormalTok{ pd.Series([}\StringTok{'Graham Chapman'}\NormalTok{, }\StringTok{'John Cleese'}\NormalTok{, }\StringTok{'Terry Gilliam'}\NormalTok{,}
                   \StringTok{'Eric Idle'}\NormalTok{, }\StringTok{'Terry Jones'}\NormalTok{, }\StringTok{'Michael Palin'}\NormalTok{])}
\NormalTok{monte}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 0    Graham Chapman
#:> 1       John Cleese
#:> 2     Terry Gilliam
#:> 3         Eric Idle
#:> 4       Terry Jones
#:> 5     Michael Palin
#:> dtype: object
\end{verbatim}

\textbf{\texttt{startwith}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{monte.}\BuiltInTok{str}\NormalTok{.startswith(}\StringTok{'T'}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 0    False
#:> 1    False
#:> 2     True
#:> 3    False
#:> 4     True
#:> 5    False
#:> dtype: bool
\end{verbatim}

\textbf{\texttt{Slicing}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{monte.}\BuiltInTok{str}\NormalTok{[}\DecValTok{0}\NormalTok{:}\DecValTok{3}\NormalTok{]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 0    Gra
#:> 1    Joh
#:> 2    Ter
#:> 3    Eri
#:> 4    Ter
#:> 5    Mic
#:> dtype: object
\end{verbatim}

\hypertarget{splitting}{%
\subsubsection{Splitting}\label{splitting}}

Split strings around given separator/delimiter in either string or regex.

\begin{verbatim}
Series.str.split(self, pat=None, n=-1, expand=False)
- pat: can be string or regex
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{s }\OperatorTok{=}\NormalTok{ pd.Series([}\StringTok{'a_b_c'}\NormalTok{, }\StringTok{'c_d_e'}\NormalTok{, np.nan, }\StringTok{'f_g_h_i_j'}\NormalTok{])}
\NormalTok{s}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 0        a_b_c
#:> 1        c_d_e
#:> 2          NaN
#:> 3    f_g_h_i_j
#:> dtype: object
\end{verbatim}

\textbf{\texttt{str.split()}} by default, split will split each item into \textbf{array}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{s.}\BuiltInTok{str}\NormalTok{.split(}\StringTok{'_'}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 0          [a, b, c]
#:> 1          [c, d, e]
#:> 2                NaN
#:> 3    [f, g, h, i, j]
#:> dtype: object
\end{verbatim}

\textbf{\texttt{expand=True}} will return a \textbf{dataframe} instead of series. By default, expand split into all possible columns.

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{( s.}\BuiltInTok{str}\NormalTok{.split(}\StringTok{'_'}\NormalTok{, expand}\OperatorTok{=}\VariableTok{True}\NormalTok{) )}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>      0    1    2     3     4
#:> 0    a    b    c  None  None
#:> 1    c    d    e  None  None
#:> 2  NaN  NaN  NaN   NaN   NaN
#:> 3    f    g    h     i     j
\end{verbatim}

It is possible to limit the number of columns splitted

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{( s.}\BuiltInTok{str}\NormalTok{.split(}\StringTok{'_'}\NormalTok{, expand}\OperatorTok{=}\VariableTok{True}\NormalTok{, n}\OperatorTok{=}\DecValTok{1}\NormalTok{) )}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>      0        1
#:> 0    a      b_c
#:> 1    c      d_e
#:> 2  NaN      NaN
#:> 3    f  g_h_i_j
\end{verbatim}

\textbf{\texttt{str.rsplit()}}

\textbf{\texttt{rsplit}} stands for \textbf{reverse split}, it works the same way, except it is reversed

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{( s.}\BuiltInTok{str}\NormalTok{.rsplit(}\StringTok{'_'}\NormalTok{, expand}\OperatorTok{=}\VariableTok{True}\NormalTok{, n}\OperatorTok{=}\DecValTok{1}\NormalTok{) )}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>          0    1
#:> 0      a_b    c
#:> 1      c_d    e
#:> 2      NaN  NaN
#:> 3  f_g_h_i    j
\end{verbatim}

\hypertarget{case-conversion}{%
\subsubsection{Case Conversion}\label{case-conversion}}

\begin{verbatim}
SeriesObj.str.upper()
SeriesObj.str.lower()
SeriesObj.str.capitalize()
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{s }\OperatorTok{=}\NormalTok{ pd.Series([}\StringTok{'A'}\NormalTok{, }\StringTok{'B'}\NormalTok{, }\StringTok{'C'}\NormalTok{, }\StringTok{'aAba'}\NormalTok{, }\StringTok{'bBaca'}\NormalTok{, np.nan, }\StringTok{'cCABA'}\NormalTok{, }\StringTok{'dog'}\NormalTok{, }\StringTok{'cat'}\NormalTok{])}
\BuiltInTok{print}\NormalTok{( s.}\BuiltInTok{str}\NormalTok{.upper(), }\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{,}
\NormalTok{       s.}\BuiltInTok{str}\NormalTok{.capitalize())}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 0        A
#:> 1        B
#:> 2        C
#:> 3     AABA
#:> 4    BBACA
#:> 5      NaN
#:> 6    CCABA
#:> 7      DOG
#:> 8      CAT
#:> dtype: object 
#:>  0        A
#:> 1        B
#:> 2        C
#:> 3     Aaba
#:> 4    Bbaca
#:> 5      NaN
#:> 6    Ccaba
#:> 7      Dog
#:> 8      Cat
#:> dtype: object
\end{verbatim}

\hypertarget{number-of-characters}{%
\subsubsection{Number of Characters}\label{number-of-characters}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{s.}\BuiltInTok{str}\NormalTok{.}\BuiltInTok{len}\NormalTok{()}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 0    1.0
#:> 1    1.0
#:> 2    1.0
#:> 3    4.0
#:> 4    5.0
#:> 5    NaN
#:> 6    5.0
#:> 7    3.0
#:> 8    3.0
#:> dtype: float64
\end{verbatim}

\hypertarget{string-indexing}{%
\subsubsection{String Indexing}\label{string-indexing}}

This return specified character from each item.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{s }\OperatorTok{=}\NormalTok{ pd.Series([}\StringTok{'A'}\NormalTok{, }\StringTok{'B'}\NormalTok{, }\StringTok{'C'}\NormalTok{, }\StringTok{'Aaba'}\NormalTok{, }\StringTok{'Baca'}\NormalTok{, np.nan,}\StringTok{'CABA'}\NormalTok{, }\StringTok{'dog'}\NormalTok{, }\StringTok{'cat'}\NormalTok{])}
\NormalTok{s.}\BuiltInTok{str}\NormalTok{[}\DecValTok{0}\NormalTok{].values    }\CommentTok{# first char}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> array(['A', 'B', 'C', 'A', 'B', nan, 'C', 'd', 'c'], dtype=object)
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{s.}\BuiltInTok{str}\NormalTok{[}\DecValTok{0}\NormalTok{:}\DecValTok{2}\NormalTok{].values  }\CommentTok{# first and second char}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> array(['A', 'B', 'C', 'Aa', 'Ba', nan, 'CA', 'do', 'ca'], dtype=object)
\end{verbatim}

\hypertarget{series-substring-extraction}{%
\subsubsection{Series Substring Extraction}\label{series-substring-extraction}}

\textbf{Sample Data}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{s }\OperatorTok{=}\NormalTok{ pd.Series([}\StringTok{'a1'}\NormalTok{, }\StringTok{'b2'}\NormalTok{, }\StringTok{'c3'}\NormalTok{])}
\NormalTok{s}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 0    a1
#:> 1    b2
#:> 2    c3
#:> dtype: object
\end{verbatim}

\textbf{Extract absed on regex matching}\\
\ldots{} to improve \ldots{}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{type}\NormalTok{(s.}\BuiltInTok{str}\NormalTok{.extract(}\StringTok{'([ab])(\textbackslash{}d)'}\NormalTok{, expand}\OperatorTok{=}\VariableTok{False}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> <class 'pandas.core.frame.DataFrame'>
\end{verbatim}

\hypertarget{series-.dt-accessor}{%
\subsection{\texorpdfstring{Series \texttt{.dt} Accessor}{Series .dt Accessor}}\label{series-.dt-accessor}}

If the underlying data is \textbf{datetime64} type, then pandas exposed various properties and methos through \textbf{\texttt{dt} accessor}.

\hypertarget{sample-data-5}{%
\subsubsection{Sample Data}\label{sample-data-5}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{s }\OperatorTok{=}\NormalTok{ pd.Series([}
\NormalTok{    datetime(}\DecValTok{2000}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{),}
\NormalTok{    datetime(}\DecValTok{1999}\NormalTok{,}\DecValTok{12}\NormalTok{,}\DecValTok{15}\NormalTok{,}\DecValTok{12}\NormalTok{,}\DecValTok{34}\NormalTok{,}\DecValTok{55}\NormalTok{),}
\NormalTok{    datetime(}\DecValTok{2020}\NormalTok{,}\DecValTok{3}\NormalTok{,}\DecValTok{8}\NormalTok{,}\DecValTok{5}\NormalTok{,}\DecValTok{7}\NormalTok{,}\DecValTok{12}\NormalTok{),}
\NormalTok{    datetime(}\DecValTok{2018}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{),}
\NormalTok{    datetime(}\DecValTok{2003}\NormalTok{,}\DecValTok{3}\NormalTok{,}\DecValTok{4}\NormalTok{,}\DecValTok{5}\NormalTok{,}\DecValTok{6}\NormalTok{,}\DecValTok{7}\NormalTok{)}
\NormalTok{])}
\NormalTok{s}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 0   2000-01-01 00:00:00
#:> 1   1999-12-15 12:34:55
#:> 2   2020-03-08 05:07:12
#:> 3   2018-01-01 00:00:00
#:> 4   2003-03-04 05:06:07
#:> dtype: datetime64[ns]
\end{verbatim}

\hypertarget{convert-to}{%
\subsubsection{Convert To}\label{convert-to}}

\textbf{datetime.datetime}\\
Use \textbf{\texttt{to\_pydatetime()}} to convert into \textbf{\texttt{numpy.array}} of standard library \textbf{\texttt{datetime.datetime}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{pdt  }\OperatorTok{=}\NormalTok{ s.dt.to_pydatetime()}
\BuiltInTok{print}\NormalTok{( }\BuiltInTok{type}\NormalTok{(pdt) )}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> <class 'numpy.ndarray'>
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{pdt}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> array([datetime.datetime(2000, 1, 1, 0, 0),
#:>        datetime.datetime(1999, 12, 15, 12, 34, 55),
#:>        datetime.datetime(2020, 3, 8, 5, 7, 12),
#:>        datetime.datetime(2018, 1, 1, 0, 0),
#:>        datetime.datetime(2003, 3, 4, 5, 6, 7)], dtype=object)
\end{verbatim}

\textbf{datetime.date}\\
Use \textbf{\texttt{dt.date}} to convert into \textbf{\texttt{pandas.Series}} of standard library \textbf{\texttt{datetime.date}}\\
Is it possible to have a pandas.Series of datetime.datetime ? No, because Pandas want it as its own Timestamp.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{sdt }\OperatorTok{=}\NormalTok{ s.dt.date}
\BuiltInTok{print}\NormalTok{( }\BuiltInTok{type}\NormalTok{(sdt[}\DecValTok{1}\NormalTok{] ))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> <class 'datetime.date'>
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{( }\BuiltInTok{type}\NormalTok{(sdt))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> <class 'pandas.core.series.Series'>
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{sdt}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 0    2000-01-01
#:> 1    1999-12-15
#:> 2    2020-03-08
#:> 3    2018-01-01
#:> 4    2003-03-04
#:> dtype: object
\end{verbatim}

\hypertarget{timestamp-attributes}{%
\subsubsection{Timestamp Attributes}\label{timestamp-attributes}}

A Series::DateTime object support below properties:\\
- date\\
- month\\
- day\\
- year\\
- dayofweek\\
- dayofyear\\
- weekday\\
- weekday\_name\\
- quarter\\
- daysinmonth\\
- hour - minute

Full list below:\\
\url{https://pandas.pydata.org/pandas-docs/stable/reference/series.html\#datetimelike-properties}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{s.dt.date}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 0    2000-01-01
#:> 1    1999-12-15
#:> 2    2020-03-08
#:> 3    2018-01-01
#:> 4    2003-03-04
#:> dtype: object
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{s.dt.month}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 0     1
#:> 1    12
#:> 2     3
#:> 3     1
#:> 4     3
#:> dtype: int64
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{s.dt.dayofweek}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 0    5
#:> 1    2
#:> 2    6
#:> 3    0
#:> 4    1
#:> dtype: int64
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{s.dt.weekday}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 0    5
#:> 1    2
#:> 2    6
#:> 3    0
#:> 4    1
#:> dtype: int64
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{# error no attribute weekday_name}
\NormalTok{s.dt.weekday_name}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{s.dt.quarter}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 0    1
#:> 1    4
#:> 2    1
#:> 3    1
#:> 4    1
#:> dtype: int64
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{s.dt.daysinmonth}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 0    31
#:> 1    31
#:> 2    31
#:> 3    31
#:> 4    31
#:> dtype: int64
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{s.dt.time   }\CommentTok{# extract time as time Object}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 0    00:00:00
#:> 1    12:34:55
#:> 2    05:07:12
#:> 3    00:00:00
#:> 4    05:06:07
#:> dtype: object
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{s.dt.hour  }\CommentTok{# extract hour as integer}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 0     0
#:> 1    12
#:> 2     5
#:> 3     0
#:> 4     5
#:> dtype: int64
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{s.dt.minute }\CommentTok{# extract minute as integer}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 0     0
#:> 1    34
#:> 2     7
#:> 3     0
#:> 4     6
#:> dtype: int64
\end{verbatim}

\hypertarget{class-dataframe}{%
\section{class: DataFrame}\label{class-dataframe}}

\hypertarget{constructor-10}{%
\subsection{Constructor}\label{constructor-10}}

\hypertarget{empty-dataframe}{%
\subsubsection{Empty DataFrame}\label{empty-dataframe}}

By default, An empty dataframe contain no coumns and index.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{empty_df1 }\OperatorTok{=}\NormalTok{ pd.DataFrame()}
\NormalTok{empty_df2 }\OperatorTok{=}\NormalTok{ pd.DataFrame()}
\BuiltInTok{print}\NormalTok{(}\BuiltInTok{id}\NormalTok{(empty_df1), }\BuiltInTok{id}\NormalTok{(empty_df2), empty_df1)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 140412390980816 140412390676496 Empty DataFrame
#:> Columns: []
#:> Index: []
\end{verbatim}

However, you can also initialize an empty DataFrame with Index and/or Columns.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{empty_df }\OperatorTok{=}\NormalTok{ pd.DataFrame(columns}\OperatorTok{=}\NormalTok{[}\StringTok{'A'}\NormalTok{,}\StringTok{'B'}\NormalTok{,}\StringTok{'C'}\NormalTok{], index}\OperatorTok{=}\NormalTok{[}\DecValTok{1}\NormalTok{,}\DecValTok{2}\NormalTok{,}\DecValTok{3}\NormalTok{])}
\BuiltInTok{print}\NormalTok{( empty_df )}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>      A    B    C
#:> 1  NaN  NaN  NaN
#:> 2  NaN  NaN  NaN
#:> 3  NaN  NaN  NaN
\end{verbatim}

Take note that below empty\_df1 and empty\_df2 refers to \textbf{same memory location}. Meaning they cantain similar data.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{empty_df1 }\OperatorTok{=}\NormalTok{ empty_df2 }\OperatorTok{=}\NormalTok{ pd.DataFrame()}
\BuiltInTok{print}\NormalTok{(}\BuiltInTok{id}\NormalTok{(empty_df1), }\BuiltInTok{id}\NormalTok{(empty_df2))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 140412391056656 140412391056656
\end{verbatim}

\hypertarget{from-row-oriented-data-list-of-lists}{%
\subsubsection{From Row Oriented Data (List of Lists)}\label{from-row-oriented-data-list-of-lists}}

Create from \textbf{List of Lists}

\begin{verbatim}
DataFrame( [row_list1, row_list2, row_list3] )
DataFrame( [row_list1, row_list2, row_list3], column = columnName_list )
DataFrame( [row_list1, row_list2, row_list3], index  = row_label_list )
\end{verbatim}

\textbf{Basic DataFrame with default Row Label and Column Header}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{pd.DataFrame ([[}\DecValTok{101}\NormalTok{,}\StringTok{'Alice'}\NormalTok{,}\DecValTok{40000}\NormalTok{,}\DecValTok{2017}\NormalTok{],}
\NormalTok{               [}\DecValTok{102}\NormalTok{,}\StringTok{'Bob'}\NormalTok{,  }\DecValTok{24000}\NormalTok{, }\DecValTok{2017}\NormalTok{], }
\NormalTok{               [}\DecValTok{103}\NormalTok{,}\StringTok{'Charles'}\NormalTok{,}\DecValTok{31000}\NormalTok{,}\DecValTok{2017}\NormalTok{]] )}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>      0        1      2     3
#:> 0  101    Alice  40000  2017
#:> 1  102      Bob  24000  2017
#:> 2  103  Charles  31000  2017
\end{verbatim}

\textbf{Specify Column Header during Creation}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{pd.DataFrame ([[}\DecValTok{101}\NormalTok{,}\StringTok{'Alice'}\NormalTok{,}\DecValTok{40000}\NormalTok{,}\DecValTok{2017}\NormalTok{],}
\NormalTok{               [}\DecValTok{102}\NormalTok{,}\StringTok{'Bob'}\NormalTok{,  }\DecValTok{24000}\NormalTok{, }\DecValTok{2017}\NormalTok{], }
\NormalTok{               [}\DecValTok{103}\NormalTok{,}\StringTok{'Charles'}\NormalTok{,}\DecValTok{31000}\NormalTok{,}\DecValTok{2017}\NormalTok{]], columns }\OperatorTok{=}\NormalTok{ [}\StringTok{'empID'}\NormalTok{,}\StringTok{'name'}\NormalTok{,}\StringTok{'salary'}\NormalTok{,}\StringTok{'year'}\NormalTok{])}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>    empID     name  salary  year
#:> 0    101    Alice   40000  2017
#:> 1    102      Bob   24000  2017
#:> 2    103  Charles   31000  2017
\end{verbatim}

\textbf{Specify Row Label during Creation}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{pd.DataFrame ([[}\DecValTok{101}\NormalTok{,}\StringTok{'Alice'}\NormalTok{,}\DecValTok{40000}\NormalTok{,}\DecValTok{2017}\NormalTok{],}
\NormalTok{               [}\DecValTok{102}\NormalTok{,}\StringTok{'Bob'}\NormalTok{,  }\DecValTok{24000}\NormalTok{, }\DecValTok{2017}\NormalTok{], }
\NormalTok{               [}\DecValTok{103}\NormalTok{,}\StringTok{'Charles'}\NormalTok{,}\DecValTok{31000}\NormalTok{,}\DecValTok{2017}\NormalTok{]], index   }\OperatorTok{=}\NormalTok{ [}\StringTok{'r1'}\NormalTok{,}\StringTok{'r2'}\NormalTok{,}\StringTok{'r3'}\NormalTok{] )}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>       0        1      2     3
#:> r1  101    Alice  40000  2017
#:> r2  102      Bob  24000  2017
#:> r3  103  Charles  31000  2017
\end{verbatim}

\hypertarget{from-row-oriented-data-list-of-dictionary}{%
\subsubsection{From Row Oriented Data (List of Dictionary)}\label{from-row-oriented-data-list-of-dictionary}}

\begin{verbatim}
DataFrame( [dict1, dict2, dict3] )
DataFrame( [row_list1, row_list2, row_list3], column=np.arrange )
DataFrame( [row_list1, row_list2, row_list3], index=row_label_list )

by default,keys will become collumn names, and autosorted
\end{verbatim}

\textbf{Default Column Name Follow Dictionary Key}\\
Note missing info as NaN

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{pd.DataFrame ([\{}\StringTok{"name"}\NormalTok{:}\StringTok{"Yong"}\NormalTok{, }\StringTok{"id"}\NormalTok{:}\DecValTok{1}\NormalTok{,}\StringTok{"zkey"}\NormalTok{:}\DecValTok{101}\NormalTok{\},\{}\StringTok{"name"}\NormalTok{:}\StringTok{"Gan"}\NormalTok{,}\StringTok{"id"}\NormalTok{:}\DecValTok{2}\NormalTok{\}])}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>    name  id   zkey
#:> 0  Yong   1  101.0
#:> 1   Gan   2    NaN
\end{verbatim}

\textbf{Specify Index}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{pd.DataFrame ([\{}\StringTok{"name"}\NormalTok{:}\StringTok{"Yong"}\NormalTok{, }\StringTok{"id"}\NormalTok{:}\StringTok{'wd1'}\NormalTok{\},\{}\StringTok{"name"}\NormalTok{:}\StringTok{"Gan"}\NormalTok{,}\StringTok{"id"}\NormalTok{:}\StringTok{'wd2'}\NormalTok{\}], }
\NormalTok{             index }\OperatorTok{=}\NormalTok{ (}\DecValTok{1}\NormalTok{,}\DecValTok{2}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>    name   id
#:> 1  Yong  wd1
#:> 2   Gan  wd2
\end{verbatim}

\textbf{Specify Column Header during Creation}, can acts as column filter and manual arrangement\\
Note missing info as NaN

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{pd.DataFrame ([\{}\StringTok{"name"}\NormalTok{:}\StringTok{"Yong"}\NormalTok{, }\StringTok{"id"}\NormalTok{:}\DecValTok{1}\NormalTok{, }\StringTok{"zkey"}\NormalTok{:}\DecValTok{101}\NormalTok{\},\{}\StringTok{"name"}\NormalTok{:}\StringTok{"Gan"}\NormalTok{,}\StringTok{"id"}\NormalTok{:}\DecValTok{2}\NormalTok{\}], }
\NormalTok{              columns}\OperatorTok{=}\NormalTok{(}\StringTok{"name"}\NormalTok{,}\StringTok{"id"}\NormalTok{,}\StringTok{"zkey"}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>    name  id   zkey
#:> 0  Yong   1  101.0
#:> 1   Gan   2    NaN
\end{verbatim}

\hypertarget{from-column-oriented-data}{%
\subsubsection{From Column Oriented Data}\label{from-column-oriented-data}}

Create from \textbf{Dictrionary of List}

\begin{verbatim}
DataFrame(  { 'column1': list1,
              'column2': list2,
              'column3': list3 } , 
              index    = row_label_list, 
              columns  = column_list)
              
\end{verbatim}

By default, DataFrame will \textbf{arrange the columns alphabetically}, unless \textbf{columns} is specified

\textbf{Default Row Label}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{data }\OperatorTok{=}\NormalTok{ \{}\StringTok{'empID'}\NormalTok{:  [}\DecValTok{100}\NormalTok{,      }\DecValTok{101}\NormalTok{,    }\DecValTok{102}\NormalTok{,      }\DecValTok{103}\NormalTok{,     }\DecValTok{104}\NormalTok{],}
        \StringTok{'year'}\NormalTok{:   [}\DecValTok{2017}\NormalTok{,     }\DecValTok{2017}\NormalTok{,   }\DecValTok{2017}\NormalTok{,      }\DecValTok{2018}\NormalTok{,    }\DecValTok{2018}\NormalTok{],}
        \StringTok{'salary'}\NormalTok{: [}\DecValTok{40000}\NormalTok{,    }\DecValTok{24000}\NormalTok{,  }\DecValTok{31000}\NormalTok{,     }\DecValTok{20000}\NormalTok{,   }\DecValTok{30000}\NormalTok{],}
        \StringTok{'name'}\NormalTok{:   [}\StringTok{'Alice'}\NormalTok{, }\StringTok{'Bob'}\NormalTok{,  }\StringTok{'Charles'}\NormalTok{, }\StringTok{'David'}\NormalTok{, }\StringTok{'Eric'}\NormalTok{]\}}
\NormalTok{pd.DataFrame(data)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>    empID  year  salary     name
#:> 0    100  2017   40000    Alice
#:> 1    101  2017   24000      Bob
#:> 2    102  2017   31000  Charles
#:> 3    103  2018   20000    David
#:> 4    104  2018   30000     Eric
\end{verbatim}

\textbf{Specify Row Label during Creation}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{data }\OperatorTok{=}\NormalTok{ \{}\StringTok{'empID'}\NormalTok{:  [}\DecValTok{100}\NormalTok{,      }\DecValTok{101}\NormalTok{,    }\DecValTok{102}\NormalTok{,      }\DecValTok{103}\NormalTok{,     }\DecValTok{104}\NormalTok{],}
        \StringTok{'name'}\NormalTok{:   [}\StringTok{'Alice'}\NormalTok{, }\StringTok{'Bob'}\NormalTok{,  }\StringTok{'Charles'}\NormalTok{, }\StringTok{'David'}\NormalTok{, }\StringTok{'Eric'}\NormalTok{],}
        \StringTok{'year'}\NormalTok{:   [}\DecValTok{2017}\NormalTok{,     }\DecValTok{2017}\NormalTok{,   }\DecValTok{2017}\NormalTok{,      }\DecValTok{2018}\NormalTok{,    }\DecValTok{2018}\NormalTok{],}
        \StringTok{'salary'}\NormalTok{: [}\DecValTok{40000}\NormalTok{,    }\DecValTok{24000}\NormalTok{,  }\DecValTok{31000}\NormalTok{,     }\DecValTok{20000}\NormalTok{,   }\DecValTok{30000}\NormalTok{] \}}
\NormalTok{pd.DataFrame (data, index}\OperatorTok{=}\NormalTok{[}\StringTok{'r1'}\NormalTok{,}\StringTok{'r2'}\NormalTok{,}\StringTok{'r3'}\NormalTok{,}\StringTok{'r4'}\NormalTok{,}\StringTok{'r5'}\NormalTok{])}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>     empID     name  year  salary
#:> r1    100    Alice  2017   40000
#:> r2    101      Bob  2017   24000
#:> r3    102  Charles  2017   31000
#:> r4    103    David  2018   20000
#:> r5    104     Eric  2018   30000
\end{verbatim}

\textbf{Manualy Choose Columns and Arrangement}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{data }\OperatorTok{=}\NormalTok{ \{}\StringTok{'empID'}\NormalTok{:  [}\DecValTok{100}\NormalTok{,      }\DecValTok{101}\NormalTok{,    }\DecValTok{102}\NormalTok{,      }\DecValTok{103}\NormalTok{,     }\DecValTok{104}\NormalTok{],}
        \StringTok{'name'}\NormalTok{:   [}\StringTok{'Alice'}\NormalTok{, }\StringTok{'Bob'}\NormalTok{,  }\StringTok{'Charles'}\NormalTok{, }\StringTok{'David'}\NormalTok{, }\StringTok{'Eric'}\NormalTok{],}
        \StringTok{'year'}\NormalTok{:   [}\DecValTok{2017}\NormalTok{,     }\DecValTok{2017}\NormalTok{,   }\DecValTok{2017}\NormalTok{,      }\DecValTok{2018}\NormalTok{,    }\DecValTok{2018}\NormalTok{],}
        \StringTok{'salary'}\NormalTok{: [}\DecValTok{40000}\NormalTok{,    }\DecValTok{24000}\NormalTok{,  }\DecValTok{31000}\NormalTok{,     }\DecValTok{20000}\NormalTok{,   }\DecValTok{30000}\NormalTok{] \}}
\NormalTok{pd.DataFrame (data, columns}\OperatorTok{=}\NormalTok{(}\StringTok{'empID'}\NormalTok{,}\StringTok{'name'}\NormalTok{,}\StringTok{'salary'}\NormalTok{), index}\OperatorTok{=}\NormalTok{[}\StringTok{'r1'}\NormalTok{,}\StringTok{'r2'}\NormalTok{,}\StringTok{'r3'}\NormalTok{,}\StringTok{'r4'}\NormalTok{,}\StringTok{'r5'}\NormalTok{])}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>     empID     name  salary
#:> r1    100    Alice   40000
#:> r2    101      Bob   24000
#:> r3    102  Charles   31000
#:> r4    103    David   20000
#:> r5    104     Eric   30000
\end{verbatim}

\hypertarget{operator-2}{%
\subsection{Operator}\label{operator-2}}

\hypertarget{the-data-1}{%
\subsubsection{The Data}\label{the-data-1}}

Two dataframe is created, each with 3 columns and 3 rows. However, only two \textbf{matching column and row} names We shall notice that the operator will perform cell-wise, \textbf{honoring the row/column name}.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df1 }\OperatorTok{=}\NormalTok{ pd.DataFrame(data}\OperatorTok{=}
\NormalTok{  \{}\StringTok{'idx'}\NormalTok{: [}\StringTok{'row1'}\NormalTok{,}\StringTok{'row2'}\NormalTok{,}\StringTok{'row3'}\NormalTok{],}
   \StringTok{'x'}\NormalTok{: [}\DecValTok{10}\NormalTok{, }\DecValTok{20}\NormalTok{, }\DecValTok{30}\NormalTok{],}
   \StringTok{'y'}\NormalTok{: [}\DecValTok{1}\NormalTok{,}\DecValTok{2}\NormalTok{,}\DecValTok{3}\NormalTok{],}
   \StringTok{'z'}\NormalTok{: [}\FloatTok{0.1}\NormalTok{, }\FloatTok{0.2}\NormalTok{, }\FloatTok{0.3}\NormalTok{]\}).set_index(}\StringTok{'idx'}\NormalTok{)}
   
\NormalTok{df2 }\OperatorTok{=}\NormalTok{ pd.DataFrame(data}\OperatorTok{=}
\NormalTok{  \{}\StringTok{'idx'}\NormalTok{: [}\StringTok{'row1'}\NormalTok{,}\StringTok{'row2'}\NormalTok{,}\StringTok{'row4'}\NormalTok{],}
   \StringTok{'x'}\NormalTok{: [}\DecValTok{13}\NormalTok{, }\DecValTok{23}\NormalTok{, }\DecValTok{33}\NormalTok{],}
   \StringTok{'z'}\NormalTok{: [}\FloatTok{0.1}\NormalTok{, }\FloatTok{0.2}\NormalTok{, }\FloatTok{0.3}\NormalTok{],}
   \StringTok{'k'}\NormalTok{: [}\DecValTok{11}\NormalTok{,}\DecValTok{21}\NormalTok{,}\DecValTok{31}\NormalTok{]}
\NormalTok{   \}).set_index(}\StringTok{'idx'}\NormalTok{)}
   
\BuiltInTok{print}\NormalTok{( df1, }\StringTok{'}\CharTok{\textbackslash{}n\textbackslash{}n}\StringTok{'}\NormalTok{, df2)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>        x  y    z
#:> idx             
#:> row1  10  1  0.1
#:> row2  20  2  0.2
#:> row3  30  3  0.3 
#:> 
#:>         x    z   k
#:> idx              
#:> row1  13  0.1  11
#:> row2  23  0.2  21
#:> row4  33  0.3  31
\end{verbatim}

\hypertarget{addition}{%
\subsubsection{Addition}\label{addition}}

\textbf{Adding Two DataFrame}

Using \texttt{+} operator, non-matching row/column names will result in \textbf{NA}. However, when using function \textbf{\texttt{add}}, none matching cells can be assumed as with a value.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{r1 }\OperatorTok{=}\NormalTok{ df1 }\OperatorTok{+}\NormalTok{ df2}
\NormalTok{r2 }\OperatorTok{=}\NormalTok{ df1.add(df2,fill_value}\OperatorTok{=}\DecValTok{1000}\NormalTok{)}

\BuiltInTok{print}\NormalTok{( r1, }\StringTok{'}\CharTok{\textbackslash{}n\textbackslash{}n}\StringTok{'}\NormalTok{, r2)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>        k     x   y    z
#:> idx                    
#:> row1 NaN  23.0 NaN  0.2
#:> row2 NaN  43.0 NaN  0.4
#:> row3 NaN   NaN NaN  NaN
#:> row4 NaN   NaN NaN  NaN 
#:> 
#:>             k       x       y       z
#:> idx                                 
#:> row1  1011.0    23.0  1001.0     0.2
#:> row2  1021.0    43.0  1002.0     0.4
#:> row3     NaN  1030.0  1003.0  1000.3
#:> row4  1031.0  1033.0     NaN  1000.3
\end{verbatim}

\textbf{Adding Series and DataFrame}

Specify the \textbf{appropriate \texttt{axis}} depending on the orientation of the series data. Column and Row names are respected in this operation. However, \texttt{fill\_value} is \textbf{not applicable} when apply on Series.

Note that columns in Series that are not found in dataframe, will still be created in the result. This is similar behaviour as operating Dataframe with Dataframe.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{s3 }\OperatorTok{=}\NormalTok{ pd.Series([}\DecValTok{1}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{1}\NormalTok{], index}\OperatorTok{=}\NormalTok{[}\StringTok{'row1'}\NormalTok{,}\StringTok{'row2'}\NormalTok{,}\StringTok{'row4'}\NormalTok{])}
\NormalTok{s4 }\OperatorTok{=}\NormalTok{ pd.Series([}\DecValTok{3}\NormalTok{,}\DecValTok{3}\NormalTok{,}\DecValTok{3}\NormalTok{], index}\OperatorTok{=}\NormalTok{[}\StringTok{'x'}\NormalTok{,}\StringTok{'y'}\NormalTok{,}\StringTok{'s'}\NormalTok{])}

\BuiltInTok{print}\NormalTok{(}\StringTok{'Original Data:}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{,df1,}\StringTok{'}\CharTok{\textbackslash{}n\textbackslash{}n}\StringTok{'}\NormalTok{,}
      \StringTok{'Add By Rows: }\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{, df1.add(s3, axis}\OperatorTok{=}\DecValTok{0}\NormalTok{), }\StringTok{'}\CharTok{\textbackslash{}n\textbackslash{}n}\StringTok{'}\NormalTok{,}
      \StringTok{'Add By Columns: }\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{, df1.add(s4, axis}\OperatorTok{=}\DecValTok{1}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> Original Data:
#:>         x  y    z
#:> idx             
#:> row1  10  1  0.1
#:> row2  20  2  0.2
#:> row3  30  3  0.3 
#:> 
#:>  Add By Rows: 
#:>           x    y    z
#:> row1  11.0  2.0  1.1
#:> row2  21.0  3.0  1.2
#:> row3   NaN  NaN  NaN
#:> row4   NaN  NaN  NaN 
#:> 
#:>  Add By Columns: 
#:>         s     x    y   z
#:> idx                    
#:> row1 NaN  13.0  4.0 NaN
#:> row2 NaN  23.0  5.0 NaN
#:> row3 NaN  33.0  6.0 NaN
\end{verbatim}

\hypertarget{substraction}{%
\subsubsection{Substraction}\label{substraction}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{r1 }\OperatorTok{=}\NormalTok{ df2 }\OperatorTok{-}\NormalTok{ df1}
\NormalTok{r2 }\OperatorTok{=}\NormalTok{ df2.sub(df1,fill_value}\OperatorTok{=}\DecValTok{1000}\NormalTok{)}

\BuiltInTok{print}\NormalTok{( r1, }\StringTok{'}\CharTok{\textbackslash{}n\textbackslash{}n}\StringTok{'}\NormalTok{, r2)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>        k    x   y    z
#:> idx                   
#:> row1 NaN  3.0 NaN  0.0
#:> row2 NaN  3.0 NaN  0.0
#:> row3 NaN  NaN NaN  NaN
#:> row4 NaN  NaN NaN  NaN 
#:> 
#:>            k      x      y      z
#:> idx                             
#:> row1 -989.0    3.0  999.0    0.0
#:> row2 -979.0    3.0  998.0    0.0
#:> row3    NaN  970.0  997.0  999.7
#:> row4 -969.0 -967.0    NaN -999.7
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{r3 }\OperatorTok{=}\NormalTok{ (r2}\OperatorTok{>}\DecValTok{0}\NormalTok{) }\OperatorTok{&}\NormalTok{ (r2}\OperatorTok{<=}\DecValTok{3}\NormalTok{)}
\BuiltInTok{print}\NormalTok{( }\StringTok{'Original Data: }\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{, r2, }\StringTok{'}\CharTok{\textbackslash{}n\textbackslash{}n}\StringTok{'}\NormalTok{,}
       \StringTok{'Logical Operator:}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{, r3)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> Original Data: 
#:>            k      x      y      z
#:> idx                             
#:> row1 -989.0    3.0  999.0    0.0
#:> row2 -979.0    3.0  998.0    0.0
#:> row3    NaN  970.0  997.0  999.7
#:> row4 -969.0 -967.0    NaN -999.7 
#:> 
#:>  Logical Operator:
#:>            k      x      y      z
#:> idx                             
#:> row1  False   True  False  False
#:> row2  False   True  False  False
#:> row3  False  False  False  False
#:> row4  False  False  False  False
\end{verbatim}

\hypertarget{attributes-6}{%
\subsection{Attributes}\label{attributes-6}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df }\OperatorTok{=}\NormalTok{ pd.DataFrame(}
\NormalTok{    \{ }\StringTok{'empID'}\NormalTok{:  [}\DecValTok{100}\NormalTok{,      }\DecValTok{101}\NormalTok{,    }\DecValTok{102}\NormalTok{,      }\DecValTok{103}\NormalTok{,     }\DecValTok{104}\NormalTok{],}
      \StringTok{'year1'}\NormalTok{:   [}\DecValTok{2017}\NormalTok{,     }\DecValTok{2017}\NormalTok{,   }\DecValTok{2017}\NormalTok{,      }\DecValTok{2018}\NormalTok{,    }\DecValTok{2018}\NormalTok{],}
      \StringTok{'name'}\NormalTok{:   [}\StringTok{'Alice'}\NormalTok{,  }\StringTok{'Bob'}\NormalTok{,  }\StringTok{'Charles'}\NormalTok{,}\StringTok{'David'}\NormalTok{, }\StringTok{'Eric'}\NormalTok{],}
      \StringTok{'year2'}\NormalTok{:   [}\DecValTok{2001}\NormalTok{,     }\DecValTok{1907}\NormalTok{,   }\DecValTok{2003}\NormalTok{,      }\DecValTok{1998}\NormalTok{,    }\DecValTok{2011}\NormalTok{],}
      \StringTok{'salary'}\NormalTok{: [}\DecValTok{40000}\NormalTok{,    }\DecValTok{24000}\NormalTok{,  }\DecValTok{31000}\NormalTok{,     }\DecValTok{20000}\NormalTok{,   }\DecValTok{30000}\NormalTok{]\},}
\NormalTok{    columns }\OperatorTok{=}\NormalTok{ [}\StringTok{'year1'}\NormalTok{,}\StringTok{'salary'}\NormalTok{,}\StringTok{'year2'}\NormalTok{,}\StringTok{'empID'}\NormalTok{,}\StringTok{'name'}\NormalTok{])}
\end{Highlighting}
\end{Shaded}

\hypertarget{dimensions-1}{%
\subsubsection{Dimensions}\label{dimensions-1}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df.shape}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> (5, 5)
\end{verbatim}

\hypertarget{index}{%
\subsubsection{Index}\label{index}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df.index}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> RangeIndex(start=0, stop=5, step=1)
\end{verbatim}

\textbf{Underlying Index values are numpy object}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df.index.values}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> array([0, 1, 2, 3, 4])
\end{verbatim}

\hypertarget{columns}{%
\subsubsection{Columns}\label{columns}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df.columns}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> Index(['year1', 'salary', 'year2', 'empID', 'name'], dtype='object')
\end{verbatim}

\textbf{Underlying Index values are numpy object}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df.columns.values}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> array(['year1', 'salary', 'year2', 'empID', 'name'], dtype=object)
\end{verbatim}

\hypertarget{values}{%
\subsubsection{Values}\label{values}}

\textbf{Underlying Column values are numpy object}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df.values}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> array([[2017, 40000, 2001, 100, 'Alice'],
#:>        [2017, 24000, 1907, 101, 'Bob'],
#:>        [2017, 31000, 2003, 102, 'Charles'],
#:>        [2018, 20000, 1998, 103, 'David'],
#:>        [2018, 30000, 2011, 104, 'Eric']], dtype=object)
\end{verbatim}

\hypertarget{index-manipulation-1}{%
\subsection{Index Manipulation}\label{index-manipulation-1}}

\textbf{index} and \textbf{row label} are used interchangeably in this book

\hypertarget{sample-data-6}{%
\subsubsection{Sample Data}\label{sample-data-6}}

Columns are intentionaly ordered in a messy way

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df }\OperatorTok{=}\NormalTok{ pd.DataFrame(}
\NormalTok{    \{ }\StringTok{'empID'}\NormalTok{:  [}\DecValTok{100}\NormalTok{,      }\DecValTok{101}\NormalTok{,    }\DecValTok{102}\NormalTok{,      }\DecValTok{103}\NormalTok{,     }\DecValTok{104}\NormalTok{],}
      \StringTok{'year1'}\NormalTok{:   [}\DecValTok{2017}\NormalTok{,     }\DecValTok{2017}\NormalTok{,   }\DecValTok{2017}\NormalTok{,      }\DecValTok{2018}\NormalTok{,    }\DecValTok{2018}\NormalTok{],}
      \StringTok{'name'}\NormalTok{:   [}\StringTok{'Alice'}\NormalTok{,  }\StringTok{'Bob'}\NormalTok{,  }\StringTok{'Charles'}\NormalTok{,}\StringTok{'David'}\NormalTok{, }\StringTok{'Eric'}\NormalTok{],}
      \StringTok{'year2'}\NormalTok{:   [}\DecValTok{2001}\NormalTok{,     }\DecValTok{1907}\NormalTok{,   }\DecValTok{2003}\NormalTok{,      }\DecValTok{1998}\NormalTok{,    }\DecValTok{2011}\NormalTok{],}
      \StringTok{'salary'}\NormalTok{: [}\DecValTok{40000}\NormalTok{,    }\DecValTok{24000}\NormalTok{,  }\DecValTok{31000}\NormalTok{,     }\DecValTok{20000}\NormalTok{,   }\DecValTok{30000}\NormalTok{]\},}
\NormalTok{    columns }\OperatorTok{=}\NormalTok{ [}\StringTok{'year1'}\NormalTok{,}\StringTok{'salary'}\NormalTok{,}\StringTok{'year2'}\NormalTok{,}\StringTok{'empID'}\NormalTok{,}\StringTok{'name'}\NormalTok{])}

\BuiltInTok{print}\NormalTok{ (df, }\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>    year1  salary  year2  empID     name
#:> 0   2017   40000   2001    100    Alice
#:> 1   2017   24000   1907    101      Bob
#:> 2   2017   31000   2003    102  Charles
#:> 3   2018   20000   1998    103    David
#:> 4   2018   30000   2011    104     Eric
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{ (df.index)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> RangeIndex(start=0, stop=5, step=1)
\end{verbatim}

\hypertarget{convert-column-to-index}{%
\subsubsection{Convert Column To Index}\label{convert-column-to-index}}

\begin{verbatim}
set_index('column_name', inplace=False)
\end{verbatim}

\textbf{inplace=True} means don't create a new dataframe. Modify existing dataframe\\
\textbf{inplace=False} means return a new dataframe

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{(df)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>    year1  salary  year2  empID     name
#:> 0   2017   40000   2001    100    Alice
#:> 1   2017   24000   1907    101      Bob
#:> 2   2017   31000   2003    102  Charles
#:> 3   2018   20000   1998    103    David
#:> 4   2018   30000   2011    104     Eric
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{(df.index,}\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> RangeIndex(start=0, stop=5, step=1)
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df.set_index(}\StringTok{'empID'}\NormalTok{,inplace}\OperatorTok{=}\VariableTok{True}\NormalTok{) }
\BuiltInTok{print}\NormalTok{(df)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>        year1  salary  year2     name
#:> empID                               
#:> 100     2017   40000   2001    Alice
#:> 101     2017   24000   1907      Bob
#:> 102     2017   31000   2003  Charles
#:> 103     2018   20000   1998    David
#:> 104     2018   30000   2011     Eric
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{(df.index) }\CommentTok{# return new DataFrameObj}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> Int64Index([100, 101, 102, 103, 104], dtype='int64', name='empID')
\end{verbatim}

\hypertarget{convert-index-back-to-column}{%
\subsubsection{Convert Index Back To Column}\label{convert-index-back-to-column}}

\begin{itemize}
\tightlist
\item
  Reseting index will resequence the index as 0,1,2 etc\\
\item
  Old index column will be converted back as normal column\\
\item
  Operation support inplace** option
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df.reset_index(inplace}\OperatorTok{=}\VariableTok{True}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(df)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>    empID  year1  salary  year2     name
#:> 0    100   2017   40000   2001    Alice
#:> 1    101   2017   24000   1907      Bob
#:> 2    102   2017   31000   2003  Charles
#:> 3    103   2018   20000   1998    David
#:> 4    104   2018   30000   2011     Eric
\end{verbatim}

\hypertarget{updating-index-.index}{%
\subsubsection{Updating Index ( .index= )}\label{updating-index-.index}}

\textbf{Warning:}\\
- Updating index \textbf{doesn't reorder} the data sequence\\
- Number of elements before and after reorder must match, otherwise \textbf{error}\\
- Same label are \textbf{allowed to repeat} - Not reversable

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df.index }\OperatorTok{=}\NormalTok{ [}\DecValTok{101}\NormalTok{, }\DecValTok{101}\NormalTok{, }\DecValTok{101}\NormalTok{, }\DecValTok{102}\NormalTok{, }\DecValTok{103}\NormalTok{]}
\NormalTok{df}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>      empID  year1  salary  year2     name
#:> 101    100   2017   40000   2001    Alice
#:> 101    101   2017   24000   1907      Bob
#:> 101    102   2017   31000   2003  Charles
#:> 102    103   2018   20000   1998    David
#:> 103    104   2018   30000   2011     Eric
\end{verbatim}

\hypertarget{reordering-index-.-reindex}{%
\subsubsection{Reordering Index (. reindex )}\label{reordering-index-.-reindex}}

\begin{itemize}
\tightlist
\item
  Reindex will \textbf{reorder} the rows according to new index\\
\item
  The operation is not reversable
\end{itemize}

\textbf{Start from this original dataframe}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df.index }\OperatorTok{=}\NormalTok{ [}\DecValTok{101}\NormalTok{,}\DecValTok{102}\NormalTok{,}\DecValTok{103}\NormalTok{,}\DecValTok{104}\NormalTok{,}\DecValTok{105}\NormalTok{]}
\NormalTok{df}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>      empID  year1  salary  year2     name
#:> 101    100   2017   40000   2001    Alice
#:> 102    101   2017   24000   1907      Bob
#:> 103    102   2017   31000   2003  Charles
#:> 104    103   2018   20000   1998    David
#:> 105    104   2018   30000   2011     Eric
\end{verbatim}

\textbf{Change the order of Index}, always return a new dataframe

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df.reindex([}\DecValTok{103}\NormalTok{,}\DecValTok{102}\NormalTok{,}\DecValTok{101}\NormalTok{,}\DecValTok{104}\NormalTok{,}\DecValTok{105}\NormalTok{])}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>      empID  year1  salary  year2     name
#:> 103    102   2017   31000   2003  Charles
#:> 102    101   2017   24000   1907      Bob
#:> 101    100   2017   40000   2001    Alice
#:> 104    103   2018   20000   1998    David
#:> 105    104   2018   30000   2011     Eric
\end{verbatim}

\hypertarget{rename-index}{%
\subsubsection{Rename Index}\label{rename-index}}

\begin{itemize}
\tightlist
\item
  Example below renamed the axis of both columns and rows\\
\item
  Use \texttt{axis=0} for row index, use \texttt{axis=1} for column index
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df.rename_axis(}\StringTok{'super_id'}\NormalTok{).rename_axis(}\StringTok{'my_cols'}\NormalTok{, axis}\OperatorTok{=}\DecValTok{1}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> my_cols   empID  year1  salary  year2     name
#:> super_id                                      
#:> 101         100   2017   40000   2001    Alice
#:> 102         101   2017   24000   1907      Bob
#:> 103         102   2017   31000   2003  Charles
#:> 104         103   2018   20000   1998    David
#:> 105         104   2018   30000   2011     Eric
\end{verbatim}

\hypertarget{subsetting-columns}{%
\subsection{Subsetting Columns}\label{subsetting-columns}}

\textbf{Select Single Column} Return \textbf{Series}

\begin{verbatim}
dataframe.columnName               # single column, name based, return Series object
dataframe[ single_col_name ]       # single column, name based, return Series object
dataframe[ [single_col_name] ]     # single column, name based, return DataFrame object
\end{verbatim}

\textbf{Select Single/Multiple Columns} Return \textbf{DataFrame}

\begin{verbatim}
dataframe[ single/list_of_col_names ]                       # name based, return Dataframe object
dataframe.loc[ : , single_col_name  ]  # single column, series
dataframe.loc[ : , col_name_list    ]  # multiple columns, dataframe
dataframe.loc[ : , col_name_ranage  ]  # multiple columns, dataframe

dataframe.iloc[ : , col_number      ]  # single column, series
dataframe.iloc[ : , col_number_list ]  # multiple columns, dataframe
dataframe.iloc[ : , number_range    ]  # multiple columns, dataframe
\end{verbatim}

\hypertarget{select-single-column}{%
\subsubsection{Select Single Column}\label{select-single-column}}

Selecting single column always return as \textbf{\texttt{panda::Series}}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{( }
\NormalTok{  df.name,           }\StringTok{'}\CharTok{\textbackslash{}n\textbackslash{}n}\StringTok{'}\NormalTok{,}
\NormalTok{  df[}\StringTok{'name'}\NormalTok{],        }\StringTok{'}\CharTok{\textbackslash{}n\textbackslash{}n}\StringTok{'}\NormalTok{,}
\NormalTok{  df.loc[:, }\StringTok{'name'}\NormalTok{], }\StringTok{'}\CharTok{\textbackslash{}n\textbackslash{}n}\StringTok{'}\NormalTok{,}
\NormalTok{  df.iloc[:, }\DecValTok{3}\NormalTok{])}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 101      Alice
#:> 102        Bob
#:> 103    Charles
#:> 104      David
#:> 105       Eric
#:> Name: name, dtype: object 
#:> 
#:>  101      Alice
#:> 102        Bob
#:> 103    Charles
#:> 104      David
#:> 105       Eric
#:> Name: name, dtype: object 
#:> 
#:>  101      Alice
#:> 102        Bob
#:> 103    Charles
#:> 104      David
#:> 105       Eric
#:> Name: name, dtype: object 
#:> 
#:>  101    2001
#:> 102    1907
#:> 103    2003
#:> 104    1998
#:> 105    2011
#:> Name: year2, dtype: int64
\end{verbatim}

\hypertarget{select-multiple-columns}{%
\subsubsection{Select Multiple Columns}\label{select-multiple-columns}}

Multiple columns return as \textbf{panda::Dataframe} object`

Example below returns DataFrame with Single Column

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df[[}\StringTok{'name'}\NormalTok{]]  }\CommentTok{# return one column dataframe}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>         name
#:> 101    Alice
#:> 102      Bob
#:> 103  Charles
#:> 104    David
#:> 105     Eric
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{(}
\NormalTok{  df[[}\StringTok{'name'}\NormalTok{,}\StringTok{'year1'}\NormalTok{]]       ,}\StringTok{'}\CharTok{\textbackslash{}n\textbackslash{}n}\StringTok{'}\NormalTok{,}
\NormalTok{  df.loc[:,[}\StringTok{'name'}\NormalTok{,}\StringTok{'year1'}\NormalTok{]])}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>         name  year1
#:> 101    Alice   2017
#:> 102      Bob   2017
#:> 103  Charles   2017
#:> 104    David   2018
#:> 105     Eric   2018 
#:> 
#:>          name  year1
#:> 101    Alice   2017
#:> 102      Bob   2017
#:> 103  Charles   2017
#:> 104    David   2018
#:> 105     Eric   2018
\end{verbatim}

\textbf{Select Range of Columns}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{(}
\NormalTok{  df.loc [ : , }\StringTok{'year1'}\NormalTok{:}\StringTok{'year2'}\NormalTok{], }\StringTok{'}\CharTok{\textbackslash{}n\textbackslash{}n}\StringTok{'}\NormalTok{,}
\NormalTok{  df.iloc[ : , [}\DecValTok{0}\NormalTok{,}\DecValTok{3}\NormalTok{]]           ,}\StringTok{'}\CharTok{\textbackslash{}n\textbackslash{}n}\StringTok{'}\NormalTok{,}
\NormalTok{  df.iloc[ : , }\DecValTok{0}\NormalTok{:}\DecValTok{3}\NormalTok{]}
\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>      year1  salary  year2
#:> 101   2017   40000   2001
#:> 102   2017   24000   1907
#:> 103   2017   31000   2003
#:> 104   2018   20000   1998
#:> 105   2018   30000   2011 
#:> 
#:>       empID  year2
#:> 101    100   2001
#:> 102    101   1907
#:> 103    102   2003
#:> 104    103   1998
#:> 105    104   2011 
#:> 
#:>       empID  year1  salary
#:> 101    100   2017   40000
#:> 102    101   2017   24000
#:> 103    102   2017   31000
#:> 104    103   2018   20000
#:> 105    104   2018   30000
\end{verbatim}

\hypertarget{by-column-name-.filter}{%
\subsubsection{By Column Name (.filter)}\label{by-column-name-.filter}}

\texttt{.filter(items=None,\ like=None,\ regex=None,\ axis=1)}

\textbf{like = Substring Matches}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df.}\BuiltInTok{filter}\NormalTok{( like}\OperatorTok{=}\StringTok{'year'}\NormalTok{,  axis}\OperatorTok{=}\StringTok{'columns'}\NormalTok{)  }\CommentTok{## or axis = 1}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>      year1  year2
#:> 101   2017   2001
#:> 102   2017   1907
#:> 103   2017   2003
#:> 104   2018   1998
#:> 105   2018   2011
\end{verbatim}

\textbf{items = list of column names}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df.}\BuiltInTok{filter}\NormalTok{( items}\OperatorTok{=}\NormalTok{(}\StringTok{'year1'}\NormalTok{,}\StringTok{'year2'}\NormalTok{),  axis}\OperatorTok{=}\DecValTok{1}\NormalTok{)  }\CommentTok{## or axis = 1}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>      year1  year2
#:> 101   2017   2001
#:> 102   2017   1907
#:> 103   2017   2003
#:> 104   2018   1998
#:> 105   2018   2011
\end{verbatim}

\textbf{regex = Regular Expression}\\
Select column names that contain integer

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df.}\BuiltInTok{filter}\NormalTok{(regex}\OperatorTok{=}\StringTok{'\textbackslash{}d'}\NormalTok{)  }\CommentTok{## default axis=1 if DataFrame}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>      year1  year2
#:> 101   2017   2001
#:> 102   2017   1907
#:> 103   2017   2003
#:> 104   2018   1998
#:> 105   2018   2011
\end{verbatim}

\hypertarget{data-type-.select_dtypes}{%
\subsubsection{Data Type (.select\_dtypes)}\label{data-type-.select_dtypes}}

\begin{verbatim}
df.select_dtypes(include=None, exclude=None)
\end{verbatim}

Always return \textbf{panda::DataFrame}, even though only single column matches.\\
Allowed types are: - number (integer and float)\\
- integer / float - datetime\\
- timedelta\\
- category

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{# error: no attribute get_dtype_counts}
\NormalTok{df.get_dtype_counts()}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df.select_dtypes(exclude}\OperatorTok{=}\StringTok{'number'}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>         name
#:> 101    Alice
#:> 102      Bob
#:> 103  Charles
#:> 104    David
#:> 105     Eric
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df.select_dtypes(exclude}\OperatorTok{=}\NormalTok{(}\StringTok{'number'}\NormalTok{,}\StringTok{'object'}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> Empty DataFrame
#:> Columns: []
#:> Index: [101, 102, 103, 104, 105]
\end{verbatim}

\hypertarget{column-manipulation-1}{%
\subsection{Column Manipulation}\label{column-manipulation-1}}

\hypertarget{sample-data-7}{%
\subsubsection{Sample Data}\label{sample-data-7}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>      empID  year1  salary  year2     name
#:> 101    100   2017   40000   2001    Alice
#:> 102    101   2017   24000   1907      Bob
#:> 103    102   2017   31000   2003  Charles
#:> 104    103   2018   20000   1998    David
#:> 105    104   2018   30000   2011     Eric
\end{verbatim}

\hypertarget{renaming-columns}{%
\subsubsection{Renaming Columns}\label{renaming-columns}}

\textbf{Method 1 : Rename All Columns (.columns =)}\\
- Construct the new column names, \textbf{check if there is no missing} column names\\
- \textbf{Missing columns} will return \textbf{error}\\
- Direct Assignment to column property result in change to dataframe

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{new_columns }\OperatorTok{=}\NormalTok{ [}\StringTok{'year.1'}\NormalTok{,}\StringTok{'salary'}\NormalTok{,}\StringTok{'year.2'}\NormalTok{,}\StringTok{'empID'}\NormalTok{,}\StringTok{'name'}\NormalTok{]}
\NormalTok{df.columns }\OperatorTok{=}\NormalTok{ new_columns}
\NormalTok{df.head(}\DecValTok{2}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>      year.1  salary  year.2  empID   name
#:> 101     100    2017   40000   2001  Alice
#:> 102     101    2017   24000   1907    Bob
\end{verbatim}

\textbf{Method 2 : Renaming Specific Column (.rename (columns=) )} - Change column name through \textbf{rename} function\\
- Support \textbf{inpalce} option for original dataframe change\\
- Missing column is OK

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df.rename( columns}\OperatorTok{=}\NormalTok{\{}\StringTok{'year.1'}\NormalTok{:}\StringTok{'year1'}\NormalTok{, }\StringTok{'year.2'}\NormalTok{:}\StringTok{'year2'}\NormalTok{\}, inplace}\OperatorTok{=}\VariableTok{True}\NormalTok{)}
\NormalTok{df.head(}\DecValTok{2}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>      year1  salary  year2  empID   name
#:> 101    100    2017  40000   2001  Alice
#:> 102    101    2017  24000   1907    Bob
\end{verbatim}

\hypertarget{reordering-columns}{%
\subsubsection{Reordering Columns}\label{reordering-columns}}

Always return a new dataframe. There is \textbf{no inplace option} for reordering columns

\textbf{Method 1 - reindex(columns = )}\\
- \textbf{reindex} may sounds like operation on row labels, but it works\\
- \textbf{Missmatch} column names will result in \textbf{NA} for the unfound column

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{new_colorder }\OperatorTok{=}\NormalTok{ [ }\StringTok{'empID'}\NormalTok{, }\StringTok{'name'}\NormalTok{, }\StringTok{'salary'}\NormalTok{, }\StringTok{'year1'}\NormalTok{, }\StringTok{'year2'}\NormalTok{]}
\NormalTok{df.reindex(columns }\OperatorTok{=}\NormalTok{ new_colorder).head(}\DecValTok{2}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>      empID   name  salary  year1  year2
#:> 101   2001  Alice    2017    100  40000
#:> 102   1907    Bob    2017    101  24000
\end{verbatim}

\textbf{Method 2 - {[} {]} notation}\\
- \textbf{Missmatch} column will result in \textbf{ERROR}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{new_colorder }\OperatorTok{=}\NormalTok{ [ }\StringTok{'empID'}\NormalTok{, }\StringTok{'name'}\NormalTok{, }\StringTok{'salary'}\NormalTok{, }\StringTok{'year1'}\NormalTok{, }\StringTok{'year2'}\NormalTok{]}
\NormalTok{df[new_colorder]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>      empID     name  salary  year1  year2
#:> 101   2001    Alice    2017    100  40000
#:> 102   1907      Bob    2017    101  24000
#:> 103   2003  Charles    2017    102  31000
#:> 104   1998    David    2018    103  20000
#:> 105   2011     Eric    2018    104  30000
\end{verbatim}

\hypertarget{duplicating-or-replacing-column}{%
\subsubsection{Duplicating or Replacing Column}\label{duplicating-or-replacing-column}}

\begin{itemize}
\tightlist
\item
  \textbf{New Column} will be created instantly using \textbf{{[}{]} notation}\\
\item
  \textbf{DO NOT USE dot Notation} because it is view only attribute
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df[}\StringTok{'year3'}\NormalTok{] }\OperatorTok{=}\NormalTok{ df.year1}
\NormalTok{df}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>      year1  salary  year2  empID     name  year3
#:> 101    100    2017  40000   2001    Alice    100
#:> 102    101    2017  24000   1907      Bob    101
#:> 103    102    2017  31000   2003  Charles    102
#:> 104    103    2018  20000   1998    David    103
#:> 105    104    2018  30000   2011     Eric    104
\end{verbatim}

\hypertarget{dropping-columns-.drop}{%
\subsubsection{Dropping Columns (.drop)}\label{dropping-columns-.drop}}

\begin{verbatim}
dataframe.drop( columns='column_name',    inplace=True/False)   # delete single column
dataframe.drop( columns=list_of_colnames, inplace=True/False)   # delete multiple column

dataframe.drop( index='row_label',         inplace=True/False)   # delete single row
dataframe.drop( index= list_of_row_labels, inplace=True/False)   # delete multiple rows
\end{verbatim}

\textbf{inplace=True} means column will be deleted from original dataframe. \textbf{Default is False}, which return a copy of dataframe

\textbf{By Column Name(s)}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df.drop( columns}\OperatorTok{=}\StringTok{'year1'}\NormalTok{) }\CommentTok{# drop single column}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>      salary  year2  empID     name  year3
#:> 101    2017  40000   2001    Alice    100
#:> 102    2017  24000   1907      Bob    101
#:> 103    2017  31000   2003  Charles    102
#:> 104    2018  20000   1998    David    103
#:> 105    2018  30000   2011     Eric    104
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df.drop(columns}\OperatorTok{=}\NormalTok{[}\StringTok{'year2'}\NormalTok{,}\StringTok{'year3'}\NormalTok{])  }\CommentTok{# drop multiple columns}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>      year1  salary  empID     name
#:> 101    100    2017   2001    Alice
#:> 102    101    2017   1907      Bob
#:> 103    102    2017   2003  Charles
#:> 104    103    2018   1998    David
#:> 105    104    2018   2011     Eric
\end{verbatim}

\textbf{By Column Number(s)}\\
Use dataframe.columns to produce interim list of column names

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df.drop( columns}\OperatorTok{=}\NormalTok{df.columns[[}\DecValTok{3}\NormalTok{,}\DecValTok{4}\NormalTok{,}\DecValTok{5}\NormalTok{]] )   }\CommentTok{# delete columns by list of column number}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>      year1  salary  year2
#:> 101    100    2017  40000
#:> 102    101    2017  24000
#:> 103    102    2017  31000
#:> 104    103    2018  20000
#:> 105    104    2018  30000
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df.drop( columns}\OperatorTok{=}\NormalTok{df.columns[}\DecValTok{3}\NormalTok{:}\DecValTok{6}\NormalTok{] )       }\CommentTok{# delete columns by range of column number}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>      year1  salary  year2
#:> 101    100    2017  40000
#:> 102    101    2017  24000
#:> 103    102    2017  31000
#:> 104    103    2018  20000
#:> 105    104    2018  30000
\end{verbatim}

\hypertarget{subsetting-rows}{%
\subsection{Subsetting Rows}\label{subsetting-rows}}

\begin{verbatim}
dataframe.loc[ row_label       ]  # return series, single row
dataframe.loc[ row_label_list  ]  # multiple rows
dataframe.loc[ boolean_list    ]  # multiple rows

dataframe.iloc[ row_number       ]  # return series, single row
dataframe.iloc[ row_number_list  ]  # multiple rows
dataframe.iloc[ number_range     ]  # multiple rows

dataframe.sample(frac=)                                        # frac = 0.6 means sampling 60% of rows randomly
\end{verbatim}

\hypertarget{sample-data-8}{%
\subsubsection{Sample Data}\label{sample-data-8}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df }\OperatorTok{=}\NormalTok{ pd.DataFrame(}
\NormalTok{    \{ }\StringTok{'empID'}\NormalTok{:  [}\DecValTok{100}\NormalTok{,      }\DecValTok{101}\NormalTok{,    }\DecValTok{102}\NormalTok{,      }\DecValTok{103}\NormalTok{,     }\DecValTok{104}\NormalTok{],}
      \StringTok{'year1'}\NormalTok{:   [}\DecValTok{2017}\NormalTok{,     }\DecValTok{2017}\NormalTok{,   }\DecValTok{2017}\NormalTok{,      }\DecValTok{2018}\NormalTok{,    }\DecValTok{2018}\NormalTok{],}
      \StringTok{'name'}\NormalTok{:   [}\StringTok{'Alice'}\NormalTok{,  }\StringTok{'Bob'}\NormalTok{,  }\StringTok{'Charles'}\NormalTok{,}\StringTok{'David'}\NormalTok{, }\StringTok{'Eric'}\NormalTok{],}
      \StringTok{'year2'}\NormalTok{:   [}\DecValTok{2001}\NormalTok{,     }\DecValTok{1907}\NormalTok{,   }\DecValTok{2003}\NormalTok{,      }\DecValTok{1998}\NormalTok{,    }\DecValTok{2011}\NormalTok{],}
      \StringTok{'salary'}\NormalTok{: [}\DecValTok{40000}\NormalTok{,    }\DecValTok{24000}\NormalTok{,  }\DecValTok{31000}\NormalTok{,     }\DecValTok{20000}\NormalTok{,   }\DecValTok{30000}\NormalTok{]\},}
\NormalTok{    columns }\OperatorTok{=}\NormalTok{ [}\StringTok{'year1'}\NormalTok{,}\StringTok{'salary'}\NormalTok{,}\StringTok{'year2'}\NormalTok{,}\StringTok{'empID'}\NormalTok{,}\StringTok{'name'}\NormalTok{]).set_index([}\StringTok{'empID'}\NormalTok{])}
\NormalTok{df}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>        year1  salary  year2     name
#:> empID                               
#:> 100     2017   40000   2001    Alice
#:> 101     2017   24000   1907      Bob
#:> 102     2017   31000   2003  Charles
#:> 103     2018   20000   1998    David
#:> 104     2018   30000   2011     Eric
\end{verbatim}

\hypertarget{by-index-or-boolean}{%
\subsubsection{By Index or Boolean}\label{by-index-or-boolean}}

\textbf{Single Index} return Series

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df.loc[}\DecValTok{101}\NormalTok{]         }\CommentTok{# by single row label, return series}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> year1      2017
#:> salary    24000
#:> year2      1907
#:> name        Bob
#:> Name: 101, dtype: object
\end{verbatim}

\textbf{List or Range of Indexes} returns DataFrame

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df.loc[ [}\DecValTok{100}\NormalTok{,}\DecValTok{103}\NormalTok{] ]  }\CommentTok{# by multiple row labels}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>        year1  salary  year2   name
#:> empID                             
#:> 100     2017   40000   2001  Alice
#:> 103     2018   20000   1998  David
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df.loc[  }\DecValTok{100}\NormalTok{:}\DecValTok{103}\NormalTok{  ]  }\CommentTok{# by range of row labels}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>        year1  salary  year2     name
#:> empID                               
#:> 100     2017   40000   2001    Alice
#:> 101     2017   24000   1907      Bob
#:> 102     2017   31000   2003  Charles
#:> 103     2018   20000   1998    David
\end{verbatim}

\textbf{List of Boolean} returns DataFrame

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{criteria }\OperatorTok{=}\NormalTok{ (df.salary }\OperatorTok{>} \DecValTok{30000}\NormalTok{) }\OperatorTok{&}\NormalTok{ (df.year1}\OperatorTok{==}\DecValTok{2017}\NormalTok{)}
\BuiltInTok{print}\NormalTok{ (criteria)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> empID
#:> 100     True
#:> 101    False
#:> 102     True
#:> 103    False
#:> 104    False
#:> dtype: bool
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{ (df.loc[criteria])}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>        year1  salary  year2     name
#:> empID                               
#:> 100     2017   40000   2001    Alice
#:> 102     2017   31000   2003  Charles
\end{verbatim}

\hypertarget{by-row-number}{%
\subsubsection{By Row Number}\label{by-row-number}}

\textbf{Single Row} return Series

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df.iloc[}\DecValTok{1}\NormalTok{]  }\CommentTok{# by single row number}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> year1      2017
#:> salary    24000
#:> year2      1907
#:> name        Bob
#:> Name: 101, dtype: object
\end{verbatim}

Multiple rows \textbf{returned as dataframe} object

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df.iloc[ [}\DecValTok{0}\NormalTok{,}\DecValTok{3}\NormalTok{] ]    }\CommentTok{# by row numbers}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>        year1  salary  year2   name
#:> empID                             
#:> 100     2017   40000   2001  Alice
#:> 103     2018   20000   1998  David
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df.iloc[  }\DecValTok{0}\NormalTok{:}\DecValTok{3}\NormalTok{  ]    }\CommentTok{# by row number range}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>        year1  salary  year2     name
#:> empID                               
#:> 100     2017   40000   2001    Alice
#:> 101     2017   24000   1907      Bob
#:> 102     2017   31000   2003  Charles
\end{verbatim}

\hypertarget{by-expression-.query}{%
\subsubsection{By Expression (.query)}\label{by-expression-.query}}

\texttt{.query(expr,\ inplace=False)}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df.query(}\StringTok{'salary<=31000 and year1 == 2017'}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>        year1  salary  year2     name
#:> empID                               
#:> 101     2017   24000   1907      Bob
#:> 102     2017   31000   2003  Charles
\end{verbatim}

\hypertarget{by-random-.sample}{%
\subsubsection{By Random (.sample)}\label{by-random-.sample}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{np.random.seed(}\DecValTok{15}\NormalTok{)}
\NormalTok{df.sample(frac}\OperatorTok{=}\FloatTok{0.6}\NormalTok{) }\CommentTok{#randomly pick 60% of rows, without replacement}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>        year1  salary  year2     name
#:> empID                               
#:> 102     2017   31000   2003  Charles
#:> 103     2018   20000   1998    David
#:> 104     2018   30000   2011     Eric
\end{verbatim}

\hypertarget{row-manipulation}{%
\subsection{Row Manipulation}\label{row-manipulation}}

\hypertarget{sample-data-9}{%
\subsubsection{Sample Data}\label{sample-data-9}}

\hypertarget{appending-rows}{%
\subsubsection{Appending Rows}\label{appending-rows}}

Appending rows is more computaional intensive then concatenate. Item can be added as single item or multi-items (list form)

\textbf{Append From Another DataFrame}

\begin{itemize}
\tightlist
\item
  When \texttt{ignore\_index=True}, pandas will \textbf{drop the original Index} and recreate with 0,1,2,3\ldots{}\\
\item
  It is recommended to ignore index IF the data source index is \textbf{not unique}.\\
\item
  New columns will be added in the result, with NaN on original dataframe.
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{my_df }\OperatorTok{=}\NormalTok{ pd.DataFrame(}
\NormalTok{          data}\OperatorTok{=}\NormalTok{ \{}\StringTok{'Id'}\NormalTok{:   [}\DecValTok{10}\NormalTok{,}\DecValTok{20}\NormalTok{,}\DecValTok{30}\NormalTok{],}
                 \StringTok{'Name'}\NormalTok{: [}\StringTok{'Aaa'}\NormalTok{,}\StringTok{'Bbb'}\NormalTok{,}\StringTok{'Ccc'}\NormalTok{]\})}
\CommentTok{#                 .set_index('Id')}
                 
\NormalTok{my_df_new }\OperatorTok{=}\NormalTok{ pd.DataFrame(}
\NormalTok{            data}\OperatorTok{=}\NormalTok{ \{}\StringTok{'Id'}\NormalTok{:   [}\DecValTok{40}\NormalTok{,}\DecValTok{50}\NormalTok{],}
                   \StringTok{'Name'}\NormalTok{: [}\StringTok{'Ddd'}\NormalTok{,}\StringTok{'Eee'}\NormalTok{],}
                   \StringTok{'Age'}\NormalTok{:  [}\DecValTok{12}\NormalTok{,}\DecValTok{13}\NormalTok{]\})  }
                   \CommentTok{#.set_index('Id')}
                   
\NormalTok{my_df_append  }\OperatorTok{=}\NormalTok{ my_df.append(my_df_new, ignore_index}\OperatorTok{=}\VariableTok{False}\NormalTok{)}
\NormalTok{my_df_noindex }\OperatorTok{=}\NormalTok{ my_df.append(my_df_new, ignore_index}\OperatorTok{=}\VariableTok{True}\NormalTok{)}

\BuiltInTok{print}\NormalTok{(}\StringTok{"Original DataFrame:}\CharTok{\textbackslash{}n}\StringTok{"}\NormalTok{, my_df,}
      \StringTok{"}\CharTok{\textbackslash{}n\textbackslash{}n}\StringTok{To Be Appended DataFrame:}\CharTok{\textbackslash{}n}\StringTok{"}\NormalTok{, my_df_new,}
      \StringTok{"}\CharTok{\textbackslash{}n\textbackslash{}n}\StringTok{Appended DataFrame (index maintained):}\CharTok{\textbackslash{}n}\StringTok{"}\NormalTok{, my_df_append,}
      \StringTok{"}\CharTok{\textbackslash{}n\textbackslash{}n}\StringTok{Appended DataFrame (index ignored):}\CharTok{\textbackslash{}n}\StringTok{"}\NormalTok{, my_df_noindex)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> Original DataFrame:
#:>     Id Name
#:> 0  10  Aaa
#:> 1  20  Bbb
#:> 2  30  Ccc 
#:> 
#:> To Be Appended DataFrame:
#:>     Id Name  Age
#:> 0  40  Ddd   12
#:> 1  50  Eee   13 
#:> 
#:> Appended DataFrame (index maintained):
#:>     Id Name   Age
#:> 0  10  Aaa   NaN
#:> 1  20  Bbb   NaN
#:> 2  30  Ccc   NaN
#:> 0  40  Ddd  12.0
#:> 1  50  Eee  13.0 
#:> 
#:> Appended DataFrame (index ignored):
#:>     Id Name   Age
#:> 0  10  Aaa   NaN
#:> 1  20  Bbb   NaN
#:> 2  30  Ccc   NaN
#:> 3  40  Ddd  12.0
#:> 4  50  Eee  13.0
\end{verbatim}

\textbf{Append From Dictionary}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{my_df }\OperatorTok{=}\NormalTok{ pd.DataFrame(}
\NormalTok{          data}\OperatorTok{=}\NormalTok{ \{}\StringTok{'Id'}\NormalTok{:   [}\DecValTok{10}\NormalTok{,}\DecValTok{20}\NormalTok{,}\DecValTok{30}\NormalTok{],}
                 \StringTok{'Name'}\NormalTok{: [}\StringTok{'Aaa'}\NormalTok{,}\StringTok{'Bbb'}\NormalTok{,}\StringTok{'Ccc'}\NormalTok{]\})  }\OperatorTok{\textbackslash{}}
\NormalTok{                 .set_index(}\StringTok{'Id'}\NormalTok{)}

\NormalTok{new_item1 }\OperatorTok{=}\NormalTok{ \{}\StringTok{'Id'}\NormalTok{:}\DecValTok{40}\NormalTok{, }\StringTok{'Name'}\NormalTok{: }\StringTok{'Ddd'}\NormalTok{\}}
\NormalTok{new_item2 }\OperatorTok{=}\NormalTok{ \{}\StringTok{'Id'}\NormalTok{:}\DecValTok{50}\NormalTok{, }\StringTok{'Name'}\NormalTok{: }\StringTok{'Eee'}\NormalTok{\}}
\NormalTok{new_item3 }\OperatorTok{=}\NormalTok{ \{}\StringTok{'Id'}\NormalTok{:}\DecValTok{60}\NormalTok{, }\StringTok{'Name'}\NormalTok{: }\StringTok{'Fff'}\NormalTok{\}}

\NormalTok{my_df_one   }\OperatorTok{=}\NormalTok{ my_df.append( new_item1, ignore_index}\OperatorTok{=}\VariableTok{True}\NormalTok{ )}
\NormalTok{my_df_multi }\OperatorTok{=}\NormalTok{ my_df.append( [new_item2, new_item3], ignore_index}\OperatorTok{=}\VariableTok{True}\NormalTok{ )}

\BuiltInTok{print}\NormalTok{(}\StringTok{"Original DataFrame:}\CharTok{\textbackslash{}n}\StringTok{"}\NormalTok{, my_df,}
      \StringTok{"}\CharTok{\textbackslash{}n\textbackslash{}n}\StringTok{Add One Item (index ignored):}\CharTok{\textbackslash{}n}\StringTok{"}\NormalTok{, my_df_one,}
      \StringTok{"}\CharTok{\textbackslash{}n\textbackslash{}n}\StringTok{Add Multi Item (index ignored):}\CharTok{\textbackslash{}n}\StringTok{"}\NormalTok{, my_df_multi)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> Original DataFrame:
#:>     Name
#:> Id     
#:> 10  Aaa
#:> 20  Bbb
#:> 30  Ccc 
#:> 
#:> Add One Item (index ignored):
#:>    Name    Id
#:> 0  Aaa   NaN
#:> 1  Bbb   NaN
#:> 2  Ccc   NaN
#:> 3  Ddd  40.0 
#:> 
#:> Add Multi Item (index ignored):
#:>    Name    Id
#:> 0  Aaa   NaN
#:> 1  Bbb   NaN
#:> 2  Ccc   NaN
#:> 3  Eee  50.0
#:> 4  Fff  60.0
\end{verbatim}

\textbf{Appending \texttt{None} items(s)}

Adding \textbf{single None} item has \textbf{no effect} (nothing added).\\
Adding \textbf{None in list form (multiple items)} creates rows with None.\\
\texttt{ignore\_index} is not important here.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{single_none }\OperatorTok{=}\NormalTok{ my_df.append( }\VariableTok{None}\NormalTok{  )}
\NormalTok{multi_none  }\OperatorTok{=}\NormalTok{ my_df.append( [}\VariableTok{None}\NormalTok{])}

\BuiltInTok{print}\NormalTok{(}\StringTok{"Original DataFrame:}\CharTok{\textbackslash{}n}\StringTok{"}\NormalTok{, my_df,}
      \StringTok{"}\CharTok{\textbackslash{}n\textbackslash{}n}\StringTok{Add One None (index ignored):}\CharTok{\textbackslash{}n}\StringTok{"}\NormalTok{, single_none,}
      \StringTok{"}\CharTok{\textbackslash{}n\textbackslash{}n}\StringTok{Add List of None (index ignored):}\CharTok{\textbackslash{}n}\StringTok{"}\NormalTok{, multi_none)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> Original DataFrame:
#:>     Name
#:> Id     
#:> 10  Aaa
#:> 20  Bbb
#:> 30  Ccc 
#:> 
#:> Add One None (index ignored):
#:>     Name
#:> Id     
#:> 10  Aaa
#:> 20  Bbb
#:> 30  Ccc 
#:> 
#:> Add List of None (index ignored):
#:>     Name     0
#:> 10  Aaa   NaN
#:> 20  Bbb   NaN
#:> 30  Ccc   NaN
#:> 0   NaN  None
\end{verbatim}

\textbf{Appending Items Containing None} results in \textbf{ERROR}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{# error}
\NormalTok{my_df.append( [new_item1, }\VariableTok{None}\NormalTok{] )}
\end{Highlighting}
\end{Shaded}

\hypertarget{concatenate-rows}{%
\subsubsection{Concatenate Rows}\label{concatenate-rows}}

\hypertarget{dropping-rows-.drop}{%
\subsubsection{Dropping Rows (.drop)}\label{dropping-rows-.drop}}

\texttt{.drop(labels=None,\ axis=0,\ index=None,\ columns=None,\ level=None,\ inplace=False,\ errors=\textquotesingle{}raise\textquotesingle{})}

\textbf{By Row Label(s)}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df.drop(index}\OperatorTok{=}\DecValTok{100}\NormalTok{)       }\CommentTok{# single row}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>        year1  salary  year2     name
#:> empID                               
#:> 101     2017   24000   1907      Bob
#:> 102     2017   31000   2003  Charles
#:> 103     2018   20000   1998    David
#:> 104     2018   30000   2011     Eric
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df.drop(index}\OperatorTok{=}\NormalTok{[}\DecValTok{100}\NormalTok{,}\DecValTok{103}\NormalTok{])   }\CommentTok{# multiple rows}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>        year1  salary  year2     name
#:> empID                               
#:> 101     2017   24000   1907      Bob
#:> 102     2017   31000   2003  Charles
#:> 104     2018   30000   2011     Eric
\end{verbatim}

\hypertarget{slicing}{%
\subsection{Slicing}\label{slicing}}

\hypertarget{sample-data-10}{%
\subsubsection{Sample Data}\label{sample-data-10}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>        year1  salary  year2     name
#:> empID                               
#:> 100     2017   40000   2001    Alice
#:> 101     2017   24000   1907      Bob
#:> 102     2017   31000   2003  Charles
#:> 103     2018   20000   1998    David
#:> 104     2018   30000   2011     Eric
\end{verbatim}

\hypertarget{getting-one-cell}{%
\subsubsection{Getting One Cell}\label{getting-one-cell}}

\textbf{By Row Label and Column Name (loc)}

\begin{verbatim}
dataframe.loc [ row_label , col_name   ]    # by row label and column names
dataframe.loc [ bool_list , col_name   ]    # by row label and column names
dataframe.iloc[ row_number, col_number ]    # by row and column number
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{ (df.loc[}\DecValTok{100}\NormalTok{,}\StringTok{'year1'}\NormalTok{])}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 2017
\end{verbatim}

\textbf{By Row Number and Column Number (iloc)}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{ (df.iloc[}\DecValTok{1}\NormalTok{,}\DecValTok{2}\NormalTok{])}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 1907
\end{verbatim}

\hypertarget{getting-multiple-cells}{%
\subsubsection{Getting Multiple Cells}\label{getting-multiple-cells}}

Specify rows and columns (by individual or range)

\begin{verbatim}
dataframe.loc [ list/range_of_row_labels , list/range_col_names   ]    # by row label and column names
dataframe.iloc[ list/range_row_numbers,    list/range_col_numbers ]    # by row number
\end{verbatim}

\textbf{By Index and Column Name (loc)}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{ (df.loc[ [}\DecValTok{101}\NormalTok{,}\DecValTok{103}\NormalTok{], [}\StringTok{'name'}\NormalTok{,}\StringTok{'year1'}\NormalTok{] ], }\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{)  }\CommentTok{# by list of row label and column names}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>         name  year1
#:> empID              
#:> 101      Bob   2017
#:> 103    David   2018
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{ (df.loc[  }\DecValTok{101}\NormalTok{:}\DecValTok{104}\NormalTok{ ,  }\StringTok{'year1'}\NormalTok{:}\StringTok{'year2'}\NormalTok{  ], }\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{)  }\CommentTok{# by range of row label and column names}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>        year1  salary  year2
#:> empID                      
#:> 101     2017   24000   1907
#:> 102     2017   31000   2003
#:> 103     2018   20000   1998
#:> 104     2018   30000   2011
\end{verbatim}

\textbf{By Boolean Row and Column Names (loc)}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df.loc[df.year1}\OperatorTok{==}\DecValTok{2017}\NormalTok{, }\StringTok{'year1'}\NormalTok{:}\StringTok{'year2'}\NormalTok{]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>        year1  salary  year2
#:> empID                      
#:> 100     2017   40000   2001
#:> 101     2017   24000   1907
#:> 102     2017   31000   2003
\end{verbatim}

\textbf{By Row and Column Number (iloc)}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{ (df.iloc[ [}\DecValTok{1}\NormalTok{,}\DecValTok{4}\NormalTok{], [}\DecValTok{0}\NormalTok{,}\DecValTok{3}\NormalTok{]],}\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{ )   }\CommentTok{# by individual rows/columns}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>        year1  name
#:> empID             
#:> 101     2017   Bob
#:> 104     2018  Eric
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{ (df.iloc[  }\DecValTok{1}\NormalTok{:}\DecValTok{4}\NormalTok{ ,  }\DecValTok{0}\NormalTok{:}\DecValTok{3}\NormalTok{], }\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{)    }\CommentTok{# by range}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>        year1  salary  year2
#:> empID                      
#:> 101     2017   24000   1907
#:> 102     2017   31000   2003
#:> 103     2018   20000   1998
\end{verbatim}

\hypertarget{chained-indexing}{%
\subsection{Chained Indexing}\label{chained-indexing}}

\textbf{Chained Index} Method creates a copy of dataframe, any modification of data on original dataframe does not affect the copy

\begin{verbatim}
dataframe.loc  [...]  [...]
dataframe.iloc [...]  [...]
\end{verbatim}

Suggesting, \textbf{never use} chain indexing

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df }\OperatorTok{=}\NormalTok{ pd.DataFrame(}
\NormalTok{    \{ }\StringTok{'empID'}\NormalTok{:  [}\DecValTok{100}\NormalTok{,      }\DecValTok{101}\NormalTok{,    }\DecValTok{102}\NormalTok{,      }\DecValTok{103}\NormalTok{,     }\DecValTok{104}\NormalTok{],}
      \StringTok{'year1'}\NormalTok{:   [}\DecValTok{2017}\NormalTok{,     }\DecValTok{2017}\NormalTok{,   }\DecValTok{2017}\NormalTok{,      }\DecValTok{2018}\NormalTok{,    }\DecValTok{2018}\NormalTok{],}
      \StringTok{'name'}\NormalTok{:   [}\StringTok{'Alice'}\NormalTok{,  }\StringTok{'Bob'}\NormalTok{,  }\StringTok{'Charles'}\NormalTok{,}\StringTok{'David'}\NormalTok{, }\StringTok{'Eric'}\NormalTok{],}
      \StringTok{'year2'}\NormalTok{:   [}\DecValTok{2001}\NormalTok{,     }\DecValTok{1907}\NormalTok{,   }\DecValTok{2003}\NormalTok{,      }\DecValTok{1998}\NormalTok{,    }\DecValTok{2011}\NormalTok{],}
      \StringTok{'salary'}\NormalTok{: [}\DecValTok{40000}\NormalTok{,    }\DecValTok{24000}\NormalTok{,  }\DecValTok{31000}\NormalTok{,     }\DecValTok{20000}\NormalTok{,   }\DecValTok{30000}\NormalTok{]\},}
\NormalTok{    columns }\OperatorTok{=}\NormalTok{ [}\StringTok{'year1'}\NormalTok{,}\StringTok{'salary'}\NormalTok{,}\StringTok{'year2'}\NormalTok{,}\StringTok{'empID'}\NormalTok{,}\StringTok{'name'}\NormalTok{]).set_index([}\StringTok{'empID'}\NormalTok{])}
\NormalTok{df}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>        year1  salary  year2     name
#:> empID                               
#:> 100     2017   40000   2001    Alice
#:> 101     2017   24000   1907      Bob
#:> 102     2017   31000   2003  Charles
#:> 103     2018   20000   1998    David
#:> 104     2018   30000   2011     Eric
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df.loc[}\DecValTok{100}\NormalTok{][}\StringTok{'year'}\NormalTok{] }\OperatorTok{=}\DecValTok{2000}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> /home/msfz751/anaconda3/envs/python_book/bin/python:1: SettingWithCopyWarning: 
#:> A value is trying to be set on a copy of a slice from a DataFrame
#:> 
#:> See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
#:> /home/msfz751/.local/lib/python3.7/site-packages/pandas/core/indexing.py:670: SettingWithCopyWarning: 
#:> A value is trying to be set on a copy of a slice from a DataFrame
#:> 
#:> See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
#:>   iloc._setitem_with_indexer(indexer, value)
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df  }\CommentTok{## notice row label 100 had not been updated, because data was updated on a copy due to chain indexing}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>        year1  salary  year2     name
#:> empID                               
#:> 100     2017   40000   2001    Alice
#:> 101     2017   24000   1907      Bob
#:> 102     2017   31000   2003  Charles
#:> 103     2018   20000   1998    David
#:> 104     2018   30000   2011     Eric
\end{verbatim}

\hypertarget{cell-value-replacement}{%
\subsection{Cell Value Replacement}\label{cell-value-replacement}}

Slicing deals with square cells selection. Use \texttt{mask} or \texttt{where} to select specific cell(s). These function respect column and row names.

\hypertarget{mask}{%
\subsubsection{\texorpdfstring{\texttt{mask()}}{mask()}}\label{mask}}

\texttt{mask()} replace value with \texttt{other=} when condition is met. Column and row name is \textbf{respected}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{ori }\OperatorTok{=}\NormalTok{ pd.DataFrame(data}\OperatorTok{=}\NormalTok{\{}
     \StringTok{'x'}\NormalTok{: [}\DecValTok{1}\NormalTok{,}\DecValTok{4}\NormalTok{,}\DecValTok{7}\NormalTok{],}
     \StringTok{'y'}\NormalTok{: [}\DecValTok{2}\NormalTok{,}\DecValTok{5}\NormalTok{,}\DecValTok{8}\NormalTok{],}
     \StringTok{'z'}\NormalTok{: [}\DecValTok{3}\NormalTok{,}\DecValTok{6}\NormalTok{,}\DecValTok{9}\NormalTok{]\}, index}\OperatorTok{=}\NormalTok{[}
     \StringTok{'row1'}\NormalTok{,}\StringTok{'row2'}\NormalTok{,}\StringTok{'row3'}\NormalTok{])}

\NormalTok{df_big }\OperatorTok{=}\NormalTok{ (ori }\OperatorTok{>}\DecValTok{4}\NormalTok{)[[}\StringTok{'y'}\NormalTok{,}\StringTok{'x'}\NormalTok{,}\StringTok{'z'}\NormalTok{]]}
\NormalTok{resul1 }\OperatorTok{=}\NormalTok{ ori.mask(df_big, other}\OperatorTok{=}\DecValTok{999}\NormalTok{)}

\BuiltInTok{print}\NormalTok{(}\StringTok{'Original DF: }\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{, ori, }\StringTok{'}\CharTok{\textbackslash{}n\textbackslash{}n}\StringTok{'}\NormalTok{,}
      \StringTok{'Big DF : }\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{, df_big, }\StringTok{'}\CharTok{\textbackslash{}n\textbackslash{}n}\StringTok{'}\NormalTok{,}
      \StringTok{'Result : }\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{, resul1)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> Original DF: 
#:>        x  y  z
#:> row1  1  2  3
#:> row2  4  5  6
#:> row3  7  8  9 
#:> 
#:>  Big DF : 
#:>            y      x      z
#:> row1  False  False  False
#:> row2   True  False   True
#:> row3   True   True   True 
#:> 
#:>  Result : 
#:>          x    y    z
#:> row1    1    2    3
#:> row2    4  999  999
#:> row3  999  999  999
\end{verbatim}

\hypertarget{where-1}{%
\subsubsection{\texorpdfstring{\texttt{where()}}{where()}}\label{where-1}}

This is reverse of \texttt{mask()}, it will repalce value when the \textbf{condition is False}.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df.where(cond}\OperatorTok{=}\NormalTok{df_big)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>        year1  salary  year2 name
#:> empID                           
#:> 100      NaN     NaN    NaN  NaN
#:> 101      NaN     NaN    NaN  NaN
#:> 102      NaN     NaN    NaN  NaN
#:> 103      NaN     NaN    NaN  NaN
#:> 104      NaN     NaN    NaN  NaN
\end{verbatim}

\hypertarget{iteration}{%
\subsection{Iteration}\label{iteration}}

\hypertarget{loop-through-rows-.iterrows}{%
\subsubsection{Loop Through Rows (.iterrows)}\label{loop-through-rows-.iterrows}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df }\OperatorTok{=}\NormalTok{ pd.DataFrame(data}\OperatorTok{=}
\NormalTok{    \{ }\StringTok{'empID'}\NormalTok{:  [}\DecValTok{100}\NormalTok{,      }\DecValTok{101}\NormalTok{,    }\DecValTok{102}\NormalTok{,      }\DecValTok{103}\NormalTok{,     }\DecValTok{104}\NormalTok{],}
      \StringTok{'Name'}\NormalTok{:   [}\StringTok{'Alice'}\NormalTok{,  }\StringTok{'Bob'}\NormalTok{,  }\StringTok{'Charles'}\NormalTok{,}\StringTok{'David'}\NormalTok{, }\StringTok{'Eric'}\NormalTok{],}
      \StringTok{'Year'}\NormalTok{:   [}\DecValTok{1999}\NormalTok{,     }\DecValTok{1988}\NormalTok{,   }\DecValTok{2001}\NormalTok{,     }\DecValTok{2010}\NormalTok{,     }\DecValTok{2020}\NormalTok{]\}).set_index([}\StringTok{'empID'}\NormalTok{])}

\ControlFlowTok{for}\NormalTok{ idx, row }\KeywordTok{in}\NormalTok{ df.iterrows():}
  \BuiltInTok{print}\NormalTok{(idx, row.Name)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 100 Alice
#:> 101 Bob
#:> 102 Charles
#:> 103 David
#:> 104 Eric
\end{verbatim}

\hypertarget{loop-through-columns-.itemes}{%
\subsubsection{Loop Through Columns (.itemes)}\label{loop-through-columns-.itemes}}

\begin{Shaded}
\begin{Highlighting}[]
\ControlFlowTok{for}\NormalTok{ label, content }\KeywordTok{in}\NormalTok{ df.items():}
  \BuiltInTok{print}\NormalTok{(}\StringTok{'Label:'}\NormalTok{,            label,   }\StringTok{'}\CharTok{\textbackslash{}n\textbackslash{}n}\StringTok{'}\NormalTok{, }
        \StringTok{'Content (Series):}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{, content, }\StringTok{'}\CharTok{\textbackslash{}n\textbackslash{}n}\StringTok{'}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> Label: Name 
#:> 
#:>  Content (Series):
#:>  empID
#:> 100      Alice
#:> 101        Bob
#:> 102    Charles
#:> 103      David
#:> 104       Eric
#:> Name: Name, dtype: object 
#:> 
#:> 
#:> Label: Year 
#:> 
#:>  Content (Series):
#:>  empID
#:> 100    1999
#:> 101    1988
#:> 102    2001
#:> 103    2010
#:> 104    2020
#:> Name: Year, dtype: int64
\end{verbatim}

\hypertarget{data-structure}{%
\subsection{Data Structure}\label{data-structure}}

\hypertarget{instance-methods---structure}{%
\subsubsection{Instance Methods - Structure}\label{instance-methods---structure}}

Find out the column names, data type in a summary. Output is for display only, not a data object

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df.info()  }\CommentTok{# return text output}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> <class 'pandas.core.frame.DataFrame'>
#:> Int64Index: 5 entries, 100 to 104
#:> Data columns (total 2 columns):
#:>  #   Column  Non-Null Count  Dtype 
#:> ---  ------  --------------  ----- 
#:>  0   Name    5 non-null      object
#:>  1   Year    5 non-null      int64 
#:> dtypes: int64(1), object(1)
#:> memory usage: 120.0+ bytes
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df.get_dtype_counts() }\CommentTok{# return Series}
\end{Highlighting}
\end{Shaded}

\hypertarget{conversion-to-other-format}{%
\subsubsection{Conversion To Other Format}\label{conversion-to-other-format}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df.to_json()}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> '{"Name":{"100":"Alice","101":"Bob","102":"Charles","103":"David","104":"Eric"},"Year":{"100":1999,"101":1988,"102":2001,"103":2010,"104":2020}}'
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df.to_records()}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> rec.array([(100, 'Alice', 1999), (101, 'Bob', 1988),
#:>            (102, 'Charles', 2001), (103, 'David', 2010),
#:>            (104, 'Eric', 2020)],
#:>           dtype=[('empID', '<i8'), ('Name', 'O'), ('Year', '<i8')])
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df.to_csv()}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 'empID,Name,Year\n100,Alice,1999\n101,Bob,1988\n102,Charles,2001\n103,David,2010\n104,Eric,2020\n'
\end{verbatim}

\hypertarget{class-multiindex}{%
\section{class: MultiIndex}\label{class-multiindex}}

MultiIndexing are columns with few levels of headers.

\hypertarget{the-data-2}{%
\subsection{The Data}\label{the-data-2}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df }\OperatorTok{=}\NormalTok{ pd.DataFrame(\{}
     \StringTok{'myindex'}\NormalTok{: [}\DecValTok{0}\NormalTok{, }\DecValTok{1}\NormalTok{, }\DecValTok{2}\NormalTok{],}
     \StringTok{'One_X'}\NormalTok{:   [}\FloatTok{1.1}\NormalTok{,  }\FloatTok{1.1}\NormalTok{,  }\FloatTok{1.1}\NormalTok{],}
     \StringTok{'One_Y'}\NormalTok{:   [}\FloatTok{1.2}\NormalTok{,  }\FloatTok{1.2}\NormalTok{,  }\FloatTok{1.2}\NormalTok{],}
     \StringTok{'Two_X'}\NormalTok{:   [}\FloatTok{1.11}\NormalTok{, }\FloatTok{1.11}\NormalTok{, }\FloatTok{1.11}\NormalTok{],}
     \StringTok{'Two_Y'}\NormalTok{:   [}\FloatTok{1.22}\NormalTok{, }\FloatTok{1.22}\NormalTok{, }\FloatTok{1.22}\NormalTok{]\})}
\NormalTok{df.set_index(}\StringTok{'myindex'}\NormalTok{,inplace}\OperatorTok{=}\VariableTok{True}\NormalTok{)}
\NormalTok{df}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>          One_X  One_Y  Two_X  Two_Y
#:> myindex                            
#:> 0          1.1    1.2   1.11   1.22
#:> 1          1.1    1.2   1.11   1.22
#:> 2          1.1    1.2   1.11   1.22
\end{verbatim}

\hypertarget{creating-multiindex-object}{%
\subsection{Creating MultiIndex Object}\label{creating-multiindex-object}}

\hypertarget{create-from-tuples}{%
\subsubsection{Create From Tuples}\label{create-from-tuples}}

MultiIndex can easily created from typles:\\
- Step 1: Create a MultiIndex object by splitting column name into tuples\\
- Step 2: Assign the MultiIndex Object to dataframe \texttt{columns} property.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{my_tuples }\OperatorTok{=}\NormalTok{ [}\BuiltInTok{tuple}\NormalTok{(c.split(}\StringTok{'_'}\NormalTok{)) }\ControlFlowTok{for}\NormalTok{ c }\KeywordTok{in}\NormalTok{ df.columns]}
\NormalTok{df.columns }\OperatorTok{=}\NormalTok{ pd.MultiIndex.from_tuples(my_tuples)}

\BuiltInTok{print}\NormalTok{(}\StringTok{' Column Headers :}\CharTok{\textbackslash{}n\textbackslash{}n}\StringTok{'}\NormalTok{,           my_tuples,}
        \StringTok{'}\CharTok{\textbackslash{}n\textbackslash{}n}\StringTok{New Columns: }\CharTok{\textbackslash{}n\textbackslash{}n}\StringTok{'}\NormalTok{,         df.columns,}
        \StringTok{'}\CharTok{\textbackslash{}n\textbackslash{}n}\StringTok{Two Layers Header DF:}\CharTok{\textbackslash{}n\textbackslash{}n}\StringTok{'}\NormalTok{, df)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>  Column Headers :
#:> 
#:>  [('One', 'X'), ('One', 'Y'), ('Two', 'X'), ('Two', 'Y')] 
#:> 
#:> New Columns: 
#:> 
#:>  MultiIndex([('One', 'X'),
#:>             ('One', 'Y'),
#:>             ('Two', 'X'),
#:>             ('Two', 'Y')],
#:>            ) 
#:> 
#:> Two Layers Header DF:
#:> 
#:>           One        Two      
#:>            X    Y     X     Y
#:> myindex                      
#:> 0        1.1  1.2  1.11  1.22
#:> 1        1.1  1.2  1.11  1.22
#:> 2        1.1  1.2  1.11  1.22
\end{verbatim}

\hypertarget{multiindex-object}{%
\subsection{MultiIndex Object}\label{multiindex-object}}

\hypertarget{levels}{%
\subsubsection{Levels}\label{levels}}

\begin{itemize}
\tightlist
\item
  MultiIndex object contain multiple leveels, each level (header) is an Index object.\\
\item
  Use \textbf{\texttt{MultiIndex.get\_level\_values()}} to the entire header for the desired level. Note that each level is an Index object
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{(df.columns.get_level_values(}\DecValTok{0}\NormalTok{), }\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{,}
\NormalTok{      df.columns.get_level_values(}\DecValTok{1}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> Index(['One', 'One', 'Two', 'Two'], dtype='object') 
#:>  Index(['X', 'Y', 'X', 'Y'], dtype='object')
\end{verbatim}

\textbf{\texttt{MultiIndex.levels}} return the \textbf{unique values} of each level.

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{(df.columns.levels[}\DecValTok{0}\NormalTok{], }\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{,}
\NormalTok{      df.columns.levels[}\DecValTok{1}\NormalTok{])}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> Index(['One', 'Two'], dtype='object') 
#:>  Index(['X', 'Y'], dtype='object')
\end{verbatim}

\hypertarget{convert-multiindex-back-to-tuples}{%
\subsubsection{Convert MultiIndex Back To Tuples}\label{convert-multiindex-back-to-tuples}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df.columns.to_list()}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> [('One', 'X'), ('One', 'Y'), ('Two', 'X'), ('Two', 'Y')]
\end{verbatim}

\hypertarget{selecting-columns}{%
\subsection{Selecting Column(s)}\label{selecting-columns}}

\hypertarget{sample-data-11}{%
\subsubsection{Sample Data}\label{sample-data-11}}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ itertools}
\NormalTok{test_df }\OperatorTok{=}\NormalTok{ pd.DataFrame}
\NormalTok{max_age }\OperatorTok{=} \DecValTok{100}

\CommentTok{### Create The Columns Tuple}
\NormalTok{level0_sex }\OperatorTok{=}\NormalTok{ [}\StringTok{'Male'}\NormalTok{,}\StringTok{'Female'}\NormalTok{,}\StringTok{'Pondan'}\NormalTok{]}
\NormalTok{level1_age }\OperatorTok{=}\NormalTok{ [}\StringTok{'Medium'}\NormalTok{,}\StringTok{'High'}\NormalTok{,}\StringTok{'Low'}\NormalTok{]}
\NormalTok{my_columns }\OperatorTok{=} \BuiltInTok{list}\NormalTok{(itertools.product(level0_sex, level1_age))}

\NormalTok{test_df }\OperatorTok{=}\NormalTok{ pd.DataFrame([}
\NormalTok{             [}\DecValTok{1}\NormalTok{,}\DecValTok{2}\NormalTok{,}\DecValTok{3}\NormalTok{,}\DecValTok{4}\NormalTok{,}\DecValTok{5}\NormalTok{,}\DecValTok{6}\NormalTok{,}\DecValTok{7}\NormalTok{,}\DecValTok{8}\NormalTok{,}\DecValTok{9}\NormalTok{],}
\NormalTok{             [}\DecValTok{11}\NormalTok{,}\DecValTok{12}\NormalTok{,}\DecValTok{13}\NormalTok{,}\DecValTok{14}\NormalTok{,}\DecValTok{15}\NormalTok{,}\DecValTok{16}\NormalTok{,}\DecValTok{17}\NormalTok{,}\DecValTok{18}\NormalTok{,}\DecValTok{19}\NormalTok{],}
\NormalTok{             [}\DecValTok{21}\NormalTok{,}\DecValTok{22}\NormalTok{,}\DecValTok{23}\NormalTok{,}\DecValTok{24}\NormalTok{,}\DecValTok{25}\NormalTok{,}\DecValTok{26}\NormalTok{,}\DecValTok{27}\NormalTok{,}\DecValTok{28}\NormalTok{,}\DecValTok{29}\NormalTok{]], index}\OperatorTok{=}\NormalTok{[}\StringTok{'row1'}\NormalTok{,}\StringTok{'row2'}\NormalTok{,}\StringTok{'row3'}\NormalTok{])}

\CommentTok{### Create Multiindex From Tuple}
\NormalTok{test_df.columns }\OperatorTok{=}\NormalTok{ pd.MultiIndex.from_tuples(my_columns)}
\BuiltInTok{print}\NormalTok{( test_df ) }
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>        Male          Female          Pondan         
#:>      Medium High Low Medium High Low Medium High Low
#:> row1      1    2   3      4    5   6      7    8   9
#:> row2     11   12  13     14   15  16     17   18  19
#:> row3     21   22  23     24   25  26     27   28  29
\end{verbatim}

\hypertarget{select-level0-headers}{%
\subsubsection{Select Level0 Header(s)}\label{select-level0-headers}}

Use \textbf{\texttt{{[}L0{]}} notation}, where \texttt{L0} is list of header names

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{( test_df[[}\StringTok{'Male'}\NormalTok{,}\StringTok{'Pondan'}\NormalTok{]] ,}\StringTok{'}\CharTok{\textbackslash{}n\textbackslash{}n}\StringTok{'}\NormalTok{,  }\CommentTok{## Include multiple Level0 Header}
\NormalTok{       test_df[}\StringTok{'Male'}\NormalTok{] ,          }\StringTok{'}\CharTok{\textbackslash{}n\textbackslash{}n}\StringTok{'}\NormalTok{,   }\CommentTok{## Include single Level0 Header}
\NormalTok{       test_df.Male )                       }\CommentTok{## Same as above}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>        Male          Pondan         
#:>      Medium High Low Medium High Low
#:> row1      1    2   3      7    8   9
#:> row2     11   12  13     17   18  19
#:> row3     21   22  23     27   28  29 
#:> 
#:>        Medium  High  Low
#:> row1       1     2    3
#:> row2      11    12   13
#:> row3      21    22   23 
#:> 
#:>        Medium  High  Low
#:> row1       1     2    3
#:> row2      11    12   13
#:> row3      21    22   23
\end{verbatim}

\textbf{Using \texttt{.loc{[}{]}}}

Use \textbf{\texttt{.loc{[}\ :,\ L0\ {]}}}, where \texttt{L0} is list of headers names

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{( test_df.loc[:, [}\StringTok{'Male'}\NormalTok{,}\StringTok{'Pondan'}\NormalTok{]] , }\StringTok{'}\CharTok{\textbackslash{}n\textbackslash{}n}\StringTok{'}\NormalTok{,  }\CommentTok{## Multiple Level0 Header}
\NormalTok{       test_df.loc[:, }\StringTok{'Male'}\NormalTok{] )                     }\CommentTok{## Single Level0 Header}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>        Male          Pondan         
#:>      Medium High Low Medium High Low
#:> row1      1    2   3      7    8   9
#:> row2     11   12  13     17   18  19
#:> row3     21   22  23     27   28  29 
#:> 
#:>        Medium  High  Low
#:> row1       1     2    3
#:> row2      11    12   13
#:> row3      21    22   23
\end{verbatim}

\hypertarget{selecting-level-1-headers}{%
\subsubsection{Selecting Level 1 Header(s)}\label{selecting-level-1-headers}}

Use \textbf{\texttt{.loc{[}\ :,\ (All,\ L1){]}}}, where \texttt{L1} are list of headers names

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{All }\OperatorTok{=} \BuiltInTok{slice}\NormalTok{(}\VariableTok{None}\NormalTok{)}
\BuiltInTok{print}\NormalTok{( test_df.loc[ : , (All, }\StringTok{'High'}\NormalTok{)],  }\StringTok{'}\CharTok{\textbackslash{}n\textbackslash{}n}\StringTok{'}\NormalTok{,  }\CommentTok{## Signle L1 header}
\NormalTok{       test_df.loc[ : , (All, [}\StringTok{'High'}\NormalTok{,}\StringTok{'Low'}\NormalTok{])] )  }\CommentTok{## Multiple L1 headers}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>      Male Female Pondan
#:>      High   High   High
#:> row1    2      5      8
#:> row2   12     15     18
#:> row3   22     25     28 
#:> 
#:>       Male     Female     Pondan    
#:>      High Low   High Low   High Low
#:> row1    2   3      5   6      8   9
#:> row2   12  13     15  16     18  19
#:> row3   22  23     25  26     28  29
\end{verbatim}

\hypertarget{select-level-0-and-level1-headers}{%
\subsubsection{Select Level 0 and Level1 Headers}\label{select-level-0-and-level1-headers}}

Use \textbf{\texttt{.loc{[}\ :,\ (L0,\ L1){]}}}, where \texttt{L0} and \texttt{L1} are list of headers names

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{test_df.loc[ : , ([}\StringTok{'Male'}\NormalTok{,}\StringTok{'Pondan'}\NormalTok{], [}\StringTok{'Medium'}\NormalTok{,}\StringTok{'High'}\NormalTok{])]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>        Male      Pondan     
#:>      Medium High Medium High
#:> row1      1    2      7    8
#:> row2     11   12     17   18
#:> row3     21   22     27   28
\end{verbatim}

\hypertarget{select-single-l0l1-header}{%
\subsubsection{Select single L0,L1 Header}\label{select-single-l0l1-header}}

Use \textbf{\texttt{.loc{[}:,\ (L0,\ \ L1)\ {]}}}, result is a \textbf{Series}\\
Use \textbf{\texttt{.loc{[}:,\ (L0\ ,{[}L1{]}){]}}}, result is a \textbf{DataFrame}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{( test_df.loc[ : , (}\StringTok{'Female'}\NormalTok{, }\StringTok{'High'}\NormalTok{)], }\StringTok{'}\CharTok{\textbackslash{}n\textbackslash{}n}\StringTok{'}\NormalTok{,}
\NormalTok{       test_df.loc[ : , (}\StringTok{'Female'}\NormalTok{, [}\StringTok{'High'}\NormalTok{])])}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> row1     5
#:> row2    15
#:> row3    25
#:> Name: (Female, High), dtype: int64 
#:> 
#:>       Female
#:>        High
#:> row1      5
#:> row2     15
#:> row3     25
\end{verbatim}

\hypertarget{headers-ordering}{%
\subsection{Headers Ordering}\label{headers-ordering}}

Note that columns \textbf{order} specifeid by \texttt{{[}\ {]}} selection were not respected. This can be remediated either by Sorting and rearranging.

\hypertarget{sort-headers}{%
\subsubsection{Sort Headers}\label{sort-headers}}

Use \texttt{.sort\_index()} on DataFrame to sort the headers. Note that when level1 is sorted, it jumble up level0 headers.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{test_df_sorted_l0 }\OperatorTok{=}\NormalTok{ test_df.sort_index(axis}\OperatorTok{=}\DecValTok{1}\NormalTok{, level}\OperatorTok{=}\DecValTok{0}\NormalTok{)}
\NormalTok{test_df_sorted_l1 }\OperatorTok{=}\NormalTok{ test_df.sort_index(axis}\OperatorTok{=}\DecValTok{1}\NormalTok{, level}\OperatorTok{=}\DecValTok{1}\NormalTok{, ascending}\OperatorTok{=}\VariableTok{False}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(test_df, }\StringTok{'}\CharTok{\textbackslash{}n\textbackslash{}n}\StringTok{'}\NormalTok{,test_df_sorted_l0, }\StringTok{'}\CharTok{\textbackslash{}n\textbackslash{}n}\StringTok{'}\NormalTok{, test_df_sorted_l1)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>        Male          Female          Pondan         
#:>      Medium High Low Medium High Low Medium High Low
#:> row1      1    2   3      4    5   6      7    8   9
#:> row2     11   12  13     14   15  16     17   18  19
#:> row3     21   22  23     24   25  26     27   28  29 
#:> 
#:>       Female            Male            Pondan           
#:>        High Low Medium High Low Medium   High Low Medium
#:> row1      5   6      4    2   3      1      8   9      7
#:> row2     15  16     14   12  13     11     18  19     17
#:> row3     25  26     24   22  23     21     28  29     27 
#:> 
#:>       Pondan   Male Female Pondan Male Female Pondan Male Female
#:>      Medium Medium Medium    Low  Low    Low   High High   High
#:> row1      7      1      4      9    3      6      8    2      5
#:> row2     17     11     14     19   13     16     18   12     15
#:> row3     27     21     24     29   23     26     28   22     25
\end{verbatim}

\hypertarget{rearranging-headers}{%
\subsubsection{Rearranging Headers}\label{rearranging-headers}}

Use **\texttt{.reindex()**} on arrange columns in specific order. Example below shows how to control the specific order for level1 headers.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{cats }\OperatorTok{=}\NormalTok{ [}\StringTok{'Low'}\NormalTok{,}\StringTok{'Medium'}\NormalTok{,}\StringTok{'High'}\NormalTok{]}
\NormalTok{test_df.reindex(cats, level}\OperatorTok{=}\DecValTok{1}\NormalTok{, axis}\OperatorTok{=}\DecValTok{1}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>      Male             Female             Pondan            
#:>       Low Medium High    Low Medium High    Low Medium High
#:> row1    3      1    2      6      4    5      9      7    8
#:> row2   13     11   12     16     14   15     19     17   18
#:> row3   23     21   22     26     24   25     29     27   28
\end{verbatim}

\hypertarget{stacking-and-unstacking}{%
\subsection{Stacking and Unstacking}\label{stacking-and-unstacking}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df.stack()}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>            One   Two
#:> myindex             
#:> 0       X  1.1  1.11
#:>         Y  1.2  1.22
#:> 1       X  1.1  1.11
#:>         Y  1.2  1.22
#:> 2       X  1.1  1.11
#:>         Y  1.2  1.22
\end{verbatim}

\hypertarget{stacking-columns-to-rows}{%
\subsubsection{Stacking Columns to Rows}\label{stacking-columns-to-rows}}

Stacking with \textbf{\texttt{DataFrame.stack(level\_no)}} is moving wide columns into row.

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{(}\StringTok{'Stacking Header Level 0: }\CharTok{\textbackslash{}n\textbackslash{}n}\StringTok{'}\NormalTok{, df.stack(}\DecValTok{0}\NormalTok{),}
      \StringTok{'}\CharTok{\textbackslash{}n\textbackslash{}n}\StringTok{Stacking Header Level 1: }\CharTok{\textbackslash{}n\textbackslash{}n}\StringTok{'}\NormalTok{, df.stack(}\DecValTok{1}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> Stacking Header Level 0: 
#:> 
#:>                  X     Y
#:> myindex                
#:> 0       One  1.10  1.20
#:>         Two  1.11  1.22
#:> 1       One  1.10  1.20
#:>         Two  1.11  1.22
#:> 2       One  1.10  1.20
#:>         Two  1.11  1.22 
#:> 
#:> Stacking Header Level 1: 
#:> 
#:>             One   Two
#:> myindex             
#:> 0       X  1.1  1.11
#:>         Y  1.2  1.22
#:> 1       X  1.1  1.11
#:>         Y  1.2  1.22
#:> 2       X  1.1  1.11
#:>         Y  1.2  1.22
\end{verbatim}

\hypertarget{exploratory-analysis}{%
\subsection{Exploratory Analysis}\label{exploratory-analysis}}

\hypertarget{sample-data-12}{%
\subsubsection{Sample Data}\label{sample-data-12}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>          One        Two      
#:>            X    Y     X     Y
#:> myindex                      
#:> 0        1.1  1.2  1.11  1.22
#:> 1        1.1  1.2  1.11  1.22
#:> 2        1.1  1.2  1.11  1.22
\end{verbatim}

\hypertarget{all-stats-in-one---.describe}{%
\subsubsection{All Stats in One - .describe()}\label{all-stats-in-one---.describe}}

\begin{verbatim}
df.describe(include='number') # default
df.describe(include='object') # display for non-numeric columns
df.describe(include='all')    # display both numeric and non-numeric
\end{verbatim}

When applied to DataFrame object, describe shows all \textbf{basic statistic} for \textbf{all numeric} columns: - Count (non-NA)\\
- Unique (for string)\\
- Top (for string)\\
- Frequency (for string)\\
- Percentile\\
- Mean\\
- Min / Max\\
- Standard Deviation

\textbf{For Numeric Columns only}\\
You can \textbf{customize the percentiles requred}. Notice 0.5 percentile is always there although not specified

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df.describe()}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>        One        Two      
#:>          X    Y     X     Y
#:> count  3.0  3.0  3.00  3.00
#:> mean   1.1  1.2  1.11  1.22
#:> std    0.0  0.0  0.00  0.00
#:> min    1.1  1.2  1.11  1.22
#:> 25%    1.1  1.2  1.11  1.22
#:> 50%    1.1  1.2  1.11  1.22
#:> 75%    1.1  1.2  1.11  1.22
#:> max    1.1  1.2  1.11  1.22
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df.describe(percentiles}\OperatorTok{=}\NormalTok{[}\FloatTok{0.9}\NormalTok{,}\FloatTok{0.3}\NormalTok{,}\FloatTok{0.2}\NormalTok{,}\FloatTok{0.1}\NormalTok{])}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>        One        Two      
#:>          X    Y     X     Y
#:> count  3.0  3.0  3.00  3.00
#:> mean   1.1  1.2  1.11  1.22
#:> std    0.0  0.0  0.00  0.00
#:> min    1.1  1.2  1.11  1.22
#:> 10%    1.1  1.2  1.11  1.22
#:> 20%    1.1  1.2  1.11  1.22
#:> 30%    1.1  1.2  1.11  1.22
#:> 50%    1.1  1.2  1.11  1.22
#:> 90%    1.1  1.2  1.11  1.22
#:> max    1.1  1.2  1.11  1.22
\end{verbatim}

\textbf{For both Numeric and Object}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df.describe(include}\OperatorTok{=}\StringTok{'all'}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>        One        Two      
#:>          X    Y     X     Y
#:> count  3.0  3.0  3.00  3.00
#:> mean   1.1  1.2  1.11  1.22
#:> std    0.0  0.0  0.00  0.00
#:> min    1.1  1.2  1.11  1.22
#:> 25%    1.1  1.2  1.11  1.22
#:> 50%    1.1  1.2  1.11  1.22
#:> 75%    1.1  1.2  1.11  1.22
#:> max    1.1  1.2  1.11  1.22
\end{verbatim}

\hypertarget{minmaxmeanmedian}{%
\subsubsection{min/max/mean/median}\label{minmaxmeanmedian}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df.}\BuiltInTok{min}\NormalTok{()  }\CommentTok{# default axis=0, column-wise}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> One  X    1.10
#:>      Y    1.20
#:> Two  X    1.11
#:>      Y    1.22
#:> dtype: float64
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df.}\BuiltInTok{min}\NormalTok{(axis}\OperatorTok{=}\DecValTok{1}\NormalTok{) }\CommentTok{# axis=1, row-wise}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> myindex
#:> 0    1.1
#:> 1    1.1
#:> 2    1.1
#:> dtype: float64
\end{verbatim}

Observe, sum on \textbf{string will concatenate column-wise}, whereas row-wise only sum up numeric fields

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df.}\BuiltInTok{sum}\NormalTok{(}\DecValTok{0}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> One  X    3.30
#:>      Y    3.60
#:> Two  X    3.33
#:>      Y    3.66
#:> dtype: float64
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df.}\BuiltInTok{sum}\NormalTok{(}\DecValTok{1}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> myindex
#:> 0    4.63
#:> 1    4.63
#:> 2    4.63
#:> dtype: float64
\end{verbatim}

\hypertarget{plotting}{%
\subsection{Plotting}\label{plotting}}

\hypertarget{class-categories}{%
\section{class: Categories}\label{class-categories}}

\hypertarget{creating-2}{%
\subsection{Creating}\label{creating-2}}

\hypertarget{from-list}{%
\subsubsection{From List}\label{from-list}}

\textbf{Basic (Auto Category Mapping)}\\
Basic syntax return categorical index with sequence with code 0,1,2,3\ldots{} mapping to first found category\\
In this case, \textbf{low(0), high(1), medium(2)}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{temp }\OperatorTok{=}\NormalTok{ [}\StringTok{'low'}\NormalTok{,}\StringTok{'high'}\NormalTok{,}\StringTok{'medium'}\NormalTok{,}\StringTok{'high'}\NormalTok{,}\StringTok{'high'}\NormalTok{,}\StringTok{'low'}\NormalTok{,}\StringTok{'medium'}\NormalTok{,}\StringTok{'medium'}\NormalTok{,}\StringTok{'high'}\NormalTok{]}
\NormalTok{temp_cat }\OperatorTok{=}\NormalTok{ pd.Categorical(temp)}
\NormalTok{temp_cat}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> ['low', 'high', 'medium', 'high', 'high', 'low', 'medium', 'medium', 'high']
#:> Categories (3, object): ['high', 'low', 'medium']
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{type}\NormalTok{( temp_cat )}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> <class 'pandas.core.arrays.categorical.Categorical'>
\end{verbatim}

\textbf{Manual Category Mapping}\\
During creation, we can specify mapping of codes to category: \textbf{low(0), medium(1), high(2)}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{temp_cat }\OperatorTok{=}\NormalTok{ pd.Categorical(temp, categories}\OperatorTok{=}\NormalTok{[}\StringTok{'low'}\NormalTok{,}\StringTok{'medium'}\NormalTok{,}\StringTok{'high'}\NormalTok{])}
\NormalTok{temp_cat}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> ['low', 'high', 'medium', 'high', 'high', 'low', 'medium', 'medium', 'high']
#:> Categories (3, object): ['low', 'medium', 'high']
\end{verbatim}

\hypertarget{from-series}{%
\subsubsection{From Series}\label{from-series}}

\begin{itemize}
\tightlist
\item
  We can `add' categorical structure into a Series. With these methods, additional property (.cat) is added as a \textbf{categorical accessor}\\
\item
  Through this accessor, you gain access to various properties of the category such as .codes, .categories. But not .get\_values() as the information is in the Series itself\\
\item
  Can we manual map category ?????
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{temp }\OperatorTok{=}\NormalTok{ [}\StringTok{'low'}\NormalTok{,}\StringTok{'high'}\NormalTok{,}\StringTok{'medium'}\NormalTok{,}\StringTok{'high'}\NormalTok{,}\StringTok{'high'}\NormalTok{,}\StringTok{'low'}\NormalTok{,}\StringTok{'medium'}\NormalTok{,}\StringTok{'medium'}\NormalTok{,}\StringTok{'high'}\NormalTok{]}
\NormalTok{temp_cat }\OperatorTok{=}\NormalTok{ pd.Series(temp, dtype}\OperatorTok{=}\StringTok{'category'}\NormalTok{)}
\BuiltInTok{print}\NormalTok{ (}\BuiltInTok{type}\NormalTok{(temp_cat))       }\CommentTok{# Series object}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> <class 'pandas.core.series.Series'>
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{ (}\BuiltInTok{type}\NormalTok{(temp_cat.cat))   }\CommentTok{# Categorical Accessor}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> <class 'pandas.core.arrays.categorical.CategoricalAccessor'>
\end{verbatim}

\begin{itemize}
\tightlist
\item
  Method below has the same result as above by using \textbf{.astype(`category')}\\
\item
  It is useful adding category structure into existing series.
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{temp_ser }\OperatorTok{=}\NormalTok{ pd.Series(temp)}
\NormalTok{temp_cat }\OperatorTok{=}\NormalTok{ pd.Series(temp).astype(}\StringTok{'category'}\NormalTok{)}
\BuiltInTok{print}\NormalTok{ (}\BuiltInTok{type}\NormalTok{(temp_cat))       }\CommentTok{# Series object}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> <class 'pandas.core.series.Series'>
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{ (}\BuiltInTok{type}\NormalTok{(temp_cat.cat))   }\CommentTok{# Categorical Accessor}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> <class 'pandas.core.arrays.categorical.CategoricalAccessor'>
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{temp_cat.cat.categories}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> Index(['high', 'low', 'medium'], dtype='object')
\end{verbatim}

\hypertarget{ordering-category}{%
\subsubsection{Ordering Category}\label{ordering-category}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{temp }\OperatorTok{=}\NormalTok{ [}\StringTok{'low'}\NormalTok{,}\StringTok{'high'}\NormalTok{,}\StringTok{'medium'}\NormalTok{,}\StringTok{'high'}\NormalTok{,}\StringTok{'high'}\NormalTok{,}\StringTok{'low'}\NormalTok{,}\StringTok{'medium'}\NormalTok{,}\StringTok{'medium'}\NormalTok{,}\StringTok{'high'}\NormalTok{]}
\NormalTok{temp_cat }\OperatorTok{=}\NormalTok{ pd.Categorical(temp, categories}\OperatorTok{=}\NormalTok{[}\StringTok{'low'}\NormalTok{,}\StringTok{'medium'}\NormalTok{,}\StringTok{'high'}\NormalTok{], ordered}\OperatorTok{=}\VariableTok{True}\NormalTok{)}
\NormalTok{temp_cat}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> ['low', 'high', 'medium', 'high', 'high', 'low', 'medium', 'medium', 'high']
#:> Categories (3, object): ['low' < 'medium' < 'high']
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{# error}
\NormalTok{temp_cat.get_values()}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{temp_cat.codes}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> array([0, 2, 1, 2, 2, 0, 1, 1, 2], dtype=int8)
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{temp_cat[}\DecValTok{0}\NormalTok{] }\OperatorTok{<}\NormalTok{ temp_cat[}\DecValTok{3}\NormalTok{]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> False
\end{verbatim}

\hypertarget{properties}{%
\subsection{Properties}\label{properties}}

\hypertarget{categories}{%
\subsubsection{.categories}\label{categories}}

first element's code = 0\\
second element's code = 1\\
third element's code = 2

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{temp_cat.categories}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> Index(['low', 'medium', 'high'], dtype='object')
\end{verbatim}

\hypertarget{codes}{%
\subsubsection{.codes}\label{codes}}

Codes are actual \textbf{integer} value stored as array. 1 represent `high',

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{temp_cat.codes}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> array([0, 2, 1, 2, 2, 0, 1, 1, 2], dtype=int8)
\end{verbatim}

\hypertarget{rename-category}{%
\subsection{Rename Category}\label{rename-category}}

\hypertarget{renamce-to-new-category-object}{%
\subsubsection{Renamce To New Category Object}\label{renamce-to-new-category-object}}

\textbf{.rename\_categories()} method return a new category object with new changed categories

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{temp }\OperatorTok{=}\NormalTok{ [}\StringTok{'low'}\NormalTok{,}\StringTok{'high'}\NormalTok{,}\StringTok{'medium'}\NormalTok{,}\StringTok{'high'}\NormalTok{,}\StringTok{'high'}\NormalTok{,}\StringTok{'low'}\NormalTok{,}\StringTok{'medium'}\NormalTok{,}\StringTok{'medium'}\NormalTok{,}\StringTok{'high'}\NormalTok{]}
\NormalTok{new_temp_cat }\OperatorTok{=}\NormalTok{ temp_cat.rename_categories([}\StringTok{'sejuk'}\NormalTok{,}\StringTok{'sederhana'}\NormalTok{,}\StringTok{'panas'}\NormalTok{])}
\NormalTok{new_temp_cat }
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> ['sejuk', 'panas', 'sederhana', 'panas', 'panas', 'sejuk', 'sederhana', 'sederhana', 'panas']
#:> Categories (3, object): ['sejuk' < 'sederhana' < 'panas']
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{temp_cat   }\CommentTok{# original category object categories not changed}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> ['low', 'high', 'medium', 'high', 'high', 'low', 'medium', 'medium', 'high']
#:> Categories (3, object): ['low' < 'medium' < 'high']
\end{verbatim}

\hypertarget{rename-inplace}{%
\subsubsection{Rename Inplace}\label{rename-inplace}}

Observe the original categories had been changed using \textbf{.rename()}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{temp_cat.categories }\OperatorTok{=}\NormalTok{ [}\StringTok{'sejuk'}\NormalTok{,}\StringTok{'sederhana'}\NormalTok{,}\StringTok{'panas'}\NormalTok{]}
\NormalTok{temp_cat   }\CommentTok{# original category object categories is changed}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> ['sejuk', 'panas', 'sederhana', 'panas', 'panas', 'sejuk', 'sederhana', 'sederhana', 'panas']
#:> Categories (3, object): ['sejuk' < 'sederhana' < 'panas']
\end{verbatim}

\hypertarget{adding-new-category}{%
\subsection{Adding New Category}\label{adding-new-category}}

This return a new category object with added categories

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{temp_cat_more }\OperatorTok{=}\NormalTok{ temp_cat.add_categories([}\StringTok{'susah'}\NormalTok{,}\StringTok{'senang'}\NormalTok{])}
\NormalTok{temp_cat_more}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> ['sejuk', 'panas', 'sederhana', 'panas', 'panas', 'sejuk', 'sederhana', 'sederhana', 'panas']
#:> Categories (5, object): ['sejuk' < 'sederhana' < 'panas' < 'susah' < 'senang']
\end{verbatim}

\hypertarget{removing-category}{%
\subsection{Removing Category}\label{removing-category}}

This is \textbf{not in place}, hence return a new categorical object

\hypertarget{remove-specific-categories}{%
\subsubsection{Remove Specific Categor(ies)}\label{remove-specific-categories}}

Elements with its category removed will become \textbf{NaN}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{temp }\OperatorTok{=}\NormalTok{ [}\StringTok{'low'}\NormalTok{,}\StringTok{'high'}\NormalTok{,}\StringTok{'medium'}\NormalTok{,}\StringTok{'high'}\NormalTok{,}\StringTok{'high'}\NormalTok{,}\StringTok{'low'}\NormalTok{,}\StringTok{'medium'}\NormalTok{,}\StringTok{'medium'}\NormalTok{,}\StringTok{'high'}\NormalTok{]}
\NormalTok{temp_cat }\OperatorTok{=}\NormalTok{ pd.Categorical(temp)}
\NormalTok{temp_cat_removed }\OperatorTok{=}\NormalTok{ temp_cat.remove_categories(}\StringTok{'low'}\NormalTok{)}
\NormalTok{temp_cat_removed}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> [NaN, 'high', 'medium', 'high', 'high', NaN, 'medium', 'medium', 'high']
#:> Categories (2, object): ['high', 'medium']
\end{verbatim}

\hypertarget{remove-unused-category}{%
\subsubsection{Remove Unused Category}\label{remove-unused-category}}

Since categories removed are not used, there is no impact to the element

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{ (temp_cat_more)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> ['sejuk', 'panas', 'sederhana', 'panas', 'panas', 'sejuk', 'sederhana', 'sederhana', 'panas']
#:> Categories (5, object): ['sejuk' < 'sederhana' < 'panas' < 'susah' < 'senang']
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{temp_cat_more.remove_unused_categories()}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> ['sejuk', 'panas', 'sederhana', 'panas', 'panas', 'sejuk', 'sederhana', 'sederhana', 'panas']
#:> Categories (3, object): ['sejuk' < 'sederhana' < 'panas']
\end{verbatim}

\hypertarget{add-and-remove-categories-in-one-step---set}{%
\subsection{Add and Remove Categories In One Step - Set()}\label{add-and-remove-categories-in-one-step---set}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{temp }\OperatorTok{=}\NormalTok{ [}\StringTok{'low'}\NormalTok{,}\StringTok{'high'}\NormalTok{,}\StringTok{'medium'}\NormalTok{,}\StringTok{'high'}\NormalTok{,}\StringTok{'high'}\NormalTok{,}\StringTok{'low'}\NormalTok{,}\StringTok{'medium'}\NormalTok{,}\StringTok{'medium'}\NormalTok{,}\StringTok{'high'}\NormalTok{]}
\NormalTok{temp_cat }\OperatorTok{=}\NormalTok{ pd.Categorical(temp, ordered}\OperatorTok{=}\VariableTok{True}\NormalTok{)}
\NormalTok{temp_cat}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> ['low', 'high', 'medium', 'high', 'high', 'low', 'medium', 'medium', 'high']
#:> Categories (3, object): ['high' < 'low' < 'medium']
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{temp_cat.set_categories([}\StringTok{'low'}\NormalTok{,}\StringTok{'medium'}\NormalTok{,}\StringTok{'sederhana'}\NormalTok{,}\StringTok{'susah'}\NormalTok{,}\StringTok{'senang'}\NormalTok{])}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> ['low', NaN, 'medium', NaN, NaN, 'low', 'medium', 'medium', NaN]
#:> Categories (5, object): ['low' < 'medium' < 'sederhana' < 'susah' < 'senang']
\end{verbatim}

\hypertarget{categorical-descriptive-analysis}{%
\subsection{Categorical Descriptive Analysis}\label{categorical-descriptive-analysis}}

\hypertarget{at-one-glance}{%
\subsubsection{At One Glance}\label{at-one-glance}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{temp_cat.describe()}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>             counts     freqs
#:> categories                  
#:> high             4  0.444444
#:> low              2  0.222222
#:> medium           3  0.333333
\end{verbatim}

\hypertarget{frequency-count}{%
\subsubsection{Frequency Count}\label{frequency-count}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{temp_cat.value_counts()}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> high      4
#:> low       2
#:> medium    3
#:> dtype: int64
\end{verbatim}

\hypertarget{least-frequent-category-most-frequent-category-and-most-frequent-category}{%
\subsubsection{Least Frequent Category, Most Frequent Category, and Most Frequent Category}\label{least-frequent-category-most-frequent-category-and-most-frequent-category}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{( temp_cat.}\BuiltInTok{min}\NormalTok{(), temp_cat.}\BuiltInTok{max}\NormalTok{(), temp_cat.mode() )}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> ('high', 'medium', ['high']
#:> Categories (3, object): ['high' < 'low' < 'medium'])
\end{verbatim}

\hypertarget{other-methods-1}{%
\subsection{Other Methods}\label{other-methods-1}}

\hypertarget{get_values}{%
\subsubsection{.get\_values()}\label{get_values}}

Since actual value stored by categorical object are integer \textbf{codes}, get\_values() function return values translated from *.codes** property

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{temp_cat.get_values()  }\CommentTok{#array}
\end{Highlighting}
\end{Shaded}

\hypertarget{dummies}{%
\section{Dummies}\label{dummies}}

\begin{itemize}
\tightlist
\item
  \textbf{get\_dummies} creates columns for each categories
\item
  The underlying data can be string or pd.Categorical\\
\item
  It produces a \textbf{new pd.DataFrame}
\end{itemize}

\hypertarget{sample-data-13}{%
\subsection{Sample Data}\label{sample-data-13}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df }\OperatorTok{=}\NormalTok{ pd.DataFrame (}
\NormalTok{    \{}\StringTok{'A'}\NormalTok{: [}\StringTok{'A1'}\NormalTok{, }\StringTok{'A2'}\NormalTok{, }\StringTok{'A3'}\NormalTok{,}\StringTok{'A1'}\NormalTok{,}\StringTok{'A3'}\NormalTok{,}\StringTok{'A1'}\NormalTok{], }
     \StringTok{'B'}\NormalTok{: [}\StringTok{'B1'}\NormalTok{,}\StringTok{'B2'}\NormalTok{,}\StringTok{'B3'}\NormalTok{,}\StringTok{'B1'}\NormalTok{,}\StringTok{'B1'}\NormalTok{,}\StringTok{'B3'}\NormalTok{],}
     \StringTok{'C'}\NormalTok{: [}\StringTok{'C1'}\NormalTok{,}\StringTok{'C2'}\NormalTok{,}\StringTok{'C3'}\NormalTok{,}\StringTok{'C1'}\NormalTok{,np.nan,np.nan]\})}
\NormalTok{df}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>     A   B    C
#:> 0  A1  B1   C1
#:> 1  A2  B2   C2
#:> 2  A3  B3   C3
#:> 3  A1  B1   C1
#:> 4  A3  B1  NaN
#:> 5  A1  B3  NaN
\end{verbatim}

\hypertarget{dummies-on-array-like-data}{%
\subsection{Dummies on Array-Like Data}\label{dummies-on-array-like-data}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{pd.get_dummies(df.A)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>    A1  A2  A3
#:> 0   1   0   0
#:> 1   0   1   0
#:> 2   0   0   1
#:> 3   1   0   0
#:> 4   0   0   1
#:> 5   1   0   0
\end{verbatim}

\hypertarget{dummies-on-dataframe-multiple-columns}{%
\subsection{Dummies on DataFrame (multiple columns)}\label{dummies-on-dataframe-multiple-columns}}

\hypertarget{all-columns}{%
\subsubsection{All Columns}\label{all-columns}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{pd.get_dummies(df)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>    A_A1  A_A2  A_A3  B_B1  B_B2  B_B3  C_C1  C_C2  C_C3
#:> 0     1     0     0     1     0     0     1     0     0
#:> 1     0     1     0     0     1     0     0     1     0
#:> 2     0     0     1     0     0     1     0     0     1
#:> 3     1     0     0     1     0     0     1     0     0
#:> 4     0     0     1     1     0     0     0     0     0
#:> 5     1     0     0     0     0     1     0     0     0
\end{verbatim}

\hypertarget{selected-columns}{%
\subsubsection{Selected Columns}\label{selected-columns}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{cols }\OperatorTok{=}\NormalTok{ [}\StringTok{'A'}\NormalTok{,}\StringTok{'B'}\NormalTok{]}
\NormalTok{pd.get_dummies(df[cols])}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>    A_A1  A_A2  A_A3  B_B1  B_B2  B_B3
#:> 0     1     0     0     1     0     0
#:> 1     0     1     0     0     1     0
#:> 2     0     0     1     0     0     1
#:> 3     1     0     0     1     0     0
#:> 4     0     0     1     1     0     0
#:> 5     1     0     0     0     0     1
\end{verbatim}

\hypertarget{dummies-with-na}{%
\subsection{Dummies with na}\label{dummies-with-na}}

By default, nan values are ignored

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{pd.get_dummies(df.C)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>    C1  C2  C3
#:> 0   1   0   0
#:> 1   0   1   0
#:> 2   0   0   1
#:> 3   1   0   0
#:> 4   0   0   0
#:> 5   0   0   0
\end{verbatim}

\textbf{Make NaN as a dummy variable}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{pd.get_dummies(df.C,dummy_na}\OperatorTok{=}\VariableTok{True}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>    C1  C2  C3  NaN
#:> 0   1   0   0    0
#:> 1   0   1   0    0
#:> 2   0   0   1    0
#:> 3   1   0   0    0
#:> 4   0   0   0    1
#:> 5   0   0   0    1
\end{verbatim}

\hypertarget{specify-prefixes}{%
\subsection{Specify Prefixes}\label{specify-prefixes}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{pd.get_dummies(df.A, prefix}\OperatorTok{=}\StringTok{'col'}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>    col_A1  col_A2  col_A3
#:> 0       1       0       0
#:> 1       0       1       0
#:> 2       0       0       1
#:> 3       1       0       0
#:> 4       0       0       1
#:> 5       1       0       0
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{pd.get_dummies(df[cols], prefix}\OperatorTok{=}\NormalTok{[}\StringTok{'colA'}\NormalTok{,}\StringTok{'colB'}\NormalTok{])}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>    colA_A1  colA_A2  colA_A3  colB_B1  colB_B2  colB_B3
#:> 0        1        0        0        1        0        0
#:> 1        0        1        0        0        1        0
#:> 2        0        0        1        0        0        1
#:> 3        1        0        0        1        0        0
#:> 4        0        0        1        1        0        0
#:> 5        1        0        0        0        0        1
\end{verbatim}

\hypertarget{dropping-first-column}{%
\subsection{Dropping First Column}\label{dropping-first-column}}

\begin{itemize}
\tightlist
\item
  Dummies cause \textbf{colinearity issue} for regression as it has redundant column.\\
\item
  Dropping a column \textbf{does not loose any information} technically
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{pd.get_dummies(df[cols],drop_first}\OperatorTok{=}\VariableTok{True}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>    A_A2  A_A3  B_B2  B_B3
#:> 0     0     0     0     0
#:> 1     1     0     1     0
#:> 2     0     1     0     1
#:> 3     0     0     0     0
#:> 4     0     1     0     0
#:> 5     0     0     0     1
\end{verbatim}

\hypertarget{dataframegroupby}{%
\section{DataFrameGroupBy}\label{dataframegroupby}}

\begin{itemize}
\tightlist
\item
  \texttt{groupby()} is a DataFrame method, it returns \textbf{\texttt{DataFrameGroupBy}} object\\
\item
  \textbf{\texttt{DataFrameGroupBy}} object open doors for dataframe aggregation and summarization\\
\item
  \textbf{\texttt{DataFrameGroupBy}} object is a \textbf{very flexible abstraction}. In many ways, you can simply treat \texttt{DataFrameGroup} as if it's a \textbf{collection of DataFrames}, and it does the difficult things under the hood
\end{itemize}

\hypertarget{sample-data-14}{%
\subsection{Sample Data}\label{sample-data-14}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{company }\OperatorTok{=}\NormalTok{ pd.read_csv(}\StringTok{'data/company.csv'}\NormalTok{)}
\NormalTok{company}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>    Company Department      Name  Age  Salary  Birthdate
#:> 0       C1         D1      Yong   45   15000   1/1/1970
#:> 1       C1         D1      Chew   35   12000   2/1/1980
#:> 2       C1         D2       Lim   34    8000  2/19/1977
#:> 3       C1         D3     Jessy   23    2500  3/15/1990
#:> 4       C1         D3  Hoi Ming   55   25000  4/15/1987
#:> ..     ...        ...       ...  ...     ...        ...
#:> 13      C3         D3     Chang   32    7900  7/26/1973
#:> 14      C3         D1       Ong   44   17500  8/21/1980
#:> 15      C3         D2      Lily   41   15300  7/17/1990
#:> 16      C3         D3     Sally   54   21000  7/19/1968
#:> 17      C3         D3    Esther   37   13500  3/16/1969
#:> 
#:> [18 rows x 6 columns]
\end{verbatim}

\hypertarget{creating-groups}{%
\subsection{Creating Groups}\label{creating-groups}}

Group can be created for \textbf{single or multiple} columns

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{com_grp }\OperatorTok{=}\NormalTok{ company.groupby(}\StringTok{'Company'}\NormalTok{) }\CommentTok{## Single Column}
\NormalTok{com_dep_grp }\OperatorTok{=}\NormalTok{ company.groupby([}\StringTok{'Company'}\NormalTok{,}\StringTok{'Department'}\NormalTok{])  }\CommentTok{## Multiple Column}
\BuiltInTok{type}\NormalTok{(com_dep_grp)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> <class 'pandas.core.groupby.generic.DataFrameGroupBy'>
\end{verbatim}

\hypertarget{properties-1}{%
\subsection{Properties}\label{properties-1}}

\hypertarget{number-of-groups}{%
\subsubsection{Number of Groups}\label{number-of-groups}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{com_dep_grp.ngroups}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 9
\end{verbatim}

\hypertarget{row-numbers-associated-for-each-group}{%
\subsubsection{Row Numbers Associated For Each Group}\label{row-numbers-associated-for-each-group}}

\texttt{.groups} property is a dictionary containing group key (identifying the group) and its values (underlying row indexes for the group)

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{gdict }\OperatorTok{=}\NormalTok{ com_dep_grp.groups       }\CommentTok{# return Dictionary}
\BuiltInTok{print}\NormalTok{( gdict.keys()   , }\StringTok{'}\CharTok{\textbackslash{}n\textbackslash{}n}\StringTok{'}\NormalTok{,  }\CommentTok{# group identifier}
\NormalTok{       gdict.values()   )        }\CommentTok{# group row indexes}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> dict_keys([('C1', 'D1'), ('C1', 'D2'), ('C1', 'D3'), ('C2', 'D1'), ('C2', 'D2'), ('C2', 'D3'), ('C3', 'D1'), ('C3', 'D2'), ('C3', 'D3')]) 
#:> 
#:>  dict_values([Int64Index([0, 1], dtype='int64'), Int64Index([2], dtype='int64'), Int64Index([3, 4, 5], dtype='int64'), Int64Index([6], dtype='int64'), Int64Index([7, 8, 9], dtype='int64'), Int64Index([10, 11, 12], dtype='int64'), Int64Index([14], dtype='int64'), Int64Index([15], dtype='int64'), Int64Index([13, 16, 17], dtype='int64')])
\end{verbatim}

\hypertarget{methods-1}{%
\subsection{Methods}\label{methods-1}}

\hypertarget{number-of-rows-in-each-group}{%
\subsubsection{Number of Rows In Each Group}\label{number-of-rows-in-each-group}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{com_dep_grp.size()  }\CommentTok{# return panda Series object}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> Company  Department
#:> C1       D1            2
#:>          D2            1
#:>          D3            3
#:> C2       D1            1
#:>          D2            3
#:>          D3            3
#:> C3       D1            1
#:>          D2            1
#:>          D3            3
#:> dtype: int64
\end{verbatim}

\hypertarget{retrieve-rows}{%
\subsection{Retrieve Rows}\label{retrieve-rows}}

\hypertarget{retrieve-n-th-row-of-each-grou}{%
\subsubsection{Retrieve n-th Row Of Each Grou}\label{retrieve-n-th-row-of-each-grou}}

\begin{itemize}
\tightlist
\item
  Row number is 0-based\\
\item
  For First row, use \texttt{.first()} or \texttt{nth(0)}
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{( com_dep_grp.nth(}\DecValTok{0}\NormalTok{)  , }\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{,}
\NormalTok{       com_dep_grp.first())}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>                        Name  Age  Salary   Birthdate
#:> Company Department                                  
#:> C1      D1             Yong   45   15000    1/1/1970
#:>         D2              Lim   34    8000   2/19/1977
#:>         D3            Jessy   23    2500   3/15/1990
#:> C2      D1             Anne   18     400   7/15/1997
#:>         D2          Deborah   30    8600   8/15/1984
#:>         D3          Michael   38   17000  11/30/1997
#:> C3      D1              Ong   44   17500   8/21/1980
#:>         D2             Lily   41   15300   7/17/1990
#:>         D3            Chang   32    7900   7/26/1973 
#:>                         Name  Age  Salary   Birthdate
#:> Company Department                                  
#:> C1      D1             Yong   45   15000    1/1/1970
#:>         D2              Lim   34    8000   2/19/1977
#:>         D3            Jessy   23    2500   3/15/1990
#:> C2      D1             Anne   18     400   7/15/1997
#:>         D2          Deborah   30    8600   8/15/1984
#:>         D3          Michael   38   17000  11/30/1997
#:> C3      D1              Ong   44   17500   8/21/1980
#:>         D2             Lily   41   15300   7/17/1990
#:>         D3            Chang   32    7900   7/26/1973
\end{verbatim}

\begin{itemize}
\tightlist
\item
  For Last row, use \texttt{.last()} or \texttt{nth(}-1)`
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{( com_dep_grp.nth(}\OperatorTok{-}\DecValTok{1}\NormalTok{)  , }\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{,}
\NormalTok{       com_dep_grp.last())}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>                        Name  Age  Salary   Birthdate
#:> Company Department                                  
#:> C1      D1             Chew   35   12000    2/1/1980
#:>         D2              Lim   34    8000   2/19/1977
#:>         D3          Sui Wei   56    3000   6/15/1990
#:> C2      D1             Anne   18     400   7/15/1997
#:>         D2            Jimmy   46   14000  10/31/1988
#:>         D3          Bernard   29    9800   12/1/1963
#:> C3      D1              Ong   44   17500   8/21/1980
#:>         D2             Lily   41   15300   7/17/1990
#:>         D3           Esther   37   13500   3/16/1969 
#:>                         Name  Age  Salary   Birthdate
#:> Company Department                                  
#:> C1      D1             Chew   35   12000    2/1/1980
#:>         D2              Lim   34    8000   2/19/1977
#:>         D3          Sui Wei   56    3000   6/15/1990
#:> C2      D1             Anne   18     400   7/15/1997
#:>         D2            Jimmy   46   14000  10/31/1988
#:>         D3          Bernard   29    9800   12/1/1963
#:> C3      D1              Ong   44   17500   8/21/1980
#:>         D2             Lily   41   15300   7/17/1990
#:>         D3           Esther   37   13500   3/16/1969
\end{verbatim}

\hypertarget{retrieve-n-rows-of-each-groups}{%
\subsubsection{Retrieve N Rows Of Each Groups}\label{retrieve-n-rows-of-each-groups}}

Example below retrieve 2 rows from each group

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{com_dep_grp.head(}\DecValTok{2}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>    Company Department      Name  Age  Salary   Birthdate
#:> 0       C1         D1      Yong   45   15000    1/1/1970
#:> 1       C1         D1      Chew   35   12000    2/1/1980
#:> 2       C1         D2       Lim   34    8000   2/19/1977
#:> 3       C1         D3     Jessy   23    2500   3/15/1990
#:> 4       C1         D3  Hoi Ming   55   25000   4/15/1987
#:> ..     ...        ...       ...  ...     ...         ...
#:> 11      C2         D3   Jeannie   30   12500  12/31/1980
#:> 13      C3         D3     Chang   32    7900   7/26/1973
#:> 14      C3         D1       Ong   44   17500   8/21/1980
#:> 15      C3         D2      Lily   41   15300   7/17/1990
#:> 16      C3         D3     Sally   54   21000   7/19/1968
#:> 
#:> [14 rows x 6 columns]
\end{verbatim}

\hypertarget{retrieve-all-rows-of-specific-group}{%
\subsubsection{Retrieve All Rows Of Specific Group}\label{retrieve-all-rows-of-specific-group}}

\texttt{get\_group()} retrieves all rows within the specified group.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{com_dep_grp.get_group((}\StringTok{'C1'}\NormalTok{,}\StringTok{'D3'}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>   Company Department      Name  Age  Salary  Birthdate
#:> 3      C1         D3     Jessy   23    2500  3/15/1990
#:> 4      C1         D3  Hoi Ming   55   25000  4/15/1987
#:> 5      C1         D3   Sui Wei   56    3000  6/15/1990
\end{verbatim}

\hypertarget{single-statistic-per-group}{%
\subsection{Single Statistic Per Group}\label{single-statistic-per-group}}

\hypertarget{count}{%
\subsubsection{\texorpdfstring{\texttt{count()}}{count()}}\label{count}}

\texttt{count()} for valid data (not null) for each fields within the group

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{com_dep_grp.count()  }\CommentTok{# return panda DataFrame object}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>                     Name  Age  Salary  Birthdate
#:> Company Department                              
#:> C1      D1             2    2       2          2
#:>         D2             1    1       1          1
#:>         D3             3    3       3          3
#:> C2      D1             1    1       1          1
#:>         D2             3    3       3          3
#:>         D3             3    3       3          3
#:> C3      D1             1    1       1          1
#:>         D2             1    1       1          1
#:>         D3             3    3       3          3
\end{verbatim}

\hypertarget{sum}{%
\subsubsection{\texorpdfstring{\texttt{sum()}}{sum()}}\label{sum}}

This sums up all numeric columns for each group

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{com_dep_grp.}\BuiltInTok{sum}\NormalTok{()}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>                     Age  Salary
#:> Company Department             
#:> C1      D1           80   27000
#:>         D2           34    8000
#:>         D3          134   30500
#:> C2      D1           18     400
#:>         D2          127   34600
#:>         D3           97   39300
#:> C3      D1           44   17500
#:>         D2           41   15300
#:>         D3          123   42400
\end{verbatim}

To sum specific columns of each group, use \texttt{{[}\textquotesingle{}columnName\textquotesingle{}{]}} to select the column.\\
When single column is selected, output is a \textbf{Series}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{com_dep_grp[}\StringTok{'Age'}\NormalTok{].}\BuiltInTok{sum}\NormalTok{()}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> Company  Department
#:> C1       D1             80
#:>          D2             34
#:>          D3            134
#:> C2       D1             18
#:>          D2            127
#:>          D3             97
#:> C3       D1             44
#:>          D2             41
#:>          D3            123
#:> Name: Age, dtype: int64
\end{verbatim}

\hypertarget{mean}{%
\subsubsection{\texorpdfstring{\texttt{mean()}}{mean()}}\label{mean}}

This average up all numeric columns for each group

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{com_dep_grp.mean()}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>                           Age        Salary
#:> Company Department                         
#:> C1      D1          40.000000  13500.000000
#:>         D2          34.000000   8000.000000
#:>         D3          44.666667  10166.666667
#:> C2      D1          18.000000    400.000000
#:>         D2          42.333333  11533.333333
#:>         D3          32.333333  13100.000000
#:> C3      D1          44.000000  17500.000000
#:>         D2          41.000000  15300.000000
#:>         D3          41.000000  14133.333333
\end{verbatim}

To average specific columns of each group, use \texttt{{[}\textquotesingle{}columnName\textquotesingle{}{]}} to select the column.\\
When single column is selected, output is a \textbf{Series}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{com_dep_grp[}\StringTok{'Age'}\NormalTok{].mean()}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> Company  Department
#:> C1       D1            40.000000
#:>          D2            34.000000
#:>          D3            44.666667
#:> C2       D1            18.000000
#:>          D2            42.333333
#:>          D3            32.333333
#:> C3       D1            44.000000
#:>          D2            41.000000
#:>          D3            41.000000
#:> Name: Age, dtype: float64
\end{verbatim}

\hypertarget{multi-statistic-per-group}{%
\subsection{Multi Statistic Per Group}\label{multi-statistic-per-group}}

\hypertarget{single-function-to-columns}{%
\subsubsection{Single Function To Column(s)}\label{single-function-to-columns}}

\begin{itemize}
\tightlist
\item
  Instructions for aggregation are provided in the form of a dictionary. Dictionary keys specifies the \textbf{column name}, and value as the \textbf{function} to run\\
\item
  Can use \textbf{\texttt{lambda\ x:}} to customize the calclulation on entire column (x)\\
\item
  Python built-in function names does can be supplied without wrapping in string \texttt{\textquotesingle{}function\textquotesingle{}}
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{com_dep_grp.agg(\{}
  \StringTok{'Age'}\NormalTok{: }\BuiltInTok{sum}\NormalTok{ ,                 }\CommentTok{## Total age of the group}
  \StringTok{'Salary'}\NormalTok{: }\KeywordTok{lambda}\NormalTok{ x: }\BuiltInTok{max}\NormalTok{(x),  }\CommentTok{## Highest salary of the group}
  \StringTok{'Birthdate'}\NormalTok{: }\StringTok{'first'}         \CommentTok{## First birthday of the group}
\NormalTok{\})}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>                     Age  Salary   Birthdate
#:> Company Department                         
#:> C1      D1           80   15000    1/1/1970
#:>         D2           34    8000   2/19/1977
#:>         D3          134   25000   3/15/1990
#:> C2      D1           18     400   7/15/1997
#:>         D2          127   14000   8/15/1984
#:>         D3           97   17000  11/30/1997
#:> C3      D1           44   17500   8/21/1980
#:>         D2           41   15300   7/17/1990
#:>         D3          123   21000   7/26/1973
\end{verbatim}

\hypertarget{multiple-function-to-columns}{%
\subsubsection{Multiple Function to Column(s)}\label{multiple-function-to-columns}}

\begin{itemize}
\tightlist
\item
  Use list of function names to specify functions to be applied on a particular column\\
\item
  Notice that output columns are MultiIndex , indicating the name of funcitons appled on level 1
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{ag }\OperatorTok{=}\NormalTok{ com_dep_grp.agg(\{}
      \StringTok{'Age'}\NormalTok{: [}\StringTok{'mean'}\NormalTok{, }\BuiltInTok{sum}\NormalTok{ ],       }\CommentTok{## Average age of the group}
      \StringTok{'Salary'}\NormalTok{: }\KeywordTok{lambda}\NormalTok{ x: }\BuiltInTok{max}\NormalTok{(x),  }\CommentTok{## Highest salary of the group}
      \StringTok{'Birthdate'}\NormalTok{: }\StringTok{'first'}         \CommentTok{## First birthday of the group}
\NormalTok{    \})}
    
\BuiltInTok{print}\NormalTok{ (ag, }\StringTok{'}\CharTok{\textbackslash{}n\textbackslash{}n}\StringTok{'}\NormalTok{, ag.columns)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>                           Age        Salary   Birthdate
#:>                          mean  sum <lambda>       first
#:> Company Department                                     
#:> C1      D1          40.000000   80    15000    1/1/1970
#:>         D2          34.000000   34     8000   2/19/1977
#:>         D3          44.666667  134    25000   3/15/1990
#:> C2      D1          18.000000   18      400   7/15/1997
#:>         D2          42.333333  127    14000   8/15/1984
#:>         D3          32.333333   97    17000  11/30/1997
#:> C3      D1          44.000000   44    17500   8/21/1980
#:>         D2          41.000000   41    15300   7/17/1990
#:>         D3          41.000000  123    21000   7/26/1973 
#:> 
#:>  MultiIndex([(      'Age',     'mean'),
#:>             (      'Age',      'sum'),
#:>             (   'Salary', '<lambda>'),
#:>             ('Birthdate',    'first')],
#:>            )
\end{verbatim}

\hypertarget{column-relabling}{%
\subsubsection{Column Relabling}\label{column-relabling}}

Introduced in Pandas 0.25.0, groupby aggregation with relabelling is supported using ``named aggregation'' with \textbf{simple tuples}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{com_dep_grp.agg(}
\NormalTok{  max_age     }\OperatorTok{=}\NormalTok{ (}\StringTok{'Age'}\NormalTok{, }\BuiltInTok{max}\NormalTok{),}
\NormalTok{  salary_m100 }\OperatorTok{=}\NormalTok{ (}\StringTok{'Salary'}\NormalTok{,  }\KeywordTok{lambda}\NormalTok{ x: }\BuiltInTok{max}\NormalTok{(x)}\OperatorTok{+}\DecValTok{100}\NormalTok{),  }
\NormalTok{  first_bd    }\OperatorTok{=}\NormalTok{ (}\StringTok{'Birthdate'}\NormalTok{, }\StringTok{'first'}\NormalTok{)}
\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>                     max_age  salary_m100    first_bd
#:> Company Department                                  
#:> C1      D1               45        15100    1/1/1970
#:>         D2               34         8100   2/19/1977
#:>         D3               56        25100   3/15/1990
#:> C2      D1               18          500   7/15/1997
#:>         D2               51        14100   8/15/1984
#:>         D3               38        17100  11/30/1997
#:> C3      D1               44        17600   8/21/1980
#:>         D2               41        15400   7/17/1990
#:>         D3               54        21100   7/26/1973
\end{verbatim}

\hypertarget{iteration-1}{%
\subsection{Iteration}\label{iteration-1}}

\textbf{DataFrameGroupBy} object can be thought as a collection of named groups

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ print_groups (g):}
    \ControlFlowTok{for}\NormalTok{ name,group }\KeywordTok{in}\NormalTok{ g:}
        \BuiltInTok{print}\NormalTok{ (name)}
        \BuiltInTok{print}\NormalTok{ (group[:}\DecValTok{2}\NormalTok{])}
        
\NormalTok{print_groups (com_grp)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> C1
#:>   Company Department  Name  Age  Salary Birthdate
#:> 0      C1         D1  Yong   45   15000  1/1/1970
#:> 1      C1         D1  Chew   35   12000  2/1/1980
#:> C2
#:>   Company Department     Name  Age  Salary  Birthdate
#:> 6      C2         D1     Anne   18     400  7/15/1997
#:> 7      C2         D2  Deborah   30    8600  8/15/1984
#:> C3
#:>    Company Department   Name  Age  Salary  Birthdate
#:> 13      C3         D3  Chang   32    7900  7/26/1973
#:> 14      C3         D1    Ong   44   17500  8/21/1980
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{com_grp}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> <pandas.core.groupby.generic.DataFrameGroupBy object at 0x7fb447274390>
\end{verbatim}

\hypertarget{transform}{%
\subsection{Transform}\label{transform}}

\begin{itemize}
\tightlist
\item
  Transform is an operation used combined with \textbf{DataFrameGroupBy} object\\
\item
  \textbf{transform()} return a \textbf{new DataFrame object}
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{grp }\OperatorTok{=}\NormalTok{ company.groupby(}\StringTok{'Company'}\NormalTok{)}
\NormalTok{grp.size()}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> Company
#:> C1    6
#:> C2    7
#:> C3    5
#:> dtype: int64
\end{verbatim}

\textbf{transform()} perform a function to a group, and \textbf{expands and replicate} it to multiple rows according to original DataFrame

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{grp[[}\StringTok{'Age'}\NormalTok{,}\StringTok{'Salary'}\NormalTok{]].transform(}\StringTok{'sum'}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>     Age  Salary
#:> 0   248   65500
#:> 1   248   65500
#:> 2   248   65500
#:> 3   248   65500
#:> 4   248   65500
#:> ..  ...     ...
#:> 13  208   75200
#:> 14  208   75200
#:> 15  208   75200
#:> 16  208   75200
#:> 17  208   75200
#:> 
#:> [18 rows x 2 columns]
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{grp.transform( }\KeywordTok{lambda}\NormalTok{ x:x}\OperatorTok{+}\DecValTok{10}\NormalTok{ )}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>     Age  Salary
#:> 0    55   15010
#:> 1    45   12010
#:> 2    44    8010
#:> 3    33    2510
#:> 4    65   25010
#:> ..  ...     ...
#:> 13   42    7910
#:> 14   54   17510
#:> 15   51   15310
#:> 16   64   21010
#:> 17   47   13510
#:> 
#:> [18 rows x 2 columns]
\end{verbatim}

\hypertarget{fundamental-analysis}{%
\section{Fundamental Analysis}\label{fundamental-analysis}}

\hypertarget{missing-data}{%
\section{Missing Data}\label{missing-data}}

\hypertarget{what-is-considered-missing-data}{%
\subsection{What Is Considered Missing Data ?}\label{what-is-considered-missing-data}}

\hypertarget{sample-data-15}{%
\subsection{Sample Data}\label{sample-data-15}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df }\OperatorTok{=}\NormalTok{ pd.DataFrame( np.random.randn(}\DecValTok{5}\NormalTok{, }\DecValTok{3}\NormalTok{), }
\NormalTok{                   index   }\OperatorTok{=}\NormalTok{[}\StringTok{'a'}\NormalTok{, }\StringTok{'c'}\NormalTok{, }\StringTok{'e'}\NormalTok{, }\StringTok{'f'}\NormalTok{, }\StringTok{'h'}\NormalTok{],}
\NormalTok{                   columns }\OperatorTok{=}\NormalTok{[}\StringTok{'one'}\NormalTok{, }\StringTok{'two'}\NormalTok{, }\StringTok{'three'}\NormalTok{])}
\NormalTok{df[}\StringTok{'four'}\NormalTok{] }\OperatorTok{=} \StringTok{'bar'}
\NormalTok{df[}\StringTok{'five'}\NormalTok{] }\OperatorTok{=}\NormalTok{ df[}\StringTok{'one'}\NormalTok{] }\OperatorTok{>} \DecValTok{0}
\CommentTok{#df}
\NormalTok{df.reindex([}\StringTok{'a'}\NormalTok{, }\StringTok{'b'}\NormalTok{, }\StringTok{'c'}\NormalTok{, }\StringTok{'d'}\NormalTok{, }\StringTok{'e'}\NormalTok{, }\StringTok{'f'}\NormalTok{, }\StringTok{'g'}\NormalTok{, }\StringTok{'h'}\NormalTok{])}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>         one       two     three four   five
#:> a -0.155909 -0.501790  0.235569  bar  False
#:> b       NaN       NaN       NaN  NaN    NaN
#:> c -1.763605 -1.095862 -1.087766  bar  False
#:> d       NaN       NaN       NaN  NaN    NaN
#:> e -0.305170 -0.473748 -0.200595  bar  False
#:> f  0.355197  0.689518  0.410590  bar   True
#:> g       NaN       NaN       NaN  NaN    NaN
#:> h -0.564978  0.599391 -0.162936  bar  False
\end{verbatim}

\textbf{How Missing Data For Each Column ?}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df.count()}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> one      5
#:> two      5
#:> three    5
#:> four     5
#:> five     5
#:> dtype: int64
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{len}\NormalTok{(df.index) }\OperatorTok{-}\NormalTok{ df.count()}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> one      0
#:> two      0
#:> three    0
#:> four     0
#:> five     0
#:> dtype: int64
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df.isnull()}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>      one    two  three   four   five
#:> a  False  False  False  False  False
#:> c  False  False  False  False  False
#:> e  False  False  False  False  False
#:> f  False  False  False  False  False
#:> h  False  False  False  False  False
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df.describe()}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>             one       two     three
#:> count  5.000000  5.000000  5.000000
#:> mean  -0.486893 -0.156498 -0.161028
#:> std    0.788635  0.772882  0.579752
#:> min   -1.763605 -1.095862 -1.087766
#:> 25%   -0.564978 -0.501790 -0.200595
#:> 50%   -0.305170 -0.473748 -0.162936
#:> 75%   -0.155909  0.599391  0.235569
#:> max    0.355197  0.689518  0.410590
\end{verbatim}

\hypertarget{matplotlib-1}{%
\chapter{matplotlib}\label{matplotlib-1}}

\hypertarget{library}{%
\section{Library}\label{library}}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ matplotlib}
\ImportTok{import}\NormalTok{ matplotlib.pyplot }\ImportTok{as}\NormalTok{ plt}
\ImportTok{import}\NormalTok{ seaborn }\ImportTok{as}\NormalTok{ sns}
\ImportTok{import}\NormalTok{ numpy }\ImportTok{as}\NormalTok{ np}

\ImportTok{from}\NormalTok{ plydata }\ImportTok{import}\NormalTok{ define, query, select, group_by, summarize, arrange, head, rename}
\ImportTok{import}\NormalTok{ plotnine}
\ImportTok{from}\NormalTok{ plotnine }\ImportTok{import} \OperatorTok{*}
\end{Highlighting}
\end{Shaded}

\hypertarget{sample-data-16}{%
\section{Sample Data}\label{sample-data-16}}

This chapter uses the sample data generate with below code. The idea is to simulate two categorical-alike feature, and two numeric value feature:

\begin{itemize}
\tightlist
\item
  com is random character between ?C1?, ?C2? and ?C3?\\
\item
  dept is random character between ?D1?, ?D2?, ?D3?, ?D4? and ?D5?\\
\item
  grp is random character with randomly generated ?G1?, ?G2?\\
\item
  value1 represents numeric value, normally distributed at mean 50\\
\item
  value2 is numeric value, normally distributed at mean 25
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{n }\OperatorTok{=} \DecValTok{200}
\NormalTok{comp }\OperatorTok{=}\NormalTok{ [}\StringTok{'C'} \OperatorTok{+}\NormalTok{ i }\ControlFlowTok{for}\NormalTok{ i }\KeywordTok{in}\NormalTok{ np.random.randint( }\DecValTok{1}\NormalTok{,}\DecValTok{4}\NormalTok{, size  }\OperatorTok{=}\NormalTok{ n).astype(}\BuiltInTok{str}\NormalTok{)] }\CommentTok{# 3x Company}
\NormalTok{dept }\OperatorTok{=}\NormalTok{ [}\StringTok{'D'} \OperatorTok{+}\NormalTok{ i }\ControlFlowTok{for}\NormalTok{ i }\KeywordTok{in}\NormalTok{ np.random.randint( }\DecValTok{1}\NormalTok{,}\DecValTok{6}\NormalTok{, size  }\OperatorTok{=}\NormalTok{ n).astype(}\BuiltInTok{str}\NormalTok{)] }\CommentTok{# 5x Department}
\NormalTok{grp }\OperatorTok{=}\NormalTok{  [}\StringTok{'G'} \OperatorTok{+}\NormalTok{ i }\ControlFlowTok{for}\NormalTok{ i }\KeywordTok{in}\NormalTok{ np.random.randint( }\DecValTok{1}\NormalTok{,}\DecValTok{3}\NormalTok{, size  }\OperatorTok{=}\NormalTok{ n).astype(}\BuiltInTok{str}\NormalTok{)] }\CommentTok{# 2x Groups}
\NormalTok{value1 }\OperatorTok{=}\NormalTok{ np.random.normal( loc}\OperatorTok{=}\DecValTok{50}\NormalTok{ , scale}\OperatorTok{=}\DecValTok{5}\NormalTok{ , size }\OperatorTok{=}\NormalTok{ n)}
\NormalTok{value2 }\OperatorTok{=}\NormalTok{ np.random.normal( loc}\OperatorTok{=}\DecValTok{20}\NormalTok{ , scale}\OperatorTok{=}\DecValTok{3}\NormalTok{ , size }\OperatorTok{=}\NormalTok{ n)}
\NormalTok{value3 }\OperatorTok{=}\NormalTok{ np.random.normal( loc}\OperatorTok{=}\DecValTok{5}\NormalTok{ , scale}\OperatorTok{=}\DecValTok{30}\NormalTok{ , size }\OperatorTok{=}\NormalTok{ n)}

\NormalTok{mydf }\OperatorTok{=}\NormalTok{ pd.DataFrame(\{}
    \StringTok{'comp'}\NormalTok{:comp, }
    \StringTok{'dept'}\NormalTok{:dept, }
    \StringTok{'grp'}\NormalTok{: grp,}
    \StringTok{'value1'}\NormalTok{:value1, }
    \StringTok{'value2'}\NormalTok{:value2,}
    \StringTok{'value3'}\NormalTok{:value3 \})}
\NormalTok{mydf.head()}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>   comp dept grp     value1     value2     value3
#:> 0   C2   D2  G2  49.608502  17.500645   0.602890
#:> 1   C1   D2  G2  47.062878  20.431398   2.575838
#:> 2   C3   D3  G1  50.374723  21.749204 -52.430562
#:> 3   C2   D1  G1  60.274045  21.612174 -11.886129
#:> 4   C1   D4  G1  46.330035  20.990584 -44.464932
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{mydf.info()}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> <class 'pandas.core.frame.DataFrame'>
#:> RangeIndex: 200 entries, 0 to 199
#:> Data columns (total 6 columns):
#:>  #   Column  Non-Null Count  Dtype  
#:> ---  ------  --------------  -----  
#:>  0   comp    200 non-null    object 
#:>  1   dept    200 non-null    object 
#:>  2   grp     200 non-null    object 
#:>  3   value1  200 non-null    float64
#:>  4   value2  200 non-null    float64
#:>  5   value3  200 non-null    float64
#:> dtypes: float64(3), object(3)
#:> memory usage: 9.5+ KB
\end{verbatim}

\hypertarget{matlab-like-api}{%
\section{MATLAB-like API}\label{matlab-like-api}}

\begin{itemize}
\tightlist
\item
  The good thing about the pylab MATLAB-style API is that it is easy to get started with if you are familiar with MATLAB, and it has a minumum of coding overhead for simple plots.\\
\item
  However, I'd encourrage not using the MATLAB compatible API for anything but the simplest figures.\\
\item
  Instead, I recommend learning and using matplotlib's object-oriented plotting API. It is remarkably powerful. For advanced figures with subplots, insets and other components it is very nice to work with.
\end{itemize}

\hypertarget{sample-data-17}{%
\subsection{Sample Data}\label{sample-data-17}}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{# Sample Data}
\NormalTok{x }\OperatorTok{=}\NormalTok{ np.linspace(}\DecValTok{0}\NormalTok{,}\DecValTok{5}\NormalTok{,}\DecValTok{10}\NormalTok{)}
\NormalTok{y }\OperatorTok{=}\NormalTok{ x }\OperatorTok{**} \DecValTok{2}
\end{Highlighting}
\end{Shaded}

\hypertarget{single-plot}{%
\subsection{Single Plot}\label{single-plot}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{plt.figure()}
\NormalTok{plt.xlabel(}\StringTok{'x'}\NormalTok{)}
\NormalTok{plt.ylabel(}\StringTok{'y'}\NormalTok{)}
\NormalTok{plt.plot(x,y,}\StringTok{'red'}\NormalTok{)}
\NormalTok{plt.title(}\StringTok{'My Good Data'}\NormalTok{)}
\NormalTok{plt.show()}
\end{Highlighting}
\end{Shaded}

\includegraphics[width=0.9\linewidth]{04-visualization_files/figure-latex/unnamed-chunk-8-1}

\hypertarget{multiple-subplots}{%
\subsection{Multiple Subplots}\label{multiple-subplots}}

Each call lto \textbf{subplot()} will create a new container for subsequent plot command

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{plt.figure()}
\NormalTok{plt.subplot(}\DecValTok{1}\NormalTok{,}\DecValTok{2}\NormalTok{,}\DecValTok{1}\NormalTok{) }\CommentTok{# 1 row, 2 cols, at first box}
\NormalTok{plt.plot(x,y,}\StringTok{'r--'}\NormalTok{)}
\NormalTok{plt.subplot(}\DecValTok{1}\NormalTok{,}\DecValTok{2}\NormalTok{,}\DecValTok{2}\NormalTok{) }\CommentTok{# 1 row, 2 cols, at second box}
\NormalTok{plt.plot(y,x,}\StringTok{'g*-'}\NormalTok{)}
\NormalTok{plt.show()}
\end{Highlighting}
\end{Shaded}

\includegraphics[width=0.9\linewidth]{04-visualization_files/figure-latex/unnamed-chunk-9-1}

\hypertarget{object-oriented-api}{%
\section{Object-Oriented API}\label{object-oriented-api}}

\hypertarget{sample-data-18}{%
\subsection{Sample Data}\label{sample-data-18}}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{# Sample Data}
\NormalTok{x }\OperatorTok{=}\NormalTok{ np.linspace(}\DecValTok{0}\NormalTok{,}\DecValTok{5}\NormalTok{,}\DecValTok{10}\NormalTok{)}
\NormalTok{y }\OperatorTok{=}\NormalTok{ x }\OperatorTok{**} \DecValTok{2}
\end{Highlighting}
\end{Shaded}

\hypertarget{single-plot-1}{%
\subsection{Single Plot}\label{single-plot-1}}

\textbf{One figure, one axes}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{fig }\OperatorTok{=}\NormalTok{ plt.figure()}
\NormalTok{axes }\OperatorTok{=}\NormalTok{ fig.add_axes([}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{1}\NormalTok{]) }\CommentTok{# left, bottom, width, height (range 0 to 1)}
\NormalTok{axes.plot(x, y, }\StringTok{'r'}\NormalTok{)}
\NormalTok{axes.set_xlabel(}\StringTok{'x'}\NormalTok{)}
\NormalTok{axes.set_ylabel(}\StringTok{'y'}\NormalTok{)}
\NormalTok{axes.set_title(}\StringTok{'title'}\NormalTok{)}
\NormalTok{plt.show()}
\end{Highlighting}
\end{Shaded}

\includegraphics[width=0.9\linewidth]{04-visualization_files/figure-latex/unnamed-chunk-11-1}

\hypertarget{multiple-axes-in-one-plot}{%
\subsection{Multiple Axes In One Plot}\label{multiple-axes-in-one-plot}}

\begin{itemize}
\tightlist
\item
  This is still considered a \textbf{single plot}, but with \textbf{multiple axes}
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{fig }\OperatorTok{=}\NormalTok{ plt.figure()}
\NormalTok{ax1 }\OperatorTok{=}\NormalTok{ fig.add_axes([}\DecValTok{0}\NormalTok{, }\DecValTok{0}\NormalTok{, }\DecValTok{1}\NormalTok{, }\DecValTok{1}\NormalTok{])         }\CommentTok{# main axes}
\NormalTok{ax2 }\OperatorTok{=}\NormalTok{ fig.add_axes([}\FloatTok{0.2}\NormalTok{, }\FloatTok{0.5}\NormalTok{, }\FloatTok{0.4}\NormalTok{, }\FloatTok{0.3}\NormalTok{]) }\CommentTok{# inset axes}

\NormalTok{ax1.plot(x,y,}\StringTok{'r'}\NormalTok{)}
\NormalTok{ax1.set_xlabel(}\StringTok{'x'}\NormalTok{)}
\NormalTok{ax1.set_ylabel(}\StringTok{'y'}\NormalTok{)}

\NormalTok{ax2.plot(y, x, }\StringTok{'g'}\NormalTok{)}
\NormalTok{ax2.set_xlabel(}\StringTok{'y'}\NormalTok{)}
\NormalTok{ax2.set_ylabel(}\StringTok{'x'}\NormalTok{)}
\NormalTok{ax2.set_title(}\StringTok{'insert title'}\NormalTok{)}
\NormalTok{plt.show()}
\end{Highlighting}
\end{Shaded}

\includegraphics[width=0.9\linewidth]{04-visualization_files/figure-latex/unnamed-chunk-12-1}

\hypertarget{multiple-subplots-1}{%
\subsection{Multiple Subplots}\label{multiple-subplots-1}}

\begin{itemize}
\tightlist
\item
  One \textbf{figure} can contain multiple \textbf{subplots}\\
\item
  Each subplot has \textbf{one axes}
\end{itemize}

\hypertarget{simple-subplots---all-same-size}{%
\subsubsection{Simple Subplots - all same size}\label{simple-subplots---all-same-size}}

\begin{itemize}
\tightlist
\item
  subplots() function return axes object that is iterable.
\end{itemize}

\textbf{Single Row Grid}\\
Single row grid means axes is an 1-D array. Hence can use \textbf{for} to iterate through axes

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{fig, axes }\OperatorTok{=}\NormalTok{ plt.subplots( nrows}\OperatorTok{=}\DecValTok{1}\NormalTok{,ncols}\OperatorTok{=}\DecValTok{3}\NormalTok{ )}
\BuiltInTok{print}\NormalTok{ (axes.shape)}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\ControlFlowTok{for}\NormalTok{ ax }\KeywordTok{in}\NormalTok{ axes:}
\NormalTok{    ax.plot(x, y, }\StringTok{'r'}\NormalTok{)}
\NormalTok{    ax.set_xlabel(}\StringTok{'x'}\NormalTok{)}
\NormalTok{    ax.set_ylabel(}\StringTok{'y'}\NormalTok{)}
\NormalTok{    ax.set_title(}\StringTok{'title'}\NormalTok{)}
\NormalTok{    ax.text(}\FloatTok{0.2}\NormalTok{,}\FloatTok{0.5}\NormalTok{,}\StringTok{'One'}\NormalTok{)}
\NormalTok{plt.show()}
\end{Highlighting}
\end{Shaded}

\includegraphics[width=0.9\linewidth]{04-visualization_files/figure-latex/unnamed-chunk-13-1}

\textbf{Multiple Row Grid}\\
Multile row grid means axes is an 2-D array. Hence can use two levels of \textbf{for} loop to iterate through each row and column

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{fig, axes }\OperatorTok{=}\NormalTok{ plt.subplots(}\DecValTok{2}\NormalTok{, }\DecValTok{3}\NormalTok{, sharex}\OperatorTok{=}\StringTok{'col'}\NormalTok{, sharey}\OperatorTok{=}\StringTok{'row'}\NormalTok{)}
\BuiltInTok{print}\NormalTok{ (axes.shape)}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\ControlFlowTok{for}\NormalTok{ i }\KeywordTok{in} \BuiltInTok{range}\NormalTok{(axes.shape[}\DecValTok{0}\NormalTok{]):}
    \ControlFlowTok{for}\NormalTok{ j }\KeywordTok{in} \BuiltInTok{range}\NormalTok{(axes.shape[}\DecValTok{1}\NormalTok{]):}
\NormalTok{        axes[i, j].text(}\FloatTok{0.5}\NormalTok{, }\FloatTok{0.5}\NormalTok{, }\BuiltInTok{str}\NormalTok{((i, j)),}
\NormalTok{                      fontsize}\OperatorTok{=}\DecValTok{18}\NormalTok{, ha}\OperatorTok{=}\StringTok{'center'}\NormalTok{)}
\NormalTok{plt.show()}
\end{Highlighting}
\end{Shaded}

\includegraphics[width=0.9\linewidth]{04-visualization_files/figure-latex/unnamed-chunk-14-1}

\hypertarget{complicated-subplots---different-size}{%
\subsubsection{Complicated Subplots - different size}\label{complicated-subplots---different-size}}

\begin{itemize}
\tightlist
\item
  \textbf{GridSpec} specify grid size of the figure\\
\item
  Manually specify each subplot and their relevant grid position and size
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{plt.figure(figsize}\OperatorTok{=}\NormalTok{(}\DecValTok{5}\NormalTok{,}\DecValTok{5}\NormalTok{))}
\NormalTok{grid }\OperatorTok{=}\NormalTok{ plt.GridSpec(}\DecValTok{2}\NormalTok{, }\DecValTok{3}\NormalTok{, hspace}\OperatorTok{=}\FloatTok{0.4}\NormalTok{, wspace}\OperatorTok{=}\FloatTok{0.4}\NormalTok{)}
\NormalTok{plt.subplot(grid[}\DecValTok{0}\NormalTok{, }\DecValTok{0}\NormalTok{])  }\CommentTok{#row 0, col 0}
\NormalTok{plt.subplot(grid[}\DecValTok{0}\NormalTok{, }\DecValTok{1}\NormalTok{:]) }\CommentTok{#row 0, col 1 to :}
\NormalTok{plt.subplot(grid[}\DecValTok{1}\NormalTok{, :}\DecValTok{2}\NormalTok{]) }\CommentTok{#row 1, col 0:2 }
\NormalTok{plt.subplot(grid[}\DecValTok{1}\NormalTok{, }\DecValTok{2}\NormalTok{])}\OperatorTok{;} \CommentTok{#row 1, col 2}
\NormalTok{plt.show()}
\end{Highlighting}
\end{Shaded}

\includegraphics[width=0.9\linewidth]{04-visualization_files/figure-latex/unnamed-chunk-15-1}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{plt.figure(figsize}\OperatorTok{=}\NormalTok{(}\DecValTok{5}\NormalTok{,}\DecValTok{5}\NormalTok{))}
\NormalTok{grid }\OperatorTok{=}\NormalTok{ plt.GridSpec(}\DecValTok{4}\NormalTok{, }\DecValTok{4}\NormalTok{, hspace}\OperatorTok{=}\FloatTok{0.8}\NormalTok{, wspace}\OperatorTok{=}\FloatTok{0.4}\NormalTok{)}
\NormalTok{plt.subplot(grid[:}\DecValTok{3}\NormalTok{, }\DecValTok{0}\NormalTok{])    }\CommentTok{# row 0:3, col 0}
\NormalTok{plt.subplot(grid[:}\DecValTok{3}\NormalTok{, }\DecValTok{1}\NormalTok{: ])  }\CommentTok{# row 0:3, col 1:}
\NormalTok{plt.subplot(grid[}\DecValTok{3}\NormalTok{, }\DecValTok{1}\NormalTok{: ])}\OperatorTok{;}  \CommentTok{# row 3,   col 1:}
\NormalTok{plt.show()}
\end{Highlighting}
\end{Shaded}

\includegraphics[width=0.9\linewidth]{04-visualization_files/figure-latex/unnamed-chunk-16-1}

\textbf{-1 means last row or column}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{plt.figure(figsize}\OperatorTok{=}\NormalTok{(}\DecValTok{6}\NormalTok{,}\DecValTok{6}\NormalTok{))}
\NormalTok{grid }\OperatorTok{=}\NormalTok{ plt.GridSpec(}\DecValTok{4}\NormalTok{, }\DecValTok{4}\NormalTok{, hspace}\OperatorTok{=}\FloatTok{0.4}\NormalTok{, wspace}\OperatorTok{=}\FloatTok{1.2}\NormalTok{)}
\NormalTok{plt.subplot(grid[:}\OperatorTok{-}\DecValTok{1}\NormalTok{, }\DecValTok{0}\NormalTok{ ])  }\CommentTok{# row 0 till last row (not including last row), col 0}
\NormalTok{plt.subplot(grid[:}\OperatorTok{-}\DecValTok{1}\NormalTok{, }\DecValTok{1}\NormalTok{:])  }\CommentTok{# row 0 till last row (not including last row), col 1 till end}
\NormalTok{plt.subplot(grid[}\OperatorTok{-}\DecValTok{1}\NormalTok{, }\DecValTok{1}\NormalTok{: ])}\OperatorTok{;} \CommentTok{# row last row, col 1 till end}
\NormalTok{plt.show()}
\end{Highlighting}
\end{Shaded}

\includegraphics[width=0.9\linewidth]{04-visualization_files/figure-latex/unnamed-chunk-17-1}

\hypertarget{figure-customization}{%
\subsection{Figure Customization}\label{figure-customization}}

\hypertarget{avoid-overlap---use-tight_layout}{%
\subsubsection{Avoid Overlap - Use tight\_layout()}\label{avoid-overlap---use-tight_layout}}

Sometimes when the figure size is too small, plots will overlap each other. - \textbf{tight\_layout()} will introduce extra white space in between the subplots to avoid overlap.\\
- The figure became wider.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{fig, axes }\OperatorTok{=}\NormalTok{ plt.subplots( nrows}\OperatorTok{=}\DecValTok{1}\NormalTok{,ncols}\OperatorTok{=}\DecValTok{2}\NormalTok{)}
\ControlFlowTok{for}\NormalTok{ ax }\KeywordTok{in}\NormalTok{ axes:}
\NormalTok{    ax.plot(x, y, }\StringTok{'r'}\NormalTok{)}
\NormalTok{    ax.set_xlabel(}\StringTok{'x'}\NormalTok{)}
\NormalTok{    ax.set_ylabel(}\StringTok{'y'}\NormalTok{)}
\NormalTok{    ax.set_title(}\StringTok{'title'}\NormalTok{)}
\NormalTok{fig.tight_layout() }\CommentTok{# adjust the positions of axes so that there is no overlap}
\NormalTok{plt.show()}
\end{Highlighting}
\end{Shaded}

\includegraphics[width=0.9\linewidth]{04-visualization_files/figure-latex/unnamed-chunk-18-1}

\hypertarget{avoid-overlap---change-figure-size}{%
\subsubsection{Avoid Overlap - Change Figure Size}\label{avoid-overlap---change-figure-size}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{fig, axes }\OperatorTok{=}\NormalTok{ plt.subplots( nrows}\OperatorTok{=}\DecValTok{1}\NormalTok{,ncols}\OperatorTok{=}\DecValTok{2}\NormalTok{,figsize}\OperatorTok{=}\NormalTok{(}\DecValTok{12}\NormalTok{,}\DecValTok{3}\NormalTok{))}
\ControlFlowTok{for}\NormalTok{ ax }\KeywordTok{in}\NormalTok{ axes:}
\NormalTok{    ax.plot(x, y, }\StringTok{'r'}\NormalTok{)}
\NormalTok{    ax.set_xlabel(}\StringTok{'x'}\NormalTok{)}
\NormalTok{    ax.set_ylabel(}\StringTok{'y'}\NormalTok{)}
\NormalTok{    ax.set_title(}\StringTok{'title'}\NormalTok{)}
\NormalTok{plt.show()}
\end{Highlighting}
\end{Shaded}

\includegraphics[width=0.9\linewidth]{04-visualization_files/figure-latex/unnamed-chunk-19-1}

\hypertarget{text-within-figure}{%
\subsubsection{Text Within Figure}\label{text-within-figure}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{fig }\OperatorTok{=}\NormalTok{ plt.figure()}
\NormalTok{fig.text(}\FloatTok{0.5}\NormalTok{, }\FloatTok{0.5}\NormalTok{, }\StringTok{'This Is A Sample'}\NormalTok{,fontsize}\OperatorTok{=}\DecValTok{18}\NormalTok{, ha}\OperatorTok{=}\StringTok{'center'}\NormalTok{)}\OperatorTok{;}
\NormalTok{axes }\OperatorTok{=}\NormalTok{ fig.add_axes([}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{1}\NormalTok{]) }\CommentTok{# left, bottom, width, height (range 0 to 1)}
\NormalTok{plt.show()}
\end{Highlighting}
\end{Shaded}

\includegraphics[width=0.9\linewidth]{04-visualization_files/figure-latex/unnamed-chunk-20-1}

\hypertarget{axes-customization}{%
\subsection{Axes Customization}\label{axes-customization}}

\hypertarget{y-axis-limit}{%
\subsubsection{Y-Axis Limit}\label{y-axis-limit}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{fig }\OperatorTok{=}\NormalTok{ plt.figure()}
\NormalTok{fig.add_axes([}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{1}\NormalTok{], ylim}\OperatorTok{=}\NormalTok{(}\OperatorTok{-}\DecValTok{2}\NormalTok{,}\DecValTok{5}\NormalTok{))}\OperatorTok{;}
\NormalTok{plt.show()}
\end{Highlighting}
\end{Shaded}

\includegraphics[width=0.9\linewidth]{04-visualization_files/figure-latex/unnamed-chunk-21-1}

\hypertarget{text-within-axes}{%
\subsubsection{Text Within Axes}\label{text-within-axes}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{fig, ax }\OperatorTok{=}\NormalTok{ plt.subplots(}\DecValTok{2}\NormalTok{, }\DecValTok{3}\NormalTok{, sharex}\OperatorTok{=}\StringTok{'col'}\NormalTok{, sharey}\OperatorTok{=}\StringTok{'row'}\NormalTok{)}
\ControlFlowTok{for}\NormalTok{ i }\KeywordTok{in} \BuiltInTok{range}\NormalTok{(}\DecValTok{2}\NormalTok{):}
    \ControlFlowTok{for}\NormalTok{ j }\KeywordTok{in} \BuiltInTok{range}\NormalTok{(}\DecValTok{3}\NormalTok{):}
\NormalTok{        ax[i, j].text(}\FloatTok{0.5}\NormalTok{, }\FloatTok{0.5}\NormalTok{, }\BuiltInTok{str}\NormalTok{((i, j)),}
\NormalTok{                      fontsize}\OperatorTok{=}\DecValTok{18}\NormalTok{, ha}\OperatorTok{=}\StringTok{'center'}\NormalTok{)}
\NormalTok{plt.show()}
\end{Highlighting}
\end{Shaded}

\includegraphics[width=0.9\linewidth]{04-visualization_files/figure-latex/unnamed-chunk-22-1}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{plt.text(}\FloatTok{0.5}\NormalTok{, }\FloatTok{0.5}\NormalTok{, }\StringTok{'one'}\NormalTok{,fontsize}\OperatorTok{=}\DecValTok{18}\NormalTok{, ha}\OperatorTok{=}\StringTok{'center'}\NormalTok{)}
\NormalTok{plt.show()}
\end{Highlighting}
\end{Shaded}

\includegraphics[width=0.9\linewidth]{04-visualization_files/figure-latex/unnamed-chunk-23-1}

\hypertarget{share-y-axis-label}{%
\subsubsection{Share Y Axis Label}\label{share-y-axis-label}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{fig, ax }\OperatorTok{=}\NormalTok{ plt.subplots(}\DecValTok{2}\NormalTok{, }\DecValTok{3}\NormalTok{, sharex}\OperatorTok{=}\StringTok{'col'}\NormalTok{, sharey}\OperatorTok{=}\StringTok{'row'}\NormalTok{) }\CommentTok{# removed inner label}
\NormalTok{plt.show()}
\end{Highlighting}
\end{Shaded}

\includegraphics[width=0.9\linewidth]{04-visualization_files/figure-latex/unnamed-chunk-24-1}

\hypertarget{create-subplot-individually}{%
\subsubsection{Create Subplot Individually}\label{create-subplot-individually}}

Each call lto \textbf{subplot()} will create a new container for subsequent plot command

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{plt.subplot(}\DecValTok{2}\NormalTok{,}\DecValTok{4}\NormalTok{,}\DecValTok{1}\NormalTok{)}
\NormalTok{plt.text(}\FloatTok{0.5}\NormalTok{, }\FloatTok{0.5}\NormalTok{, }\StringTok{'one'}\NormalTok{,fontsize}\OperatorTok{=}\DecValTok{18}\NormalTok{, ha}\OperatorTok{=}\StringTok{'center'}\NormalTok{)}

\NormalTok{plt.subplot(}\DecValTok{2}\NormalTok{,}\DecValTok{4}\NormalTok{,}\DecValTok{8}\NormalTok{)}
\NormalTok{plt.text(}\FloatTok{0.5}\NormalTok{, }\FloatTok{0.5}\NormalTok{, }\StringTok{'eight'}\NormalTok{,fontsize}\OperatorTok{=}\DecValTok{18}\NormalTok{, ha}\OperatorTok{=}\StringTok{'center'}\NormalTok{)}
\NormalTok{plt.show()}
\end{Highlighting}
\end{Shaded}

\includegraphics[width=0.9\linewidth]{04-visualization_files/figure-latex/unnamed-chunk-25-1}

\textbf{Iterate through subplots (ax) to populate them}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{fig, ax }\OperatorTok{=}\NormalTok{ plt.subplots(}\DecValTok{2}\NormalTok{, }\DecValTok{3}\NormalTok{, sharex}\OperatorTok{=}\StringTok{'col'}\NormalTok{, sharey}\OperatorTok{=}\StringTok{'row'}\NormalTok{)}
\ControlFlowTok{for}\NormalTok{ i }\KeywordTok{in} \BuiltInTok{range}\NormalTok{(}\DecValTok{2}\NormalTok{):}
    \ControlFlowTok{for}\NormalTok{ j }\KeywordTok{in} \BuiltInTok{range}\NormalTok{(}\DecValTok{3}\NormalTok{):}
\NormalTok{        ax[i, j].text(}\FloatTok{0.5}\NormalTok{, }\FloatTok{0.5}\NormalTok{, }\BuiltInTok{str}\NormalTok{((i, j)),}
\NormalTok{                      fontsize}\OperatorTok{=}\DecValTok{18}\NormalTok{, ha}\OperatorTok{=}\StringTok{'center'}\NormalTok{)}
\NormalTok{plt.show()}
\end{Highlighting}
\end{Shaded}

\includegraphics[width=0.9\linewidth]{04-visualization_files/figure-latex/unnamed-chunk-26-1}

\hypertarget{histogram}{%
\section{Histogram}\label{histogram}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{plt.hist(mydf.value1, bins}\OperatorTok{=}\DecValTok{12}\NormalTok{)}\OperatorTok{;}
\NormalTok{plt.show()}
\end{Highlighting}
\end{Shaded}

\includegraphics[width=0.9\linewidth]{04-visualization_files/figure-latex/unnamed-chunk-27-1}

\hypertarget{scatter-plot}{%
\section{Scatter Plot}\label{scatter-plot}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{plt.scatter(mydf.value1, mydf.value2)}
\NormalTok{plt.show()}
\end{Highlighting}
\end{Shaded}

\includegraphics[width=0.9\linewidth]{04-visualization_files/figure-latex/unnamed-chunk-28-1}

\hypertarget{bar-chart}{%
\section{Bar Chart}\label{bar-chart}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{com_grp }\OperatorTok{=}\NormalTok{ mydf.groupby(}\StringTok{'comp'}\NormalTok{)}
\NormalTok{grpdf }\OperatorTok{=}\NormalTok{ com_grp[}\StringTok{'value1'}\NormalTok{].}\BuiltInTok{sum}\NormalTok{().reset_index()}
\NormalTok{grpdf}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{plt.bar(grpdf.comp, grpdf.value1)}\OperatorTok{;}
\NormalTok{plt.xlabel(}\StringTok{'Company'}\NormalTok{)}
\NormalTok{plt.ylabel(}\StringTok{'Sum of Value 1'}\NormalTok{)}
\NormalTok{plt.show()}
\end{Highlighting}
\end{Shaded}

\includegraphics[width=0.9\linewidth]{04-visualization_files/figure-latex/unnamed-chunk-30-1}

\hypertarget{seaborn}{%
\chapter{seaborn}\label{seaborn}}

\hypertarget{seaborn-and-matplotlib}{%
\section{Seaborn and Matplotlib}\label{seaborn-and-matplotlib}}

\begin{itemize}
\tightlist
\item
  seaborn \textbf{returns a matplotlib object} that can be modified by the options in the pyplot module\\
\item
  Often, these options are wrapped by seaborn and .plot() in pandas and available as arguments
\end{itemize}

\hypertarget{sample-data-19}{%
\section{Sample Data}\label{sample-data-19}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{n }\OperatorTok{=} \DecValTok{100}
\NormalTok{comp }\OperatorTok{=}\NormalTok{ [}\StringTok{'C'} \OperatorTok{+}\NormalTok{ i }\ControlFlowTok{for}\NormalTok{ i }\KeywordTok{in}\NormalTok{ np.random.randint( }\DecValTok{1}\NormalTok{,}\DecValTok{4}\NormalTok{, size  }\OperatorTok{=}\NormalTok{ n).astype(}\BuiltInTok{str}\NormalTok{)] }\CommentTok{# 3x Company}
\NormalTok{dept }\OperatorTok{=}\NormalTok{ [}\StringTok{'D'} \OperatorTok{+}\NormalTok{ i }\ControlFlowTok{for}\NormalTok{ i }\KeywordTok{in}\NormalTok{ np.random.randint( }\DecValTok{1}\NormalTok{,}\DecValTok{4}\NormalTok{, size  }\OperatorTok{=}\NormalTok{ n).astype(}\BuiltInTok{str}\NormalTok{)] }\CommentTok{# 5x Department}
\NormalTok{grp }\OperatorTok{=}\NormalTok{  [}\StringTok{'G'} \OperatorTok{+}\NormalTok{ i }\ControlFlowTok{for}\NormalTok{ i }\KeywordTok{in}\NormalTok{ np.random.randint( }\DecValTok{1}\NormalTok{,}\DecValTok{4}\NormalTok{, size  }\OperatorTok{=}\NormalTok{ n).astype(}\BuiltInTok{str}\NormalTok{)] }\CommentTok{# 2x Groups}
\NormalTok{value1 }\OperatorTok{=}\NormalTok{ np.random.normal( loc}\OperatorTok{=}\DecValTok{50}\NormalTok{ , scale}\OperatorTok{=}\DecValTok{5}\NormalTok{ , size }\OperatorTok{=}\NormalTok{ n)}
\NormalTok{value2 }\OperatorTok{=}\NormalTok{ np.random.normal( loc}\OperatorTok{=}\DecValTok{20}\NormalTok{ , scale}\OperatorTok{=}\DecValTok{3}\NormalTok{ , size }\OperatorTok{=}\NormalTok{ n)}
\NormalTok{value3 }\OperatorTok{=}\NormalTok{ np.random.normal( loc}\OperatorTok{=}\DecValTok{5}\NormalTok{ , scale}\OperatorTok{=}\DecValTok{30}\NormalTok{ , size }\OperatorTok{=}\NormalTok{ n)}

\NormalTok{mydf }\OperatorTok{=}\NormalTok{ pd.DataFrame(\{}
    \StringTok{'comp'}\NormalTok{:comp, }
    \StringTok{'dept'}\NormalTok{:dept, }
    \StringTok{'grp'}\NormalTok{: grp,}
    \StringTok{'value1'}\NormalTok{:value1, }
    \StringTok{'value2'}\NormalTok{:value2,}
    \StringTok{'value3'}\NormalTok{:value3 }
\NormalTok{\})}
\NormalTok{mydf.head()}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>   comp dept grp     value1     value2     value3
#:> 0   C2   D2  G3  47.439493  19.427984 -23.055955
#:> 1   C1   D1  G2  49.189873  20.467887  17.385832
#:> 2   C2   D3  G2  49.362072  22.679397  19.615126
#:> 3   C3   D3  G2  48.437856  24.493254   4.617160
#:> 4   C3   D1  G3  58.568376  20.591353   8.519390
\end{verbatim}

\hypertarget{scatter-plot-1}{%
\section{Scatter Plot}\label{scatter-plot-1}}

\hypertarget{x-numeric}{%
\subsection{2x Numeric}\label{x-numeric}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{sns.lmplot(x}\OperatorTok{=}\StringTok{'value1'}\NormalTok{, y}\OperatorTok{=}\StringTok{'value2'}\NormalTok{, data}\OperatorTok{=}\NormalTok{mydf)}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{plt.show()}
\end{Highlighting}
\end{Shaded}

\includegraphics[width=0.9\linewidth]{04-visualization_files/figure-latex/unnamed-chunk-32-1}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{sns.lmplot(x}\OperatorTok{=}\StringTok{'value1'}\NormalTok{, y}\OperatorTok{=}\StringTok{'value2'}\NormalTok{, fit_reg}\OperatorTok{=}\VariableTok{False}\NormalTok{, data}\OperatorTok{=}\NormalTok{mydf)}\OperatorTok{;}  \CommentTok{#hide regresion line}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{plt.show()}
\end{Highlighting}
\end{Shaded}

\includegraphics[width=0.9\linewidth]{04-visualization_files/figure-latex/unnamed-chunk-33-1}

\hypertarget{xnumeric-1x-categorical}{%
\subsection{2xNumeric + 1x Categorical}\label{xnumeric-1x-categorical}}

Use \textbf{hue} to represent additional categorical feature

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{sns.lmplot(x}\OperatorTok{=}\StringTok{'value1'}\NormalTok{, y}\OperatorTok{=}\StringTok{'value2'}\NormalTok{, data}\OperatorTok{=}\NormalTok{mydf, hue}\OperatorTok{=}\StringTok{'comp'}\NormalTok{, fit_reg}\OperatorTok{=}\VariableTok{False}\NormalTok{)}\OperatorTok{;}
\NormalTok{plt.show()}
\end{Highlighting}
\end{Shaded}

\includegraphics[width=0.9\linewidth]{04-visualization_files/figure-latex/unnamed-chunk-34-1}

\hypertarget{xnumeric-2x-categorical}{%
\subsection{2xNumeric + 2x Categorical}\label{xnumeric-2x-categorical}}

Use \textbf{col} and \textbf{hue} to represent two categorical features

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{sns.lmplot(x}\OperatorTok{=}\StringTok{'value1'}\NormalTok{, y}\OperatorTok{=}\StringTok{'value2'}\NormalTok{, col}\OperatorTok{=}\StringTok{'comp'}\NormalTok{,hue}\OperatorTok{=}\StringTok{'grp'}\NormalTok{, fit_reg}\OperatorTok{=}\VariableTok{False}\NormalTok{, data}\OperatorTok{=}\NormalTok{mydf)}\OperatorTok{;}
\NormalTok{plt.show()}
\end{Highlighting}
\end{Shaded}

\includegraphics[width=0.9\linewidth]{04-visualization_files/figure-latex/unnamed-chunk-35-1}

\hypertarget{xnumeric-3x-categorical}{%
\subsection{2xNumeric + 3x Categorical}\label{xnumeric-3x-categorical}}

Use \textbf{row, col} and \textbf{hue} to represent three categorical features

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{sns.lmplot(x}\OperatorTok{=}\StringTok{'value1'}\NormalTok{, y}\OperatorTok{=}\StringTok{'value2'}\NormalTok{, row}\OperatorTok{=}\StringTok{'dept'}\NormalTok{,col}\OperatorTok{=}\StringTok{'comp'}\NormalTok{, hue}\OperatorTok{=}\StringTok{'grp'}\NormalTok{, fit_reg}\OperatorTok{=}\VariableTok{False}\NormalTok{, data}\OperatorTok{=}\NormalTok{mydf)}\OperatorTok{;}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{plt.show()}
\end{Highlighting}
\end{Shaded}

\includegraphics[width=0.9\linewidth]{04-visualization_files/figure-latex/unnamed-chunk-36-1}

\hypertarget{customization}{%
\subsection{Customization}\label{customization}}

\hypertarget{size}{%
\subsubsection{size}\label{size}}

size: \textbf{height} in inch for each facet

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{sns.lmplot(x}\OperatorTok{=}\StringTok{'value1'}\NormalTok{, y}\OperatorTok{=}\StringTok{'value2'}\NormalTok{, col}\OperatorTok{=}\StringTok{'comp'}\NormalTok{,hue}\OperatorTok{=}\StringTok{'grp'}\NormalTok{, size}\OperatorTok{=}\DecValTok{3}\NormalTok{,fit_reg}\OperatorTok{=}\VariableTok{False}\NormalTok{, data}\OperatorTok{=}\NormalTok{mydf)}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{plt.show()}
\end{Highlighting}
\end{Shaded}

\includegraphics[width=0.9\linewidth]{04-visualization_files/figure-latex/unnamed-chunk-37-1}

Observe that even \textbf{size is very large}, lmplot will \textbf{fit (shrink) everything into one row} by deafult. See example below.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{sns.lmplot(x}\OperatorTok{=}\StringTok{'value1'}\NormalTok{, y}\OperatorTok{=}\StringTok{'value2'}\NormalTok{, col}\OperatorTok{=}\StringTok{'comp'}\NormalTok{,hue}\OperatorTok{=}\StringTok{'grp'}\NormalTok{, size}\OperatorTok{=}\DecValTok{5}\NormalTok{,fit_reg}\OperatorTok{=}\VariableTok{False}\NormalTok{, data}\OperatorTok{=}\NormalTok{mydf)}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{plt.show()}
\end{Highlighting}
\end{Shaded}

\includegraphics[width=0.9\linewidth]{04-visualization_files/figure-latex/unnamed-chunk-38-1}

\hypertarget{col_wrap}{%
\subsubsection{col\_wrap}\label{col_wrap}}

To avoid lmplot from shrinking the chart, we use \textbf{col\_wrap=\textless col\_number} to wrap the output.\\
Compare the size (height of each facet) with the above \textbf{without} col\_wrap. Below chart is larger.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{sns.lmplot(x}\OperatorTok{=}\StringTok{'value1'}\NormalTok{, y}\OperatorTok{=}\StringTok{'value2'}\NormalTok{, col}\OperatorTok{=}\StringTok{'comp'}\NormalTok{,hue}\OperatorTok{=}\StringTok{'grp'}\NormalTok{, size}\OperatorTok{=}\DecValTok{5}\NormalTok{, col_wrap}\OperatorTok{=}\DecValTok{2}\NormalTok{, fit_reg}\OperatorTok{=}\VariableTok{False}\NormalTok{, data}\OperatorTok{=}\NormalTok{mydf)}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{plt.show()}
\end{Highlighting}
\end{Shaded}

\includegraphics[width=0.9\linewidth]{04-visualization_files/figure-latex/unnamed-chunk-39-1}

\hypertarget{histogram-1}{%
\section{Histogram}\label{histogram-1}}

\begin{verbatim}
seaborn.distplot(
  a,               # Series, 1D Array or List
  bins=None,
  hist=True,
  rug = False,
  vertical=False
)
\end{verbatim}

\hypertarget{x-numeric-1}{%
\subsection{1x Numeric}\label{x-numeric-1}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{sns.distplot(mydf.value1)}
\NormalTok{plt.show()}
\end{Highlighting}
\end{Shaded}

\includegraphics[width=0.9\linewidth]{04-visualization_files/figure-latex/unnamed-chunk-40-1}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{sns.distplot(mydf.value1,hist}\OperatorTok{=}\VariableTok{True}\NormalTok{,rug}\OperatorTok{=}\VariableTok{True}\NormalTok{,vertical}\OperatorTok{=}\VariableTok{True}\NormalTok{, bins}\OperatorTok{=}\DecValTok{30}\NormalTok{,color}\OperatorTok{=}\StringTok{'g'}\NormalTok{)}
\NormalTok{plt.show()}
\end{Highlighting}
\end{Shaded}

\includegraphics[width=0.9\linewidth]{04-visualization_files/figure-latex/unnamed-chunk-41-1}

\hypertarget{bar-chart-1}{%
\section{Bar Chart}\label{bar-chart-1}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{com_grp }\OperatorTok{=}\NormalTok{ mydf.groupby(}\StringTok{'comp'}\NormalTok{)}
\NormalTok{grpdf }\OperatorTok{=}\NormalTok{ com_grp[}\StringTok{'value1'}\NormalTok{].}\BuiltInTok{sum}\NormalTok{().reset_index()}
\NormalTok{grpdf}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>   comp       value1
#:> 0   C1  1413.683878
#:> 1   C2  1925.358760
#:> 2   C3  1671.172999
\end{verbatim}

\hypertarget{x-categorical-1x-numeric}{%
\subsection{1x Categorical, 1x Numeric}\label{x-categorical-1x-numeric}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{sns.barplot(x}\OperatorTok{=}\StringTok{'comp'}\NormalTok{,y}\OperatorTok{=}\StringTok{'value1'}\NormalTok{,data}\OperatorTok{=}\NormalTok{grpdf)}
\NormalTok{plt.show()}
\end{Highlighting}
\end{Shaded}

\includegraphics[width=0.9\linewidth]{04-visualization_files/figure-latex/unnamed-chunk-43-1}

\hypertarget{customization-1}{%
\subsection{Customization}\label{customization-1}}

\hypertarget{ordering}{%
\subsubsection{Ordering}\label{ordering}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{sns.barplot(x}\OperatorTok{=}\StringTok{'comp'}\NormalTok{,y}\OperatorTok{=}\StringTok{'value2'}\NormalTok{, hue}\OperatorTok{=}\StringTok{'grp'}\NormalTok{,}
\NormalTok{            order}\OperatorTok{=}\NormalTok{[}\StringTok{'C3'}\NormalTok{,}\StringTok{'C2'}\NormalTok{,}\StringTok{'C1'}\NormalTok{],}
\NormalTok{            hue_order}\OperatorTok{=}\NormalTok{[}\StringTok{'G1'}\NormalTok{,}\StringTok{'G2'}\NormalTok{,}\StringTok{'G3'}\NormalTok{],}
\NormalTok{            data}\OperatorTok{=}\NormalTok{mydf}
\NormalTok{)}
\NormalTok{plt.show()}
\end{Highlighting}
\end{Shaded}

\includegraphics[width=0.9\linewidth]{04-visualization_files/figure-latex/unnamed-chunk-44-1}

\hypertarget{flipping-xy-axis}{%
\subsubsection{Flipping X/Y Axis}\label{flipping-xy-axis}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{sns.barplot(x}\OperatorTok{=}\StringTok{'value2'}\NormalTok{,y}\OperatorTok{=}\StringTok{'comp'}\NormalTok{, hue}\OperatorTok{=}\StringTok{'grp'}\NormalTok{,data}\OperatorTok{=}\NormalTok{mydf)}
\NormalTok{plt.show()}
\end{Highlighting}
\end{Shaded}

\includegraphics[width=0.9\linewidth]{04-visualization_files/figure-latex/unnamed-chunk-45-1}

\hypertarget{faceting}{%
\section{Faceting}\label{faceting}}

Faceting in Seaborn is a generic function that works with matplotlib various plot utility.\\
It support matplotlib as well as seaborn plotting utility.

\hypertarget{faceting-histogram}{%
\subsection{Faceting Histogram}\label{faceting-histogram}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{g }\OperatorTok{=}\NormalTok{ sns.FacetGrid(mydf, col}\OperatorTok{=}\StringTok{"comp"}\NormalTok{, row}\OperatorTok{=}\StringTok{'dept'}\NormalTok{)}
\NormalTok{g.}\BuiltInTok{map}\NormalTok{(plt.hist, }\StringTok{"value1"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{plt.show()}
\end{Highlighting}
\end{Shaded}

\includegraphics[width=0.9\linewidth]{04-visualization_files/figure-latex/unnamed-chunk-46-1}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{g }\OperatorTok{=}\NormalTok{ sns.FacetGrid(mydf, col}\OperatorTok{=}\StringTok{"comp"}\NormalTok{, row}\OperatorTok{=}\StringTok{'dept'}\NormalTok{)}
\NormalTok{g.}\BuiltInTok{map}\NormalTok{(plt.hist, }\StringTok{"value1"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{plt.show()}
\end{Highlighting}
\end{Shaded}

\includegraphics[width=0.9\linewidth]{04-visualization_files/figure-latex/unnamed-chunk-47-1}

\hypertarget{faceting-scatter-plot}{%
\subsection{Faceting Scatter Plot}\label{faceting-scatter-plot}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{g }\OperatorTok{=}\NormalTok{ sns.FacetGrid(mydf, col}\OperatorTok{=}\StringTok{"comp"}\NormalTok{, row}\OperatorTok{=}\StringTok{'dept'}\NormalTok{,hue}\OperatorTok{=}\StringTok{'grp'}\NormalTok{)}
\NormalTok{g.}\BuiltInTok{map}\NormalTok{(plt.scatter, }\StringTok{"value1"}\NormalTok{,}\StringTok{"value2"}\NormalTok{,alpha}\OperatorTok{=}\FloatTok{0.7}\NormalTok{)}\OperatorTok{;}
\NormalTok{g.add_legend()}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{plt.show()}
\end{Highlighting}
\end{Shaded}

\includegraphics[width=0.9\linewidth]{04-visualization_files/figure-latex/unnamed-chunk-48-1}

\hypertarget{pair-grid}{%
\section{Pair Grid}\label{pair-grid}}

\hypertarget{simple-pair-grid}{%
\subsection{Simple Pair Grid}\label{simple-pair-grid}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{g }\OperatorTok{=}\NormalTok{ sns.PairGrid(mydf, hue}\OperatorTok{=}\StringTok{'comp'}\NormalTok{)}
\NormalTok{g.}\BuiltInTok{map}\NormalTok{(plt.scatter)}\OperatorTok{;}
\NormalTok{g.add_legend()}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{plt.show()}
\end{Highlighting}
\end{Shaded}

\includegraphics[width=0.9\linewidth]{04-visualization_files/figure-latex/unnamed-chunk-49-1}

\hypertarget{different-diag-and-offdiag}{%
\subsection{Different Diag and OffDiag}\label{different-diag-and-offdiag}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{g }\OperatorTok{=}\NormalTok{ sns.PairGrid(mydf, hue}\OperatorTok{=}\StringTok{'comp'}\NormalTok{)}
\NormalTok{g.map_diag(plt.hist, bins}\OperatorTok{=}\DecValTok{15}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{g.map_offdiag(plt.scatter)}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{g.add_legend()}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{plt.show()}
\end{Highlighting}
\end{Shaded}

\includegraphics[width=0.9\linewidth]{04-visualization_files/figure-latex/unnamed-chunk-50-1}

\hypertarget{sklearn}{%
\chapter{sklearn}\label{sklearn}}

This is a machine learning library.

\hypertarget{setup-hidden}{%
\section{Setup (hidden)}\label{setup-hidden}}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ numpy }\ImportTok{as}\NormalTok{ np}
\ImportTok{import}\NormalTok{ pandas }\ImportTok{as}\NormalTok{ pd}
\ImportTok{import}\NormalTok{ matplotlib.pyplot }\ImportTok{as}\NormalTok{ plt}
\ImportTok{import}\NormalTok{ math}
\NormalTok{pd.set_option( }\StringTok{'display.notebook_repr_html'}\NormalTok{, }\VariableTok{False}\NormalTok{)  }\CommentTok{# render Series and DataFrame as text, not HTML}
\NormalTok{pd.set_option( }\StringTok{'display.max_column'}\NormalTok{, }\DecValTok{10}\NormalTok{)    }\CommentTok{# number of columns}
\NormalTok{pd.set_option( }\StringTok{'display.max_rows'}\NormalTok{, }\DecValTok{10}\NormalTok{)     }\CommentTok{# number of rows}
\NormalTok{pd.set_option( }\StringTok{'display.width'}\NormalTok{, }\DecValTok{90}\NormalTok{)        }\CommentTok{# number of characters per row}
\end{Highlighting}
\end{Shaded}

\hypertarget{the-library}{%
\section{The Library}\label{the-library}}

sklearn \textbf{does not automatically import its subpackages}. Therefore all subpakcages must be specifically loaded before use.

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{# Sample Data}
\ImportTok{from}\NormalTok{ sklearn                 }\ImportTok{import}\NormalTok{ datasets}

\CommentTok{# Model Selection}
\ImportTok{from}\NormalTok{ sklearn.model_selection }\ImportTok{import}\NormalTok{ train_test_split}
\ImportTok{from}\NormalTok{ sklearn.model_selection }\ImportTok{import}\NormalTok{ KFold}
\ImportTok{from}\NormalTok{ sklearn.model_selection }\ImportTok{import}\NormalTok{ LeaveOneOut}
\ImportTok{from}\NormalTok{ sklearn.model_selection }\ImportTok{import}\NormalTok{ cross_validate}

\CommentTok{# Preprocessing}
\CommentTok{# from sklearn.preprocessing   import Imputer}
\ImportTok{from}\NormalTok{ sklearn.impute }\ImportTok{import}\NormalTok{ SimpleImputer}

\ImportTok{from}\NormalTok{ sklearn.preprocessing   }\ImportTok{import}\NormalTok{ MinMaxScaler}
\ImportTok{from}\NormalTok{ sklearn.preprocessing   }\ImportTok{import}\NormalTok{ StandardScaler}
\ImportTok{from}\NormalTok{ sklearn.preprocessing   }\ImportTok{import}\NormalTok{ Normalizer}
\ImportTok{from}\NormalTok{ sklearn.preprocessing   }\ImportTok{import}\NormalTok{ PolynomialFeatures}

\CommentTok{# Model and Pipeline}
\ImportTok{from}\NormalTok{ sklearn.linear_model    }\ImportTok{import}\NormalTok{ LinearRegression,Lasso}
\ImportTok{from}\NormalTok{ sklearn.pipeline        }\ImportTok{import}\NormalTok{ make_pipeline}

\CommentTok{# Measurement}
\ImportTok{from}\NormalTok{ sklearn.metrics         }\ImportTok{import} \OperatorTok{*}

\ImportTok{import}\NormalTok{ statsmodels.formula.api }\ImportTok{as}\NormalTok{ smf}
\end{Highlighting}
\end{Shaded}

\hypertarget{model-fitting}{%
\section{Model Fitting}\label{model-fitting}}

\begin{figure}
\centering
\includegraphics{img/fitting.png}
\caption{split}
\end{figure}

\hypertarget{underfitting}{%
\subsection{Underfitting}\label{underfitting}}

\begin{itemize}
\tightlist
\item
  The model does not fit the training data and therefore misses the trends in the data
\item
  The model cannot be generalized to new data, this is usually the result of a very simple model (not enough predictors/independent variables)
\item
  The model will have poor predictive ability
\item
  For example, we fit a linear model (like linear regression) to data that is not linear
\end{itemize}

\hypertarget{overfitting}{%
\subsection{Overfitting}\label{overfitting}}

\begin{itemize}
\tightlist
\item
  The model has trained ?too well? and is now, well, fit too closely to the training dataset
\item
  The model is too complex (i.e.~\textbf{too many features/variables} compared to the number of observations)
\item
  The model will be very accurate on the training data but will probably be very not accurate on untrained or new data
\item
  The model is not generalized (or not AS generalized), meaning you can generalize the results
\item
  The model learns or describes the ?noise? in the training data instead of the actual relationships between variables in the data
\end{itemize}

\hypertarget{just-right}{%
\subsection{Just Right}\label{just-right}}

\begin{itemize}
\tightlist
\item
  It is worth noting the underfitting is not as prevalent as overfitting
\item
  Nevertheless, we want to avoid both of those problems in data analysis
\item
  We want to find the middle ground between under and overfitting our model
\end{itemize}

\hypertarget{model-tuning}{%
\section{Model Tuning}\label{model-tuning}}

\begin{itemize}
\tightlist
\item
  A highly complex model tend to overfit
\item
  A too flexible model tend to underfit
\end{itemize}

Complexity can be reduced by: - Less features - Less degree of polynomial features - Apply generalization (tuning hyperparameters)

\begin{figure}
\centering
\includegraphics{img/model_complexity.jpg}
\caption{split}
\end{figure}

\hypertarget{high-level-ml-process}{%
\section{High Level ML Process}\label{high-level-ml-process}}

\begin{figure}
\centering
\includegraphics{img/scikit_learn_split.jpg}
\caption{split}
\end{figure}

\hypertarget{built-in-datasets}{%
\section{Built-in Datasets}\label{built-in-datasets}}

sklearn included some popular datasets to play with\\
Each dataset is of type \textbf{Bunch}.\\
It has useful data (array) in the form of properties:\\
- keys (display all data availabe within the dataset)\\
- data (common)\\
- target (common)\\
- DESCR (common) - feature\_names (some dataset)\\
- target\_names (some dataset) - images (some dataset)

\hypertarget{diabetes-regression}{%
\subsection{diabetes (regression)}\label{diabetes-regression}}

\hypertarget{load-dataset}{%
\subsubsection{Load Dataset}\label{load-dataset}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{diabetes }\OperatorTok{=}\NormalTok{ datasets.load_diabetes()}
\BuiltInTok{print}\NormalTok{ (}\BuiltInTok{type}\NormalTok{(diabetes))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> <class 'sklearn.utils.Bunch'>
\end{verbatim}

\hypertarget{keys}{%
\subsubsection{keys}\label{keys}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{diabetes.keys()}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> dict_keys(['data', 'target', 'frame', 'DESCR', 'feature_names', 'data_filename', 'target_filename'])
\end{verbatim}

\hypertarget{features-and-target}{%
\subsubsection{Features and Target}\label{features-and-target}}

.data = features - two dimension array\\
.target = target - one dimension array

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{ (}\BuiltInTok{type}\NormalTok{(diabetes.data))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> <class 'numpy.ndarray'>
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{ (}\BuiltInTok{type}\NormalTok{(diabetes.target))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> <class 'numpy.ndarray'>
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{ (diabetes.data.shape)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> (442, 10)
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{ (diabetes.target.shape)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> (442,)
\end{verbatim}

\hypertarget{load-with-xy-convenient-method}{%
\subsubsection{Load with X,y (Convenient Method)}\label{load-with-xy-convenient-method}}

using return\_X\_y = True, data is loaded into X, target is loaded into y

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{X,y      }\OperatorTok{=}\NormalTok{ datasets.load_diabetes(return_X_y}\OperatorTok{=}\VariableTok{True}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{ (X.shape)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> (442, 10)
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{ (y.shape)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> (442,)
\end{verbatim}

\hypertarget{digits-classification}{%
\subsection{digits (Classification)}\label{digits-classification}}

This is a copy of the test set of the UCI ML hand-written digits datasets

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{digits }\OperatorTok{=}\NormalTok{ datasets.load_digits()}
\BuiltInTok{print}\NormalTok{ (}\BuiltInTok{type}\NormalTok{(digits))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> <class 'sklearn.utils.Bunch'>
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{ (}\BuiltInTok{type}\NormalTok{(digits.data))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> <class 'numpy.ndarray'>
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{digits.keys()}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> dict_keys(['data', 'target', 'frame', 'feature_names', 'target_names', 'images', 'DESCR'])
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{digits.target_names}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> array([0, 1, 2, 3, 4, 5, 6, 7, 8, 9])
\end{verbatim}

\hypertarget{data}{%
\subsubsection{data}\label{data}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{digits.data.shape  }\CommentTok{# features}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> (1797, 64)
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{digits.target.shape }\CommentTok{# target}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> (1797,)
\end{verbatim}

\hypertarget{images}{%
\subsubsection{Images}\label{images}}

\begin{itemize}
\tightlist
\item
  images is 3 dimensional array\\
\item
  There are \textbf{1797 samples}, each sample is \textbf{8x8 pixels}
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{digits.images.shape}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> (1797, 8, 8)
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{type}\NormalTok{(digits.images)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> <class 'numpy.ndarray'>
\end{verbatim}

\textbf{Each element represent the data that make its target}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{ (digits.target[}\DecValTok{100}\NormalTok{])}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 4
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{ (digits.images[}\DecValTok{100}\NormalTok{])}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> [[ 0.  0.  0.  2. 13.  0.  0.  0.]
#:>  [ 0.  0.  0.  8. 15.  0.  0.  0.]
#:>  [ 0.  0.  5. 16.  5.  2.  0.  0.]
#:>  [ 0.  0. 15. 12.  1. 16.  4.  0.]
#:>  [ 0.  4. 16.  2.  9. 16.  8.  0.]
#:>  [ 0.  0. 10. 14. 16. 16.  4.  0.]
#:>  [ 0.  0.  0.  0. 13.  8.  0.  0.]
#:>  [ 0.  0.  0.  0. 13.  6.  0.  0.]]
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{plt.matshow(digits.images[}\DecValTok{100}\NormalTok{]) }
\end{Highlighting}
\end{Shaded}

\includegraphics[width=0.9\linewidth]{05-sklearn_files/figure-latex/unnamed-chunk-16-1}

\hypertarget{loading-into-xy-convenient-method}{%
\subsubsection{Loading Into X,y (Convenient Method)}\label{loading-into-xy-convenient-method}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{X,y }\OperatorTok{=}\NormalTok{ datasets.load_digits(return_X_y}\OperatorTok{=}\VariableTok{True}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{X.shape}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> (1797, 64)
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{y.shape}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> (1797,)
\end{verbatim}

\hypertarget{iris-classification}{%
\subsection{iris (Classification)}\label{iris-classification}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{iris }\OperatorTok{=}\NormalTok{ datasets.load_iris()}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{iris.keys()}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> dict_keys(['data', 'target', 'frame', 'target_names', 'DESCR', 'feature_names', 'filename'])
\end{verbatim}

\hypertarget{feature-names}{%
\subsubsection{Feature Names}\label{feature-names}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{iris.feature_names}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> ['sepal length (cm)', 'sepal width (cm)', 'petal length (cm)', 'petal width (cm)']
\end{verbatim}

\hypertarget{target}{%
\subsubsection{target}\label{target}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{iris.target_names}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> array(['setosa', 'versicolor', 'virginica'], dtype='<U10')
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{iris.target}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> array([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
#:>        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
#:>        0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
#:>        1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
#:>        1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
#:>        2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
#:>        2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2])
\end{verbatim}

\hypertarget{train-test-data-splitting}{%
\section{Train Test Data Splitting}\label{train-test-data-splitting}}

\hypertarget{sample-data-20}{%
\subsection{Sample Data}\label{sample-data-20}}

Generate 100 rows of data, with 3x features (X1,X2,X3), and one dependant variable (Y)

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{n }\OperatorTok{=} \DecValTok{21}  \CommentTok{# number of samples}
\NormalTok{I }\OperatorTok{=} \DecValTok{5}  \CommentTok{# intercept value}
\NormalTok{E }\OperatorTok{=}\NormalTok{ np.random.randint( }\DecValTok{1}\NormalTok{,}\DecValTok{20}\NormalTok{, n)  }\CommentTok{# Error}
\NormalTok{x1 }\OperatorTok{=}\NormalTok{ np.random.randint( }\DecValTok{1}\NormalTok{,n}\OperatorTok{+}\DecValTok{1}\NormalTok{, n)}
\NormalTok{x2 }\OperatorTok{=}\NormalTok{ np.random.randint( }\DecValTok{1}\NormalTok{,n}\OperatorTok{+}\DecValTok{1}\NormalTok{, n)}
\NormalTok{x3 }\OperatorTok{=}\NormalTok{ np.random.randint( }\DecValTok{1}\NormalTok{,n}\OperatorTok{+}\DecValTok{1}\NormalTok{, n)}
\NormalTok{y }\OperatorTok{=} \FloatTok{0.1}\OperatorTok{*}\NormalTok{x1 }\OperatorTok{+} \FloatTok{0.2}\OperatorTok{*}\NormalTok{x2 }\OperatorTok{+} \FloatTok{0.3}\OperatorTok{*}\NormalTok{x3 }\OperatorTok{+}\NormalTok{ E }\OperatorTok{+}\NormalTok{ I}
\NormalTok{mydf }\OperatorTok{=}\NormalTok{ pd.DataFrame(\{}
    \StringTok{'y'}\NormalTok{:y,}
    \StringTok{'x1'}\NormalTok{:x1,}
    \StringTok{'x2'}\NormalTok{:x2,}
    \StringTok{'x3'}\NormalTok{:x3}
\NormalTok{\})}
\NormalTok{mydf.shape}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> (21, 4)
\end{verbatim}

\hypertarget{one-time-split}{%
\subsection{One Time Split}\label{one-time-split}}

sklearn::train\_test\_split() has two forms: - Take one DF, split into 2 DF (most of sklearn modeling use this method - Take two DFs, split into 4 DF

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{mydf.head()}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>       y  x1  x2  x3
#:> 0  26.3  13  12  12
#:> 1  22.8   3   9   9
#:> 2  28.4  16   1  12
#:> 3  26.4   9  19  19
#:> 4  29.0   7  20   1
\end{verbatim}

\hypertarget{method-1-split-one-dataframe-into-two-train-test}{%
\subsubsection{Method 1: Split One Dataframe Into Two (Train \& Test)}\label{method-1-split-one-dataframe-into-two-train-test}}

\begin{verbatim}
traindf, testdf = train_test_split( df, test_size=, random_state= ) 
 # random_state : seed number (integer), optional
 # test_size    : fraction of 1, 0.2 means 20%
\end{verbatim}

\begin{figure}
\centering
\includegraphics{img/train_test_split_1.jpg}
\caption{split}
\end{figure}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{traindf, testdf }\OperatorTok{=}\NormalTok{ train_test_split(mydf,test_size}\OperatorTok{=}\FloatTok{0.2}\NormalTok{, random_state}\OperatorTok{=}\DecValTok{25}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{ (}\BuiltInTok{len}\NormalTok{(traindf))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 16
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{ (}\BuiltInTok{len}\NormalTok{(testdf))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 5
\end{verbatim}

\hypertarget{method-2-split-two-dataframe-xy-into-four-x_traintest-y_traintest}{%
\subsubsection{Method 2: Split Two DataFrame (X,Y) into Four x\_train/test, y\_train/test}\label{method-2-split-two-dataframe-xy-into-four-x_traintest-y_traintest}}

\begin{verbatim}
x_train, x_test, y_train, y_test = train_test_split( X,Y, test_size=, random_state= )
 # random_state : seed number (integer), optional
 # test_size    : fraction of 1, 0.2 means 20%
\end{verbatim}

\begin{figure}
\centering
\includegraphics{img/train_test_split_2.jpg}
\caption{split}
\end{figure}

\textbf{Split DataFrame into X and Y First}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{feature_cols }\OperatorTok{=}\NormalTok{ [}\StringTok{'x1'}\NormalTok{,}\StringTok{'x2'}\NormalTok{,}\StringTok{'x3'}\NormalTok{]}
\NormalTok{X }\OperatorTok{=}\NormalTok{ mydf[feature_cols]}
\NormalTok{Y }\OperatorTok{=}\NormalTok{ mydf.y}
\end{Highlighting}
\end{Shaded}

\textbf{Then Split X/Y into x\_train/test, y\_train/test}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{x_train, x_test, y_train, y_test }\OperatorTok{=}\NormalTok{ train_test_split( X,Y, test_size}\OperatorTok{=}\FloatTok{0.2}\NormalTok{, random_state}\OperatorTok{=}\DecValTok{25}\NormalTok{)}
\BuiltInTok{print}\NormalTok{ (}\BuiltInTok{len}\NormalTok{(x_train))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 16
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{ (}\BuiltInTok{len}\NormalTok{(x_test))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 5
\end{verbatim}

\hypertarget{k-fold}{%
\subsection{K-Fold}\label{k-fold}}

\begin{verbatim}
KFold(n_splits=3, shuffle=False, random_state=None)
\end{verbatim}

\begin{figure}
\centering
\includegraphics{img/kfold.jpg}
\caption{split}
\end{figure}

\textbf{suffle=False} (default), meaning index number is taken continously

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{kf }\OperatorTok{=}\NormalTok{ KFold(n_splits}\OperatorTok{=}\DecValTok{7}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\ControlFlowTok{for}\NormalTok{ train_index, test_index }\KeywordTok{in}\NormalTok{ kf.split(X):}
  \BuiltInTok{print}\NormalTok{ (train_index, test_index)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> [ 3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20] [0 1 2]
#:> [ 0  1  2  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20] [3 4 5]
#:> [ 0  1  2  3  4  5  9 10 11 12 13 14 15 16 17 18 19 20] [6 7 8]
#:> [ 0  1  2  3  4  5  6  7  8 12 13 14 15 16 17 18 19 20] [ 9 10 11]
#:> [ 0  1  2  3  4  5  6  7  8  9 10 11 15 16 17 18 19 20] [12 13 14]
#:> [ 0  1  2  3  4  5  6  7  8  9 10 11 12 13 14 18 19 20] [15 16 17]
#:> [ 0  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17] [18 19 20]
\end{verbatim}

\textbf{shuffle=True}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{kf }\OperatorTok{=}\NormalTok{ KFold(n_splits}\OperatorTok{=}\DecValTok{7}\NormalTok{, shuffle}\OperatorTok{=}\VariableTok{True}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\ControlFlowTok{for}\NormalTok{ train_index, test_index }\KeywordTok{in}\NormalTok{ kf.split(X):}
  \BuiltInTok{print}\NormalTok{ (train_index, test_index)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> [ 0  1  2  3  4  5  6  7  8  9 12 13 14 16 17 18 19 20] [10 11 15]
#:> [ 0  2  3  4  6  7  8  9 10 11 12 13 14 15 17 18 19 20] [ 1  5 16]
#:> [ 0  1  2  3  4  5  6  8 10 11 12 13 14 15 16 17 18 19] [ 7  9 20]
#:> [ 0  1  2  3  4  5  6  7  8  9 10 11 12 15 16 17 19 20] [13 14 18]
#:> [ 1  3  4  5  6  7  8  9 10 11 12 13 14 15 16 18 19 20] [ 0  2 17]
#:> [ 0  1  2  3  5  7  8  9 10 11 13 14 15 16 17 18 19 20] [ 4  6 12]
#:> [ 0  1  2  4  5  6  7  9 10 11 12 13 14 15 16 17 18 20] [ 3  8 19]
\end{verbatim}

\hypertarget{leave-one-out}{%
\subsection{Leave One Out}\label{leave-one-out}}

\begin{itemize}
\tightlist
\item
  For a dataset of N rows, Leave One Out will split N-1 times, each time leaving one row as test, remaning as training set.\\
\item
  Due to the \textbf{high number of test sets} (which is the same as the number of samples-1) this cross-validation method can be very costly. For large datasets one should favor KFold.
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{loo }\OperatorTok{=}\NormalTok{ LeaveOneOut()}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\ControlFlowTok{for}\NormalTok{ train_index, test_index }\KeywordTok{in}\NormalTok{ loo.split(X):}
  \BuiltInTok{print}\NormalTok{ (train_index, test_index)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> [ 1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20] [0]
#:> [ 0  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20] [1]
#:> [ 0  1  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20] [2]
#:> [ 0  1  2  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20] [3]
#:> [ 0  1  2  3  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20] [4]
#:> [ 0  1  2  3  4  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20] [5]
#:> [ 0  1  2  3  4  5  7  8  9 10 11 12 13 14 15 16 17 18 19 20] [6]
#:> [ 0  1  2  3  4  5  6  8  9 10 11 12 13 14 15 16 17 18 19 20] [7]
#:> [ 0  1  2  3  4  5  6  7  9 10 11 12 13 14 15 16 17 18 19 20] [8]
#:> [ 0  1  2  3  4  5  6  7  8 10 11 12 13 14 15 16 17 18 19 20] [9]
#:> [ 0  1  2  3  4  5  6  7  8  9 11 12 13 14 15 16 17 18 19 20] [10]
#:> [ 0  1  2  3  4  5  6  7  8  9 10 12 13 14 15 16 17 18 19 20] [11]
#:> [ 0  1  2  3  4  5  6  7  8  9 10 11 13 14 15 16 17 18 19 20] [12]
#:> [ 0  1  2  3  4  5  6  7  8  9 10 11 12 14 15 16 17 18 19 20] [13]
#:> [ 0  1  2  3  4  5  6  7  8  9 10 11 12 13 15 16 17 18 19 20] [14]
#:> [ 0  1  2  3  4  5  6  7  8  9 10 11 12 13 14 16 17 18 19 20] [15]
#:> [ 0  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 17 18 19 20] [16]
#:> [ 0  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 18 19 20] [17]
#:> [ 0  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 19 20] [18]
#:> [ 0  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 20] [19]
#:> [ 0  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19] [20]
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{X}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>     x1  x2  x3
#:> 0   13  12  12
#:> 1    3   9   9
#:> 2   16   1  12
#:> 3    9  19  19
#:> 4    7  20   1
#:> ..  ..  ..  ..
#:> 16   1  20  19
#:> 17   2  18   5
#:> 18  15  21   5
#:> 19  16  11  21
#:> 20   2   3  11
#:> 
#:> [21 rows x 3 columns]
\end{verbatim}

\hypertarget{polynomial-transform}{%
\section{Polynomial Transform}\label{polynomial-transform}}

This can be used as part of feature engineering, to introduce new features for data that seems to fit with quadradic model.

\hypertarget{single-variable}{%
\subsection{Single Variable}\label{single-variable}}

\hypertarget{sample-data-21}{%
\subsubsection{Sample Data}\label{sample-data-21}}

Data must be 2-D before polynomial features can be applied. Code below convert 1D array into 2D array.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{x }\OperatorTok{=}\NormalTok{ np.array([}\DecValTok{1}\NormalTok{, }\DecValTok{2}\NormalTok{, }\DecValTok{3}\NormalTok{, }\DecValTok{4}\NormalTok{, }\DecValTok{5}\NormalTok{])}
\NormalTok{X }\OperatorTok{=}\NormalTok{ x[:,np.newaxis]}
\NormalTok{X}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> array([[1],
#:>        [2],
#:>        [3],
#:>        [4],
#:>        [5]])
\end{verbatim}

\hypertarget{degree-1}{%
\subsubsection{Degree 1}\label{degree-1}}

One Degree means maintain original features. No new features is created.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{PolynomialFeatures(degree}\OperatorTok{=}\DecValTok{1}\NormalTok{, include_bias}\OperatorTok{=}\VariableTok{False}\NormalTok{).fit_transform(X)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> array([[1.],
#:>        [2.],
#:>        [3.],
#:>        [4.],
#:>        [5.]])
\end{verbatim}

\hypertarget{degree-2}{%
\subsubsection{Degree 2}\label{degree-2}}

Degree-1 original feature: x\\
Degree-2 additional features: x\^{}2

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{PolynomialFeatures(degree}\OperatorTok{=}\DecValTok{2}\NormalTok{, include_bias}\OperatorTok{=}\VariableTok{False}\NormalTok{).fit_transform(X)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> array([[ 1.,  1.],
#:>        [ 2.,  4.],
#:>        [ 3.,  9.],
#:>        [ 4., 16.],
#:>        [ 5., 25.]])
\end{verbatim}

\hypertarget{degree-3}{%
\subsubsection{Degree 3}\label{degree-3}}

Degree-1 original feature: x\\
Degree-2 additional features: x\^{}2\\
Degree-3 additional features: x\^{}3

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{PolynomialFeatures(degree}\OperatorTok{=}\DecValTok{3}\NormalTok{, include_bias}\OperatorTok{=}\VariableTok{False}\NormalTok{).fit_transform(X)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> array([[  1.,   1.,   1.],
#:>        [  2.,   4.,   8.],
#:>        [  3.,   9.,  27.],
#:>        [  4.,  16.,  64.],
#:>        [  5.,  25., 125.]])
\end{verbatim}

\hypertarget{degree-4}{%
\subsubsection{Degree 4}\label{degree-4}}

Degree-1 original feature: x\\
Degree-2 additional features: x\^{}2\\
Degree-3 additional features: x\^{}3\\
Degree-3 additional features: x\^{}4

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{PolynomialFeatures(degree}\OperatorTok{=}\DecValTok{4}\NormalTok{, include_bias}\OperatorTok{=}\VariableTok{False}\NormalTok{).fit_transform(X)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> array([[  1.,   1.,   1.,   1.],
#:>        [  2.,   4.,   8.,  16.],
#:>        [  3.,   9.,  27.,  81.],
#:>        [  4.,  16.,  64., 256.],
#:>        [  5.,  25., 125., 625.]])
\end{verbatim}

\hypertarget{two-variables}{%
\subsection{Two Variables}\label{two-variables}}

\hypertarget{sample-data-22}{%
\subsubsection{Sample Data}\label{sample-data-22}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{X }\OperatorTok{=}\NormalTok{ pd.DataFrame( \{}\StringTok{'x1'}\NormalTok{: [}\DecValTok{1}\NormalTok{, }\DecValTok{2}\NormalTok{, }\DecValTok{3}\NormalTok{, }\DecValTok{4}\NormalTok{, }\DecValTok{5}\NormalTok{ ],}
                   \StringTok{'x2'}\NormalTok{: [}\DecValTok{6}\NormalTok{, }\DecValTok{7}\NormalTok{, }\DecValTok{8}\NormalTok{, }\DecValTok{9}\NormalTok{, }\DecValTok{10}\NormalTok{]\})}
\NormalTok{X}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>    x1  x2
#:> 0   1   6
#:> 1   2   7
#:> 2   3   8
#:> 3   4   9
#:> 4   5  10
\end{verbatim}

\hypertarget{degree-2-1}{%
\subsubsection{Degree 2}\label{degree-2-1}}

\begin{verbatim}
Degree-1 original   features:  x1,     x2  
Degree-2 additional features:  x1^2,   x2^2,   x1:x2 
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{PolynomialFeatures(degree}\OperatorTok{=}\DecValTok{2}\NormalTok{, include_bias}\OperatorTok{=}\VariableTok{False}\NormalTok{).fit_transform(X)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> array([[  1.,   6.,   1.,   6.,  36.],
#:>        [  2.,   7.,   4.,  14.,  49.],
#:>        [  3.,   8.,   9.,  24.,  64.],
#:>        [  4.,   9.,  16.,  36.,  81.],
#:>        [  5.,  10.,  25.,  50., 100.]])
\end{verbatim}

\hypertarget{degree-3-1}{%
\subsubsection{Degree 3}\label{degree-3-1}}

\begin{verbatim}
Degree-1 original   features:  x1,       x2  
Degree-2 additional features:  x1^2,     x2^2,   x1:x2 
Degree-3 additional features:  x1^3,     x2^3    x1:x2^2    x2:x1^2
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{PolynomialFeatures(degree}\OperatorTok{=}\DecValTok{3}\NormalTok{, include_bias}\OperatorTok{=}\VariableTok{False}\NormalTok{).fit_transform(X)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> array([[   1.,    6.,    1.,    6.,   36.,    1.,    6.,   36.,  216.],
#:>        [   2.,    7.,    4.,   14.,   49.,    8.,   28.,   98.,  343.],
#:>        [   3.,    8.,    9.,   24.,   64.,   27.,   72.,  192.,  512.],
#:>        [   4.,    9.,   16.,   36.,   81.,   64.,  144.,  324.,  729.],
#:>        [   5.,   10.,   25.,   50.,  100.,  125.,  250.,  500., 1000.]])
\end{verbatim}

\hypertarget{imputation-of-missing-data}{%
\section{Imputation of Missing Data}\label{imputation-of-missing-data}}

\hypertarget{sample-data-23}{%
\subsection{Sample Data}\label{sample-data-23}}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ numpy }\ImportTok{import}\NormalTok{ nan}
\NormalTok{X }\OperatorTok{=}\NormalTok{ np.array([[ nan, }\DecValTok{0}\NormalTok{,   }\DecValTok{3}\NormalTok{  ],}
\NormalTok{              [ }\DecValTok{3}\NormalTok{,   }\DecValTok{7}\NormalTok{,   }\DecValTok{9}\NormalTok{  ],}
\NormalTok{              [ }\DecValTok{3}\NormalTok{,   }\DecValTok{5}\NormalTok{,   }\DecValTok{2}\NormalTok{  ],}
\NormalTok{              [ }\DecValTok{4}\NormalTok{,   nan, }\DecValTok{6}\NormalTok{  ],}
\NormalTok{              [ }\DecValTok{8}\NormalTok{,   }\DecValTok{8}\NormalTok{,   }\DecValTok{1}\NormalTok{  ]])}

\NormalTok{y }\OperatorTok{=}\NormalTok{ np.array([}\DecValTok{14}\NormalTok{, }\DecValTok{16}\NormalTok{, }\DecValTok{-1}\NormalTok{,  }\DecValTok{8}\NormalTok{, }\DecValTok{-5}\NormalTok{])}
\end{Highlighting}
\end{Shaded}

\hypertarget{imputer}{%
\subsection{Imputer}\label{imputer}}

\hypertarget{mean-strategy}{%
\subsubsection{mean strategy}\label{mean-strategy}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{imp }\OperatorTok{=}\NormalTok{ SimpleImputer(strategy}\OperatorTok{=}\StringTok{'mean'}\NormalTok{)}
\NormalTok{X2 }\OperatorTok{=}\NormalTok{ imp.fit_transform(X)}
\NormalTok{X2}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> array([[4.5, 0. , 3. ],
#:>        [3. , 7. , 9. ],
#:>        [3. , 5. , 2. ],
#:>        [4. , 5. , 6. ],
#:>        [8. , 8. , 1. ]])
\end{verbatim}

\hypertarget{scaling}{%
\section{Scaling}\label{scaling}}

It is possible that some insignificant variable with larger range will be dominating the objective function.\\
We can remove this problem by scaling down all the features to a same range.

\hypertarget{sample-data-24}{%
\subsection{Sample Data}\label{sample-data-24}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{X}\OperatorTok{=}\NormalTok{mydf.}\BuiltInTok{filter}\NormalTok{(like}\OperatorTok{=}\StringTok{'x'}\NormalTok{)[:}\DecValTok{5}\NormalTok{]}
\NormalTok{X}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>    x1  x2  x3
#:> 0  13  12  12
#:> 1   3   9   9
#:> 2  16   1  12
#:> 3   9  19  19
#:> 4   7  20   1
\end{verbatim}

\hypertarget{minmax-scaler}{%
\subsection{MinMax Scaler}\label{minmax-scaler}}

\begin{verbatim}
MinMaxScaler( feature_range(0,1), copy=True )
# default feature range (output result) from 0 to 1
# default return a copy of new array, copy=False will inplace original array
\end{verbatim}

\textbf{Define Scaler Object}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{scaler }\OperatorTok{=}\NormalTok{ MinMaxScaler()}
\end{Highlighting}
\end{Shaded}

\textbf{Transform Data}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{scaler.fit_transform(X)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> array([[0.76923077, 0.57894737, 0.61111111],
#:>        [0.        , 0.42105263, 0.44444444],
#:>        [1.        , 0.        , 0.61111111],
#:>        [0.46153846, 0.94736842, 1.        ],
#:>        [0.30769231, 1.        , 0.        ]])
\end{verbatim}

\textbf{Scaler Attributes}

\begin{verbatim}
data_min_: minimum value of the feature (before scaling)  
data_max_: maximum value of the feature (before scaling)  
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{pd.DataFrame(}\BuiltInTok{list}\NormalTok{(}\BuiltInTok{zip}\NormalTok{(scaler.data_min_, scaler.data_max_)), }
\NormalTok{             columns}\OperatorTok{=}\NormalTok{[}\StringTok{'data_min'}\NormalTok{,}\StringTok{'data_max'}\NormalTok{], }
\NormalTok{             index}\OperatorTok{=}\NormalTok{X.columns)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>     data_min  data_max
#:> x1       3.0      16.0
#:> x2       1.0      20.0
#:> x3       1.0      19.0
\end{verbatim}

\hypertarget{standard-scaler}{%
\subsection{Standard Scaler}\label{standard-scaler}}

It is most suitable for techniques that assume a Gaussian distribution in the input variables and work better with rescaled data, such as linear regression, logistic regression and linear discriminate analysis.

\begin{verbatim}
StandardScaler(copy=True, with_mean=True, with_std=True)
# copy=True : return a copy of data, instead of inplace
# with_mean=True : centre all features by substracting with its mean
# with_std=True  : centre all features by dividing with its std
\end{verbatim}

\textbf{Define Scaler Object}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{scaler }\OperatorTok{=}\NormalTok{ StandardScaler()}
\end{Highlighting}
\end{Shaded}

\textbf{Transform Data}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{scaler.fit_transform(X)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> array([[ 0.74838327, -0.02870058,  0.24066496],
#:>        [-1.452744  , -0.45920926, -0.27504567],
#:>        [ 1.40872145, -1.60723242,  0.24066496],
#:>        [-0.13206764,  0.97581968,  1.44398974],
#:>        [-0.57229309,  1.11932258, -1.65027399]])
\end{verbatim}

\textbf{Scaler Attributes}\\
After the data transformation step above, scaler will have the mean and variance information for each feature.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{pd.DataFrame(}\BuiltInTok{list}\NormalTok{(}\BuiltInTok{zip}\NormalTok{(scaler.mean_, scaler.var_)), }
\NormalTok{             columns}\OperatorTok{=}\NormalTok{[}\StringTok{'mean'}\NormalTok{,}\StringTok{'variance'}\NormalTok{], }
\NormalTok{             index}\OperatorTok{=}\NormalTok{X.columns)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>     mean  variance
#:> x1   9.6     20.64
#:> x2  12.2     48.56
#:> x3  10.6     33.84
\end{verbatim}

\hypertarget{pipeline}{%
\section{Pipeline}\label{pipeline}}

With any of the preceding examples, it can quickly become tedious to do the transformations by hand, especially if you wish to string together multiple steps. For example, we might want a processing pipeline that looks something like this:

\begin{itemize}
\tightlist
\item
  \textbf{Impute} missing values using the mean\\
\item
  \textbf{Transform} features to quadratic\\
\item
  \textbf{Fit} a linear regression
\end{itemize}

\textbf{make\_pipeline} takes list of functions as parameters. When calling \textbf{fit()} on a pipeline object, these functions will be performed in sequential with data flow from one function to another.

\begin{verbatim}
make_pipeline (
    function_1 (),
    function_2 (),
    function_3 ()
 )
\end{verbatim}

\hypertarget{sample-data-25}{%
\subsection{Sample Data}\label{sample-data-25}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{X}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>    x1  x2  x3
#:> 0  13  12  12
#:> 1   3   9   9
#:> 2  16   1  12
#:> 3   9  19  19
#:> 4   7  20   1
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{y}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> array([14, 16, -1,  8, -5])
\end{verbatim}

\hypertarget{create-pipeline}{%
\subsection{Create Pipeline}\label{create-pipeline}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{my_pipe }\OperatorTok{=}\NormalTok{ make_pipeline (}
\NormalTok{    SimpleImputer            (strategy}\OperatorTok{=}\StringTok{'mean'}\NormalTok{),}
\NormalTok{    PolynomialFeatures (degree}\OperatorTok{=}\DecValTok{2}\NormalTok{),}
\NormalTok{    LinearRegression   ()}
\NormalTok{)}
\BuiltInTok{type}\NormalTok{(my_pipe)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> <class 'sklearn.pipeline.Pipeline'>
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{my_pipe}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> Pipeline(steps=[('simpleimputer', SimpleImputer()),
#:>                 ('polynomialfeatures', PolynomialFeatures()),
#:>                 ('linearregression', LinearRegression())])
\end{verbatim}

\hypertarget{executing-pipeline}{%
\subsection{Executing Pipeline}\label{executing-pipeline}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{my_pipe.fit( X, y) }\CommentTok{# execute the pipeline}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> Pipeline(steps=[('simpleimputer', SimpleImputer()),
#:>                 ('polynomialfeatures', PolynomialFeatures()),
#:>                 ('linearregression', LinearRegression())])
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{ (y)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> [14 16 -1  8 -5]
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{ (my_pipe.predict(X))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> [14. 16. -1.  8. -5.]
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{type}\NormalTok{(my_pipe)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> <class 'sklearn.pipeline.Pipeline'>
\end{verbatim}

\hypertarget{cross-validation}{%
\section{Cross Validation}\label{cross-validation}}

\hypertarget{load-data}{%
\subsection{Load Data}\label{load-data}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{X,y }\OperatorTok{=}\NormalTok{ datasets.load_diabetes(return_X_y}\OperatorTok{=}\VariableTok{True}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\hypertarget{choose-an-cross-validator}{%
\subsection{Choose An Cross Validator}\label{choose-an-cross-validator}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{kf }\OperatorTok{=}\NormalTok{ KFold(n_splits}\OperatorTok{=}\DecValTok{5}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\hypertarget{run-cross-validation}{%
\subsection{Run Cross Validation}\label{run-cross-validation}}

\textbf{Single Scorer}\\
Use default scorer of the estimator (if available)

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{lasso }\OperatorTok{=}\NormalTok{ Lasso()}
\NormalTok{cv_results1 }\OperatorTok{=}\NormalTok{ cross_validate(lasso, X,y,cv}\OperatorTok{=}\NormalTok{kf,}
\NormalTok{    return_train_score}\OperatorTok{=}\VariableTok{False}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\textbf{Multiple Scorer}\\
Specify the scorer \url{http://scikit-learn.org/stable/modules/model_evaluation.html\#scoring-parameter}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{cv_results2 }\OperatorTok{=}\NormalTok{ cross_validate(lasso, X,y,cv}\OperatorTok{=}\NormalTok{kf,}
\NormalTok{    scoring}\OperatorTok{=}\NormalTok{(}\StringTok{"neg_mean_absolute_error"}\NormalTok{,}\StringTok{"neg_mean_squared_error"}\NormalTok{,}\StringTok{"r2"}\NormalTok{),}
\NormalTok{    return_train_score}\OperatorTok{=}\VariableTok{False}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\hypertarget{the-result}{%
\subsection{The Result}\label{the-result}}

Result is a \textbf{dictionary}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{cv_results1.keys()}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> dict_keys(['fit_time', 'score_time', 'test_score'])
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{cv_results2.keys()}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> dict_keys(['fit_time', 'score_time', 'test_neg_mean_absolute_error', 'test_neg_mean_squared_error', 'test_r2'])
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{cv_results1}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> {'fit_time': array([0.00087595, 0.00076795, 0.00111794, 0.00070786, 0.00142455]), 'score_time': array([0.00064683, 0.00058603, 0.00053835, 0.00062561, 0.0007782 ]), 'test_score': array([0.28349047, 0.35157959, 0.3533813 , 0.33481474, 0.36453281])}
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{cv_results2}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> {'fit_time': array([0.00087738, 0.00181222, 0.00207067, 0.00087333, 0.00080276]), 'score_time': array([0.00113702, 0.00177836, 0.00183702, 0.00135541, 0.00112247]), 'test_neg_mean_absolute_error': array([-50.09003423, -52.54110842, -55.02813846, -50.81121806,
#:>        -55.60471593]), 'test_neg_mean_squared_error': array([-3491.74009759, -4113.86002091, -4046.91780932, -3489.74018715,
#:>        -4111.92401769]), 'test_r2': array([0.28349047, 0.35157959, 0.3533813 , 0.33481474, 0.36453281])}
\end{verbatim}

\hypertarget{nlp}{%
\chapter{NLP}\label{nlp}}

Natural Language Processing

\hypertarget{regular-expression}{%
\section{Regular Expression}\label{regular-expression}}

\begin{itemize}
\tightlist
\item
  Rgular expressions (called REs or regexes) is mandatory skill for NLP. The \texttt{re} is a **built-in* library\\
\item
  It is essentially a tiny, highly specialized programming language embedded inside Python and made available through the re module\\
\item
  Regular expression patterns are compiled into a series of bytecodes which are then executed by a matching engine written in C
\end{itemize}

\hypertarget{syntax}{%
\subsection{Syntax}\label{syntax}}

There are two methods to emply re. Below method compile a regex first, then apply it multiple times in subsequent code.

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ re}
\NormalTok{pattern }\OperatorTok{=}\NormalTok{ re.}\BuiltInTok{compile}\NormalTok{(}\VerbatimStringTok{r'put pattern here'}\NormalTok{)}
\NormalTok{pattern.match(}\StringTok{'put text here'}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

Second method below employ compile and match in single line. The pattern cannot be reused, therefore good for onetime usage only.

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ re}
\NormalTok{pattern }\OperatorTok{=}\NormalTok{ (}\VerbatimStringTok{r'put pattern here'}\NormalTok{)}
\NormalTok{re.match(pattern, }\VerbatimStringTok{r'put text here'}\NormalTok{)  }\CommentTok{# compile and match in single line}
\end{Highlighting}
\end{Shaded}

\hypertarget{finding}{%
\subsection{Finding}\label{finding}}

\hypertarget{find-the-first-match}{%
\subsubsection{Find The First Match}\label{find-the-first-match}}

There are two ways to find the first match:\\
- \textbf{\texttt{re.search}} find first match anywhere in text, including multiline\\
- \textbf{\texttt{re.match}} find first match at the BEGINNING of text, similar to \texttt{re.search}with \texttt{\^{}}\\
- Both returns first match, return \textbf{MatchObject}\\
- Both returns \textbf{None} if no match is found

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{pattern1 }\OperatorTok{=}\NormalTok{ re.}\BuiltInTok{compile}\NormalTok{(}\StringTok{'123'}\NormalTok{) }
\NormalTok{pattern2 }\OperatorTok{=}\NormalTok{ re.}\BuiltInTok{compile}\NormalTok{(}\StringTok{'123'}\NormalTok{)}
\NormalTok{pattern3 }\OperatorTok{=}\NormalTok{ re.}\BuiltInTok{compile}\NormalTok{(}\StringTok{'^123'}\NormalTok{)  }\CommentTok{# equivalent to above}
\NormalTok{text }\OperatorTok{=} \StringTok{'abc123xyz'}

\CommentTok{## Single Line Text Example}
\BuiltInTok{print}\NormalTok{( }\StringTok{'re.search found a match somewhere:}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{,}
\NormalTok{       pattern1.search(text), }\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{, }\CommentTok{## found}
       \StringTok{'}\CharTok{\textbackslash{}n}\StringTok{re.match did not find anything at the beginning:}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{,}
\NormalTok{       pattern2.match(text), }\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{,}
       \StringTok{'}\CharTok{\textbackslash{}n}\StringTok{re.search did not find anything at beginning too:}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{,}
\NormalTok{       pattern3.search(text))        }\CommentTok{## None}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> re.search found a match somewhere:
#:>  <re.Match object; span=(3, 6), match='123'> 
#:>  
#:> re.match did not find anything at the beginning:
#:>  None 
#:>  
#:> re.search did not find anything at beginning too:
#:>  None
\end{verbatim}

Returned \textbf{MatchObject} provides useful information about the matched string.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{age_pattern }\OperatorTok{=}\NormalTok{ re.}\BuiltInTok{compile}\NormalTok{(}\VerbatimStringTok{r'\textbackslash{}d+'}\NormalTok{)}
\NormalTok{age_text    }\OperatorTok{=} \StringTok{'Ali is my teacher. He is 109 years old. his kid is 40 years old.'}
\NormalTok{first_found }\OperatorTok{=}\NormalTok{ age_pattern.search(age_text)}

\BuiltInTok{print}\NormalTok{(}\StringTok{'Found Object:           '}\NormalTok{, first_found,}
      \StringTok{'}\CharTok{\textbackslash{}n}\StringTok{Input Text:             '}\NormalTok{, first_found.string,}
      \StringTok{'}\CharTok{\textbackslash{}n}\StringTok{Input Pattern:          '}\NormalTok{, first_found.re,}
      \StringTok{'}\CharTok{\textbackslash{}n}\StringTok{First Found string:     '}\NormalTok{, first_found.group(),}
      \StringTok{'}\CharTok{\textbackslash{}n}\StringTok{Found Start Position:   '}\NormalTok{, first_found.start(),}
      \StringTok{'}\CharTok{\textbackslash{}n}\StringTok{Found End Position:     '}\NormalTok{, first_found.end(),}
      \StringTok{'}\CharTok{\textbackslash{}n}\StringTok{Found Span:             '}\NormalTok{, first_found.span(),)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> Found Object:            <re.Match object; span=(25, 28), match='109'> 
#:> Input Text:              Ali is my teacher. He is 109 years old. his kid is 40 years old. 
#:> Input Pattern:           re.compile('\\d+') 
#:> First Found string:      109 
#:> Found Start Position:    25 
#:> Found End Position:      28 
#:> Found Span:              (25, 28)
\end{verbatim}

\hypertarget{find-all-matches}{%
\subsubsection{Find All Matches}\label{find-all-matches}}

\textbf{\texttt{findall()}} returns all matching string as \textbf{list}. If no matches found, it return an empty list.

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{(}
  \StringTok{'Finding Two Digits:'}\NormalTok{,}
\NormalTok{  re.findall(}\VerbatimStringTok{r'\textbackslash{}d\textbackslash{}d'}\NormalTok{,}\StringTok{'abc123xyz456'}\NormalTok{), }\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{,}
  \StringTok{'}\CharTok{\textbackslash{}n}\StringTok{Found Nothing:'}\NormalTok{,}
\NormalTok{  re.findall(}\VerbatimStringTok{r'\textbackslash{}d\textbackslash{}d'}\NormalTok{,}\StringTok{'abcxyz'}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> Finding Two Digits: ['12', '45'] 
#:>  
#:> Found Nothing: []
\end{verbatim}

\hypertarget{matching-condition}{%
\subsection{Matching Condition}\label{matching-condition}}

\hypertarget{meta-characters}{%
\subsubsection{Meta Characters}\label{meta-characters}}

\begin{verbatim}
[]     match any single character within the bracket
[1234] is the same as [1-4]
[0-39] is the same as [01239]
[a-e]  is the same as [abcde]
[^abc] means any character except a,b,c
[^0-9] means any character except 0-9
a|b:   a or b
{n,m}  at least n repetition, but maximum m repetition
()     grouping
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{pattern }\OperatorTok{=}\NormalTok{ re.}\BuiltInTok{compile}\NormalTok{(}\VerbatimStringTok{r'[a-z]+'}\NormalTok{)}
\NormalTok{text1 }\OperatorTok{=} \StringTok{"tempo"}
\NormalTok{text2 }\OperatorTok{=} \StringTok{"tempo1"}
\NormalTok{text3 }\OperatorTok{=} \StringTok{"123 tempo1"}
\NormalTok{text4 }\OperatorTok{=} \StringTok{" tempo"}
\BuiltInTok{print}\NormalTok{(}
  \StringTok{'Matching Text1:'}\NormalTok{, pattern.match(text1),}
  \StringTok{'}\CharTok{\textbackslash{}n}\StringTok{Matching Text2:'}\NormalTok{, pattern.match(text2),}
  \StringTok{'}\CharTok{\textbackslash{}n}\StringTok{Matching Text3:'}\NormalTok{, pattern.match(text3),}
  \StringTok{'}\CharTok{\textbackslash{}n}\StringTok{Matching Text4:'}\NormalTok{, pattern.match(text4))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> Matching Text1: <re.Match object; span=(0, 5), match='tempo'> 
#:> Matching Text2: <re.Match object; span=(0, 5), match='tempo'> 
#:> Matching Text3: None 
#:> Matching Text4: None
\end{verbatim}

\hypertarget{special-sequence}{%
\subsubsection{Special Sequence}\label{special-sequence}}

\begin{verbatim}
. : [^\n]
\d: [0-9]              \D: [^0-9]
\s: [ \t\n\r\f\v]      \S: [^ \t\n\r\f\v]
\w: [a-zA-Z0-9_]       \W: [^a-zA-Z0-9_]
\t: tab
\n: newline
\b: word boundry (delimited by space, \t, \n)
\end{verbatim}

\textbf{Word Boundary Using \texttt{\textbackslash{}b}}:

\begin{itemize}
\tightlist
\item
  \texttt{\textbackslash{}bABC} match if specified characters at the beginning of word (delimited by space, \texttt{\textbackslash{}t}, \texttt{\textbackslash{}n}), or beginning of newline\\
\item
  \texttt{ABC\textbackslash{}b} match if specified characters at the end of word (delimited by space, \texttt{\textbackslash{}t}, \texttt{\textbackslash{}n}), or end of the line
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{text }\OperatorTok{=} \StringTok{"ABCD ABC XYZABC"}
\NormalTok{pattern1 }\OperatorTok{=}\NormalTok{ re.}\BuiltInTok{compile}\NormalTok{(}\VerbatimStringTok{r'\textbackslash{}bABC'}\NormalTok{)}
\NormalTok{pattern2 }\OperatorTok{=}\NormalTok{ re.}\BuiltInTok{compile}\NormalTok{(}\VerbatimStringTok{r'ABC\textbackslash{}b'}\NormalTok{)}
\NormalTok{pattern3 }\OperatorTok{=}\NormalTok{ re.}\BuiltInTok{compile}\NormalTok{(}\VerbatimStringTok{r'\textbackslash{}bABC\textbackslash{}b'}\NormalTok{)}

\BuiltInTok{print}\NormalTok{(}\StringTok{'Match word that begins ABC:'}\NormalTok{,}
\NormalTok{  pattern1.findall(text), }\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{,}
  \StringTok{'Match word that ends with ABC:'}\NormalTok{,}
\NormalTok{  pattern2.findall(text),}\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{,}
  \StringTok{'Match isolated word with ABC:'}\NormalTok{,}
\NormalTok{  pattern3.findall(text))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> Match word that begins ABC: ['ABC', 'ABC'] 
#:>  Match word that ends with ABC: ['ABC', 'ABC'] 
#:>  Match isolated word with ABC: ['ABC']
\end{verbatim}

\hypertarget{repetition}{%
\subsubsection{Repetition}\label{repetition}}

When repetition is used, re will be \textbf{greedy}; it try to repeat as many times as possible. If \textbf{later portions of the pattern don't match}, the matching engine will then \textbf{back up and try again} with fewer repetitions.

\begin{verbatim}
?:    zero or 1 occurance
*:    zero or more occurance
+:    one  or more occurance
\end{verbatim}

\textbf{\texttt{?} Zero or 1 Occurance}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{text }\OperatorTok{=} \StringTok{'abcbcdd'}
\NormalTok{pattern }\OperatorTok{=}\NormalTok{ re.}\BuiltInTok{compile}\NormalTok{(}\VerbatimStringTok{r'a[bcd]?b'}\NormalTok{)}
\NormalTok{pattern.findall(text)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> ['ab']
\end{verbatim}

\textbf{\texttt{+} At Least One Occurance}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{text }\OperatorTok{=} \StringTok{'abcbcdd'}
\NormalTok{pattern }\OperatorTok{=}\NormalTok{ re.}\BuiltInTok{compile}\NormalTok{(}\VerbatimStringTok{r'a[bcd]+b'}\NormalTok{)}
\NormalTok{pattern.findall(text)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> ['abcb']
\end{verbatim}

\textbf{\texttt{*} Zero Or More Occurance Occurance}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{text }\OperatorTok{=} \StringTok{'abcbcdd'}
\NormalTok{pattern }\OperatorTok{=}\NormalTok{ re.}\BuiltInTok{compile}\NormalTok{(}\VerbatimStringTok{r'a[bcd]*b'}\NormalTok{)}
\NormalTok{pattern.findall(text)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> ['abcb']
\end{verbatim}

\hypertarget{greedy-vs-non-greedy}{%
\subsubsection{Greedy vs Non-Greedy}\label{greedy-vs-non-greedy}}

\begin{itemize}
\tightlist
\item
  The \texttt{*}, \texttt{+}, and \texttt{?} qualifiers are all greedy; they match as much text as possible\\
\item
  If the \texttt{\textless{}.*\textgreater{}} is matched against \texttt{\textless{}a\textgreater{}\ b\ \textless{}c\textgreater{}}, it will match the entire string, and not just \texttt{\textless{}a\textgreater{}}\\
\item
  Adding \textbf{\texttt{?}} after the qualifier makes it perform the match in non-greedy; as few characters as possible will be matched. Using the RE \textless.*?\textgreater{} will match only `'
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{text }\OperatorTok{=} \StringTok{'<a> ali baba <c>'}
\NormalTok{greedy_pattern     }\OperatorTok{=}\NormalTok{ re.}\BuiltInTok{compile}\NormalTok{(}\VerbatimStringTok{r'<.*>'}\NormalTok{)}
\NormalTok{non_greedy_pattern }\OperatorTok{=}\NormalTok{ re.}\BuiltInTok{compile}\NormalTok{(}\VerbatimStringTok{r'<.*?>'}\NormalTok{)}
\BuiltInTok{print}\NormalTok{( }\StringTok{'Greedy:      '}\NormalTok{ ,        greedy_pattern.findall(text), }\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{,}
       \StringTok{'Non Greedy: '}\NormalTok{, non_greedy_pattern.findall(text) )}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> Greedy:       ['<a> ali baba <c>'] 
#:>  Non Greedy:  ['<a>', '<c>']
\end{verbatim}

\hypertarget{grouping-1}{%
\subsection{Grouping}\label{grouping-1}}

When \texttt{()} is used in the pattern, retrive the grouping components in MatchObject with \texttt{.groups()}. Result is in list. Example below extract hours, minutes and am/pm into a list.

\hypertarget{capturing-group}{%
\subsubsection{Capturing Group}\label{capturing-group}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{text }\OperatorTok{=} \StringTok{'Today at Wednesday, 10:50pm, we go for a walk'}
\NormalTok{pattern }\OperatorTok{=}\NormalTok{ re.}\BuiltInTok{compile}\NormalTok{(}\VerbatimStringTok{r'(\textbackslash{}d\textbackslash{}d):(\textbackslash{}d\textbackslash{}d)(am|pm)'}\NormalTok{)}
\NormalTok{m }\OperatorTok{=}\NormalTok{ pattern.search(text)}
\BuiltInTok{print}\NormalTok{(}
  \StringTok{'All Gropus: '}\NormalTok{, m.groups(), }\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{,}
  \StringTok{'Group 1: '}\NormalTok{, m.group(}\DecValTok{1}\NormalTok{), }\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{,}
  \StringTok{'Group 2: '}\NormalTok{, m.group(}\DecValTok{2}\NormalTok{), }\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{,}
  \StringTok{'Group 3: '}\NormalTok{, m.group(}\DecValTok{3}\NormalTok{) )}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> All Gropus:  ('10', '50', 'pm') 
#:>  Group 1:  10 
#:>  Group 2:  50 
#:>  Group 3:  pm
\end{verbatim}

\hypertarget{non-capturing-group}{%
\subsubsection{Non-Capturing Group}\label{non-capturing-group}}

Having \texttt{(:?\ )} means don't capture this group

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{text }\OperatorTok{=} \StringTok{'Today at Wednesday, 10:50pm, we go for a walk'}
\NormalTok{pattern }\OperatorTok{=}\NormalTok{ re.}\BuiltInTok{compile}\NormalTok{(}\VerbatimStringTok{r'(:?\textbackslash{}d\textbackslash{}d):(?:\textbackslash{}d\textbackslash{}d)(am|pm)'}\NormalTok{)}
\NormalTok{m }\OperatorTok{=}\NormalTok{ pattern.search(text)}
\BuiltInTok{print}\NormalTok{(}
  \StringTok{'All Gropus: '}\NormalTok{, m.groups(), }\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{,}
  \StringTok{'Group 1: '}\NormalTok{, m.group(}\DecValTok{1}\NormalTok{), }\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{,}
  \StringTok{'Group 2: '}\NormalTok{, m.group(}\DecValTok{2}\NormalTok{) )}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> All Gropus:  ('10', 'pm') 
#:>  Group 1:  10 
#:>  Group 2:  pm
\end{verbatim}

\hypertarget{splittitng}{%
\subsection{Splittitng}\label{splittitng}}

Pattern is used to match \textbf{delimters}.

\hypertarget{use-re.split}{%
\subsubsection{\texorpdfstring{Use \texttt{re.split()}}{Use re.split()}}\label{use-re.split}}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{( re.split(}\StringTok{'@'}\NormalTok{,  }\StringTok{"aa@bb @ cc "}\NormalTok{), }\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{,}
\NormalTok{       re.split(}\StringTok{'\textbackslash{}|'}\NormalTok{, }\StringTok{"aa|bb | cc "}\NormalTok{), }\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{,}
\NormalTok{       re.split(}\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{, }\StringTok{"sentence1}\CharTok{\textbackslash{}n}\StringTok{sentence2}\CharTok{\textbackslash{}n}\StringTok{sentence3"}\NormalTok{) )}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> ['aa', 'bb ', ' cc '] 
#:>  ['aa', 'bb ', ' cc '] 
#:>  ['sentence1', 'sentence2', 'sentence3']
\end{verbatim}

\hypertarget{use-re.compile.split}{%
\subsubsection{\texorpdfstring{Use \texttt{re.compile().split()}}{Use re.compile().split()}}\label{use-re.compile.split}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{pattern }\OperatorTok{=}\NormalTok{ re.}\BuiltInTok{compile}\NormalTok{(}\VerbatimStringTok{r"\textbackslash{}|"}\NormalTok{)}
\NormalTok{pattern.split(}\StringTok{"aa|bb | cc "}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> ['aa', 'bb ', ' cc ']
\end{verbatim}

\hypertarget{substitution-re.sub}{%
\subsection{\texorpdfstring{Substitution \texttt{re.sub()}}{Substitution re.sub()}}\label{substitution-re.sub}}

\hypertarget{found-match}{%
\subsubsection{Found Match}\label{found-match}}

Example below repalce anything within \texttt{\{\{.*\}\}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{re.sub(}\VerbatimStringTok{r'(}\SpecialCharTok{\{\{}\VerbatimStringTok{.*}\SpecialCharTok{\}\}}\VerbatimStringTok{)'}\NormalTok{, }\StringTok{'Durian'}\NormalTok{, }\StringTok{'I like to eat }\SpecialCharTok{\{\{}\StringTok{Food}\SpecialCharTok{\}\}}\StringTok{.'}\NormalTok{, flags}\OperatorTok{=}\NormalTok{re.IGNORECASE)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 'I like to eat Durian.'
\end{verbatim}

Replace \texttt{AND} with \texttt{\&}. This does not require \texttt{()} grouping

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{re.sub(}\VerbatimStringTok{r'\textbackslash{}sAND\textbackslash{}s'}\NormalTok{, }\StringTok{' & '}\NormalTok{, }\StringTok{'Baked Beans And Spam'}\NormalTok{, flags}\OperatorTok{=}\NormalTok{re.IGNORECASE)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 'Baked Beans & Spam'
\end{verbatim}

\hypertarget{no-match}{%
\subsubsection{No Match}\label{no-match}}

If not pattern not found, return the original text.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{re.sub(}\VerbatimStringTok{r'(}\SpecialCharTok{\{\{}\VerbatimStringTok{.*}\SpecialCharTok{\}\}}\VerbatimStringTok{)'}\NormalTok{, }\StringTok{'Durian'}\NormalTok{, }\StringTok{'I like to eat <Food>.'}\NormalTok{, flags}\OperatorTok{=}\NormalTok{re.IGNORECASE)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 'I like to eat <Food>.'
\end{verbatim}

\hypertarget{practical-examples}{%
\subsection{Practical Examples}\label{practical-examples}}

\hypertarget{extracting-float}{%
\subsubsection{Extracting Float}\label{extracting-float}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{re_float }\OperatorTok{=}\NormalTok{ re.}\BuiltInTok{compile}\NormalTok{(}\VerbatimStringTok{r'\textbackslash{}d+(\textbackslash{}.\textbackslash{}d+)?'}\NormalTok{)}
\KeywordTok{def}\NormalTok{ extract_float(x):}
\NormalTok{    money }\OperatorTok{=}\NormalTok{ x.replace(}\StringTok{','}\NormalTok{,}\StringTok{''}\NormalTok{)}
\NormalTok{    result }\OperatorTok{=}\NormalTok{ re_float.search(money)}
    \ControlFlowTok{return} \BuiltInTok{float}\NormalTok{(result.group()) }\ControlFlowTok{if}\NormalTok{ result }\ControlFlowTok{else} \BuiltInTok{float}\NormalTok{(}\DecValTok{0}\NormalTok{)}

\BuiltInTok{print}\NormalTok{( extract_float(}\StringTok{'123,456.78'}\NormalTok{), }\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{,}
\NormalTok{       extract_float(}\StringTok{'rm 123.78 (30%)'}\NormalTok{), }\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{,}
\NormalTok{       extract_float(}\StringTok{'rm 123,456.78 (30%)'}\NormalTok{) )}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 123456.78 
#:>  123.78 
#:>  123456.78
\end{verbatim}

\hypertarget{word-tokenizer}{%
\section{Word Tokenizer}\label{word-tokenizer}}

\hypertarget{custom-tokenizer}{%
\subsection{Custom Tokenizer}\label{custom-tokenizer}}

\hypertarget{split-by-regex-pattern}{%
\subsubsection{Split By Regex Pattern}\label{split-by-regex-pattern}}

Use \textbf{regex} to split words based on \textbf{specific punctuation as delimeter}.\\
The rule is: split input text when any one or more continuous occurances of specified character.

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ re}
\NormalTok{pattern }\OperatorTok{=}\NormalTok{ re.}\BuiltInTok{compile}\NormalTok{(}\VerbatimStringTok{r"[-\textbackslash{}s.,;!?]+"}\NormalTok{)}
\NormalTok{pattern.split(}\StringTok{"hi @ali--baba, you are aweeeeeesome! isn't it. Believe it.:)"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> ['hi', '@ali', 'baba', 'you', 'are', 'aweeeeeesome', "isn't", 'it', 'Believe', 'it', ':)']
\end{verbatim}

\hypertarget{pick-by-regex-pattern-nltk.tokenize.regexptokenizer}{%
\subsubsection{\texorpdfstring{Pick By Regex Pattern \texttt{nltk.tokenize.RegexpTokenizer}}{Pick By Regex Pattern nltk.tokenize.RegexpTokenizer}}\label{pick-by-regex-pattern-nltk.tokenize.regexptokenizer}}

Any sequence of chars fall within the bracket are considered tokens. Any chars not within the bracket are removed.

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ nltk.tokenize }\ImportTok{import}\NormalTok{ RegexpTokenizer}
\NormalTok{my_tokenizer }\OperatorTok{=}\NormalTok{ RegexpTokenizer(}\VerbatimStringTok{r'[a-zA-Z0-9\textbackslash{}']+'}\NormalTok{)}
\NormalTok{my_tokenizer.tokenize(}\StringTok{"hi @ali--baba, you are aweeeeeesome! isn't it. Believe it.:"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> ['hi', 'ali', 'baba', 'you', 'are', 'aweeeeeesome', "isn't", 'it', 'Believe', 'it']
\end{verbatim}

\hypertarget{nltk.tokenize.word_tokenize}{%
\subsection{\texorpdfstring{\texttt{nltk.tokenize.word\_tokenize()}}{nltk.tokenize.word\_tokenize()}}\label{nltk.tokenize.word_tokenize}}

Words and punctuations are considered as tokens!

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ nltk}
\NormalTok{nltk.download(}\StringTok{'punkt'}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> True
#:> 
#:> [nltk_data] Downloading package punkt to /home/msfz751/nltk_data...
#:> [nltk_data]   Package punkt is already up-to-date!
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ nltk.tokenize }\ImportTok{import}\NormalTok{ word_tokenize}
\BuiltInTok{print}\NormalTok{( word_tokenize(}\StringTok{"hi @ali-baba, you are aweeeeeesome! isn't it. Believe it.:)"}\NormalTok{) )}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> ['hi', '@', 'ali-baba', ',', 'you', 'are', 'aweeeeeesome', '!', 'is', "n't", 'it', '.', 'Believe', 'it', '.', ':', ')']
\end{verbatim}

\hypertarget{nltk.tokenize.casual.casual_tokenize}{%
\subsection{\texorpdfstring{\texttt{nltk.tokenize.casual.casual\_tokenize()}}{nltk.tokenize.casual.casual\_tokenize()}}\label{nltk.tokenize.casual.casual_tokenize}}

\begin{itemize}
\tightlist
\item
  Support emoji
\item
  Support reduction of repetition chars
\item
  Support removing userid (@someone)
\item
  Good for social media text
\item
  Punctuations are tokens!
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ nltk.tokenize.casual     }\ImportTok{import}\NormalTok{ casual_tokenize}
\BuiltInTok{print}\NormalTok{( casual_tokenize(}\StringTok{"hi @ali-baba, you are aweeeeeesome! isn't it. Believe it. :)"}\NormalTok{) )  }
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> ['hi', '@ali', '-', 'baba', ',', 'you', 'are', 'aweeeeeesome', '!', "isn't", 'it', '.', 'Believe', 'it', '.', ':)']
\end{verbatim}

Example below shorten repeating chars, notice aweeeeeesome becomes aweeesome

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{## shorten repeated chars}
\BuiltInTok{print}\NormalTok{( casual_tokenize(}\StringTok{"hi @ali-baba, you are aweeeeeesome! isn't it. Believe it.:)"}\NormalTok{, }
\NormalTok{          reduce_len}\OperatorTok{=}\VariableTok{True}\NormalTok{))     }
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> ['hi', '@ali', '-', 'baba', ',', 'you', 'are', 'aweeesome', '!', "isn't", 'it', '.', 'Believe', 'it', '.', ':)']
\end{verbatim}

Stripping off User ID

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{## shorten repeated chars, stirp usernames}
\BuiltInTok{print}\NormalTok{( casual_tokenize(}\StringTok{"hi @ali-baba, you are aweeeeeesome! isn't it. Believe it.:)"}\NormalTok{, }
\NormalTok{          reduce_len}\OperatorTok{=}\VariableTok{True}\NormalTok{,      }
\NormalTok{          strip_handles}\OperatorTok{=}\VariableTok{True}\NormalTok{))  }
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> ['hi', '-', 'baba', ',', 'you', 'are', 'aweeesome', '!', "isn't", 'it', '.', 'Believe', 'it', '.', ':)']
\end{verbatim}

\hypertarget{nltk.tokenize.treebank.treebankwordtokenizer.tokenize}{%
\subsection{\texorpdfstring{\texttt{nltk.tokenize.treebank.TreebankWordTokenizer().tokenize()}}{nltk.tokenize.treebank.TreebankWordTokenizer().tokenize()}}\label{nltk.tokenize.treebank.treebankwordtokenizer.tokenize}}

Treebank assume input text is \textbf{A sentence}, hence any period combined with word is treated as token.

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ nltk.tokenize.treebank   }\ImportTok{import}\NormalTok{ TreebankWordTokenizer}
\NormalTok{TreebankWordTokenizer().tokenize(}\StringTok{"hi @ali-baba, you are aweeeeeesome! isn't it. Believe it.:)"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> ['hi', '@', 'ali-baba', ',', 'you', 'are', 'aweeeeeesome', '!', 'is', "n't", 'it.', 'Believe', 'it.', ':', ')']
\end{verbatim}

\hypertarget{corpus-token-extractor}{%
\subsection{Corpus Token Extractor}\label{corpus-token-extractor}}

A corpus is a collection of documents (list of documents). A document is a text string containing one or many sentences.

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ nltk.tokenize }\ImportTok{import}\NormalTok{ word_tokenize}
\ImportTok{from}\NormalTok{ nlpia.data.loaders }\ImportTok{import}\NormalTok{ harry_docs }\ImportTok{as}\NormalTok{ corpus}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{## Tokenize each doc to list, then add to a bigger list}
\NormalTok{doc_tokens}\OperatorTok{=}\NormalTok{[]}
\ControlFlowTok{for}\NormalTok{ doc }\KeywordTok{in}\NormalTok{ corpus:}
\NormalTok{  doc_tokens }\OperatorTok{+=}\NormalTok{ [word_tokenize(doc.lower())]}

\BuiltInTok{print}\NormalTok{(}\StringTok{'Corpus (Contain 3 Documents):}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{,corpus,}\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{,}
      \StringTok{'}\CharTok{\textbackslash{}n}\StringTok{Tokenized result for each document:'}\NormalTok{,}\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{,doc_tokens)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> Corpus (Contain 3 Documents):
#:>  ['The faster Harry got to the store, the faster and faster Harry would get home.', 'Harry is hairy and faster than Jill.', 'Jill is not as hairy as Harry.'] 
#:>  
#:> Tokenized result for each document: 
#:>  [['the', 'faster', 'harry', 'got', 'to', 'the', 'store', ',', 'the', 'faster', 'and', 'faster', 'harry', 'would', 'get', 'home', '.'], ['harry', 'is', 'hairy', 'and', 'faster', 'than', 'jill', '.'], ['jill', 'is', 'not', 'as', 'hairy', 'as', 'harry', '.']]
\end{verbatim}

Unpack list of token lists from above using sum. To get the \textbf{vocabulary} (unique tokens), \textbf{convert list to set}.

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{## unpack list of list to list}
\NormalTok{vocab }\OperatorTok{=} \BuiltInTok{sum}\NormalTok{(doc_tokens,[])}
\BuiltInTok{print}\NormalTok{(}\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{Corpus Vacabulary (Unique Tokens):}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{,}
       \BuiltInTok{sorted}\NormalTok{(}\BuiltInTok{set}\NormalTok{(vocab)))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 
#:> Corpus Vacabulary (Unique Tokens):
#:>  [',', '.', 'and', 'as', 'faster', 'get', 'got', 'hairy', 'harry', 'home', 'is', 'jill', 'not', 'store', 'than', 'the', 'to', 'would']
\end{verbatim}

\hypertarget{sentence-tokenizer}{%
\section{Sentence Tokenizer}\label{sentence-tokenizer}}

This is about detecting sentence boundry and split text into list of sentences

\hypertarget{sample-text}{%
\subsection{Sample Text}\label{sample-text}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{text }\OperatorTok{=} \StringTok{'''}
\StringTok{Hello Mr. Smith, how are you doing today?}
\StringTok{The weather is great, and city is awesome.}
\StringTok{The sky is pinkish-blue, Dr. Alba would agree.}
\StringTok{You shouldn't eat hard things i.e. cardboard, stones and bushes}
\StringTok{'''}
\end{Highlighting}
\end{Shaded}

\hypertarget{nltk.tokenize.punkt.punktsentencetokenizer}{%
\subsection{'nltk.tokenize.punkt.PunktSentenceTokenizer`}\label{nltk.tokenize.punkt.punktsentencetokenizer}}

\begin{itemize}
\tightlist
\item
  The \texttt{PunktSentenceTokenizer} is an sentence boundary detection algorithm. It is an unsupervised trainable model. This means it can be trained on unlabeled data, aka text that is not split into sentences\\
\item
  PunkSentneceTokenizer is based on work published on this paepr: \href{https://www.mitpressjournals.org/doi/abs/10.1162/coli.2006.32.4.485\#.V2ouLXUrLeQ}{Unsupervised Multilingual Sentence Boundary Detection}
\end{itemize}

\hypertarget{default-behavior}{%
\subsubsection{Default Behavior}\label{default-behavior}}

Vanila tokenizer splits sentences on period \texttt{.}, which is not desirable

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ nltk.tokenize.punkt }\ImportTok{import}\NormalTok{ PunktSentenceTokenizer, PunktTrainer}
\CommentTok{#nltk.download('punkt')}
\NormalTok{tokenizer }\OperatorTok{=}\NormalTok{ PunktSentenceTokenizer()}
\NormalTok{tokenized_text }\OperatorTok{=}\NormalTok{ tokenizer.tokenize(text) }
\ControlFlowTok{for}\NormalTok{ x }\KeywordTok{in}\NormalTok{ tokenized_text:}
  \BuiltInTok{print}\NormalTok{(x) }
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 
#:> Hello Mr.
#:> Smith, how are you doing today?
#:> The weather is great, and city is awesome.
#:> The sky is pinkish-blue, Dr.
#:> Alba would agree.
#:> You shouldn't eat hard things i.e.
#:> cardboard, stones and bushes
\end{verbatim}

\hypertarget{pretrained-model---english-pickle}{%
\subsubsection{Pretrained Model - English Pickle}\label{pretrained-model---english-pickle}}

NLTK already includes a pre-trained version of the PunktSentenceTokenizer for English, as you can see, it is quite good

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{tokenizer      }\OperatorTok{=}\NormalTok{ nltk.data.load(}\StringTok{'tokenizers/punkt/english.pickle'}\NormalTok{)}
\NormalTok{tokenized_text }\OperatorTok{=}\NormalTok{ tokenizer.tokenize(text) }
\ControlFlowTok{for}\NormalTok{ x }\KeywordTok{in}\NormalTok{ tokenized_text:}
  \BuiltInTok{print}\NormalTok{(x) }
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 
#:> Hello Mr. Smith, how are you doing today?
#:> The weather is great, and city is awesome.
#:> The sky is pinkish-blue, Dr. Alba would agree.
#:> You shouldn't eat hard things i.e.
#:> cardboard, stones and bushes
\end{verbatim}

\hypertarget{adding-abbreviations}{%
\subsubsection{Adding Abbreviations}\label{adding-abbreviations}}

\begin{itemize}
\tightlist
\item
  The pretrained tokenizer is not perfect, it wrongly detected `i.e.' as sentence boundary\\
\item
  Let's \textbf{teach} Punkt by adding the abbreviation to its parameter
\end{itemize}

\textbf{Adding Single Abbreviation}

\begin{Shaded}
\begin{Highlighting}[]

\NormalTok{tokenizer      }\OperatorTok{=}\NormalTok{ nltk.data.load(}\StringTok{'tokenizers/punkt/english.pickle'}\NormalTok{)}

\CommentTok{## Add apprevaitions to Tokenizer}
\NormalTok{tokenizer._params.abbrev_types.add(}\StringTok{'i.e'}\NormalTok{)}

\NormalTok{tokenized_text }\OperatorTok{=}\NormalTok{ tokenizer.tokenize(text) }
\ControlFlowTok{for}\NormalTok{ x }\KeywordTok{in}\NormalTok{ tokenized_text:}
  \BuiltInTok{print}\NormalTok{(x)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 
#:> Hello Mr. Smith, how are you doing today?
#:> The weather is great, and city is awesome.
#:> The sky is pinkish-blue, Dr. Alba would agree.
#:> You shouldn't eat hard things i.e. cardboard, stones and bushes
\end{verbatim}

\textbf{Add List of Abbreviations}

If you have more than one abbreviations, use \texttt{update()} with the list of abbreviations

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ nltk.tokenize.punkt }\ImportTok{import}\NormalTok{ PunktSentenceTokenizer, PunktParameters}

\CommentTok{## Add Abbreviations to Tokenizer}
\NormalTok{tokenizer }\OperatorTok{=}\NormalTok{  nltk.data.load(}\StringTok{'tokenizers/punkt/english.pickle'}\NormalTok{)}
\NormalTok{tokenizer._params.abbrev_types.update([}\StringTok{'dr'}\NormalTok{, }\StringTok{'vs'}\NormalTok{, }\StringTok{'mr'}\NormalTok{, }\StringTok{'mrs'}\NormalTok{, }\StringTok{'prof'}\NormalTok{, }\StringTok{'inc'}\NormalTok{, }\StringTok{'i.e'}\NormalTok{])}

\NormalTok{sentences }\OperatorTok{=}\NormalTok{ tokenizer.tokenize(text) }
\ControlFlowTok{for}\NormalTok{ x }\KeywordTok{in}\NormalTok{ sentences:}
  \BuiltInTok{print}\NormalTok{(x) }
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 
#:> Hello Mr. Smith, how are you doing today?
#:> The weather is great, and city is awesome.
#:> The sky is pinkish-blue, Dr. Alba would agree.
#:> You shouldn't eat hard things i.e. cardboard, stones and bushes
\end{verbatim}

\hypertarget{nltk.tokenize.sent_tokenize}{%
\subsection{\texorpdfstring{\texttt{nltk.tokenize.sent\_tokenize()}}{nltk.tokenize.sent\_tokenize()}}\label{nltk.tokenize.sent_tokenize}}

The \texttt{sent\_tokenize} function uses an instance of \textbf{PunktSentenceTokenizer}, which is already been trained and thus very well knows to mark the end and begining of sentence at what characters and punctuation.

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ nltk.tokenize }\ImportTok{import}\NormalTok{ sent_tokenize}

\NormalTok{sentences }\OperatorTok{=}\NormalTok{ sent_tokenize(text)}
\ControlFlowTok{for}\NormalTok{ x }\KeywordTok{in}\NormalTok{ sentences:}
  \BuiltInTok{print}\NormalTok{(x) }
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 
#:> Hello Mr. Smith, how are you doing today?
#:> The weather is great, and city is awesome.
#:> The sky is pinkish-blue, Dr. Alba would agree.
#:> You shouldn't eat hard things i.e. cardboard, stones and bushes
\end{verbatim}

\hypertarget{n-gram}{%
\section{N-Gram}\label{n-gram}}

To create n-gram, first create 1-gram token

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ nltk.util }\ImportTok{import}\NormalTok{ ngrams }
\ImportTok{import}\NormalTok{ re}
\NormalTok{sentence }\OperatorTok{=} \StringTok{"Thomas Jefferson began building the city, at the age of 25"}
\NormalTok{pattern }\OperatorTok{=}\NormalTok{ re.}\BuiltInTok{compile}\NormalTok{(}\VerbatimStringTok{r"[-\textbackslash{}s.,;!?]+"}\NormalTok{)}
\NormalTok{tokens }\OperatorTok{=}\NormalTok{ pattern.split(sentence)}
\BuiltInTok{print}\NormalTok{(tokens)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> ['Thomas', 'Jefferson', 'began', 'building', 'the', 'city', 'at', 'the', 'age', 'of', '25']
\end{verbatim}

\textbf{ngrams()} is a generator, therefore, use \textbf{list()} to convert into full list

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{ngrams(tokens,}\DecValTok{2}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> <generator object ngrams at 0x7f2046ea5c50>
\end{verbatim}

Convert 1-gram to 2-Gram, wrap into list

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{grammy }\OperatorTok{=} \BuiltInTok{list}\NormalTok{( ngrams(tokens,}\DecValTok{2}\NormalTok{) )}
\BuiltInTok{print}\NormalTok{(grammy)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> [('Thomas', 'Jefferson'), ('Jefferson', 'began'), ('began', 'building'), ('building', 'the'), ('the', 'city'), ('city', 'at'), ('at', 'the'), ('the', 'age'), ('age', 'of'), ('of', '25')]
\end{verbatim}

Combine each 2-gram into a string object

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{[ }\StringTok{" "}\NormalTok{.join(x) }\ControlFlowTok{for}\NormalTok{ x }\KeywordTok{in}\NormalTok{ grammy]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> ['Thomas Jefferson', 'Jefferson began', 'began building', 'building the', 'the city', 'city at', 'at the', 'the age', 'age of', 'of 25']
\end{verbatim}

\hypertarget{stopwords}{%
\section{Stopwords}\label{stopwords}}

\hypertarget{custom-stop-words}{%
\subsection{Custom Stop Words}\label{custom-stop-words}}

Build the custom stop words dictionary.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{stop_words }\OperatorTok{=}\NormalTok{ [}\StringTok{'a'}\NormalTok{,}\StringTok{'an'}\NormalTok{,}\StringTok{'the'}\NormalTok{,}\StringTok{'on'}\NormalTok{,}\StringTok{'of'}\NormalTok{,}\StringTok{'off'}\NormalTok{,}\StringTok{'this'}\NormalTok{,}\StringTok{'is'}\NormalTok{,}\StringTok{'at'}\NormalTok{]}
\end{Highlighting}
\end{Shaded}

Tokenize text and remove stop words

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{sentence }\OperatorTok{=} \StringTok{"The house is on fire"}
\NormalTok{tokens   }\OperatorTok{=}\NormalTok{ word_tokenize(sentence)}
\NormalTok{tokens_without_stopwords }\OperatorTok{=}\NormalTok{ [ x }\ControlFlowTok{for}\NormalTok{ x }\KeywordTok{in}\NormalTok{ tokens }\ControlFlowTok{if}\NormalTok{ x }\KeywordTok{not} \KeywordTok{in}\NormalTok{ stop_words ]}

\BuiltInTok{print}\NormalTok{(}\StringTok{' Original Tokens  : '}\NormalTok{, tokens, }\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{,}
      \StringTok{'Removed Stopwords: '}\NormalTok{,tokens_without_stopwords)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>  Original Tokens  :  ['The', 'house', 'is', 'on', 'fire'] 
#:>  Removed Stopwords:  ['The', 'house', 'fire']
\end{verbatim}

\hypertarget{nltk-stop-words}{%
\subsection{NLTK Stop Words}\label{nltk-stop-words}}

Contain 179 words, in a list form

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ nltk}
\NormalTok{nltk.download(}\StringTok{'stopwords'}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> True
#:> 
#:> [nltk_data] Downloading package stopwords to
#:> [nltk_data]     /home/msfz751/nltk_data...
#:> [nltk_data]   Package stopwords is already up-to-date!
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ nltk}
\CommentTok{#nltk.download('stopwords')}
\NormalTok{nltk_stop_words }\OperatorTok{=}\NormalTok{ nltk.corpus.stopwords.words(}\StringTok{'english'}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(}\StringTok{'Total NLTK Stopwords: '}\NormalTok{, }\BuiltInTok{len}\NormalTok{(nltk_stop_words),}\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{,}
\NormalTok{      nltk_stop_words)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> Total NLTK Stopwords:  179 
#:>  ['i', 'me', 'my', 'myself', 'we', 'our', 'ours', 'ourselves', 'you', "you're", "you've", "you'll", "you'd", 'your', 'yours', 'yourself', 'yourselves', 'he', 'him', 'his', 'himself', 'she', "she's", 'her', 'hers', 'herself', 'it', "it's", 'its', 'itself', 'they', 'them', 'their', 'theirs', 'themselves', 'what', 'which', 'who', 'whom', 'this', 'that', "that'll", 'these', 'those', 'am', 'is', 'are', 'was', 'were', 'be', 'been', 'being', 'have', 'has', 'had', 'having', 'do', 'does', 'did', 'doing', 'a', 'an', 'the', 'and', 'but', 'if', 'or', 'because', 'as', 'until', 'while', 'of', 'at', 'by', 'for', 'with', 'about', 'against', 'between', 'into', 'through', 'during', 'before', 'after', 'above', 'below', 'to', 'from', 'up', 'down', 'in', 'out', 'on', 'off', 'over', 'under', 'again', 'further', 'then', 'once', 'here', 'there', 'when', 'where', 'why', 'how', 'all', 'any', 'both', 'each', 'few', 'more', 'most', 'other', 'some', 'such', 'no', 'nor', 'not', 'only', 'own', 'same', 'so', 'than', 'too', 'very', 's', 't', 'can', 'will', 'just', 'don', "don't", 'should', "should've", 'now', 'd', 'll', 'm', 'o', 're', 've', 'y', 'ain', 'aren', "aren't", 'couldn', "couldn't", 'didn', "didn't", 'doesn', "doesn't", 'hadn', "hadn't", 'hasn', "hasn't", 'haven', "haven't", 'isn', "isn't", 'ma', 'mightn', "mightn't", 'mustn', "mustn't", 'needn', "needn't", 'shan', "shan't", 'shouldn', "shouldn't", 'wasn', "wasn't", 'weren', "weren't", 'won', "won't", 'wouldn', "wouldn't"]
\end{verbatim}

\hypertarget{sklearn-stop-words}{%
\subsection{SKLearn Stop Words}\label{sklearn-stop-words}}

Contain 318 stop words, in frozenset form

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ sklearn.feature_extraction.text }\ImportTok{import}\NormalTok{ ENGLISH_STOP_WORDS }\ImportTok{as}\NormalTok{ sklearn_stop_words}
\BuiltInTok{print}\NormalTok{(}\StringTok{' Total Sklearn Stopwords: '}\NormalTok{, }\BuiltInTok{len}\NormalTok{(sklearn_stop_words),}\StringTok{'}\CharTok{\textbackslash{}n\textbackslash{}n}\StringTok{'}\NormalTok{,}
\NormalTok{       sklearn_stop_words)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>  Total Sklearn Stopwords:  318 
#:> 
#:>  frozenset({'give', 'someone', 'why', 'my', 'latterly', 'a', 'anywhere', 'whereas', 'us', 'de', 'made', 'last', 'thus', 'least', 'either', 'system', 'besides', 'nor', 'somehow', 'beside', 'call', 'fill', 'should', 'back', 'two', 'anything', 'thick', 'after', 'due', 'must', 'do', 'whom', 'first', 'be', 'across', 'via', 'some', 'it', 'the', 'at', 'hereby', 'somewhere', 'being', 'further', 'three', 'itself', 'describe', 'rather', 'same', 'always', 'whatever', 'while', 'whoever', 'moreover', 'now', 'hasnt', 'whole', 'mine', 'former', 'beforehand', 'sometime', 'of', 'you', 'very', 'sincere', 'has', 'thereby', 'against', 'only', 'until', 'thin', 'that', 'whether', 'un', 'thereupon', 'enough', 'above', 'ie', 'next', 'are', 'everywhere', 'fire', 'herself', 'she', 'himself', 'throughout', 'ten', 'anyway', 'more', 'several', 'became', 'in', 'what', 'full', 'around', 'co', 'whose', 'up', 'down', 'once', 'seems', 'whence', 'since', 'within', 'cry', 'interest', 'alone', 'becomes', 'except', 'i', 'than', 'on', 'another', 'show', 'off', 'ever', 'seem', 'is', 'might', 'an', 'he', 'therefore', 'hereupon', 'one', 'his', 'already', 'name', 'beyond', 'was', 'with', 'see', 'and', 'few', 'none', 'yet', 'we', 'eg', 'among', 'these', 'how', 'hers', 'have', 'put', 'yourself', 'everyone', 'though', 'done', 'before', 'fifty', 'there', 'also', 'couldnt', 'often', 'all', 'four', 'mill', 'had', 'am', 'not', 'sometimes', 'too', 'cant', 'herein', 'may', 'towards', 'everything', 'found', 'themselves', 'about', 'any', 'amongst', 'eleven', 'go', 'inc', 'part', 'for', 'amoungst', 'side', 'although', 'etc', 'from', 'else', 'cannot', 'hereafter', 'because', 'hundred', 'hence', 'empty', 'twelve', 'or', 'under', 'namely', 'much', 'its', 'whereupon', 'thru', 'will', 'otherwise', 'into', 'each', 'five', 'then', 'neither', 'so', 'below', 'ours', 'top', 'nothing', 'seeming', 'detail', 'six', 'serious', 'others', 'thereafter', 'could', 'but', 'without', 'con', 'yourselves', 'own', 'still', 'ltd', 'amount', 'per', 'both', 'this', 'toward', 'please', 'sixty', 'out', 'wherever', 'onto', 'bill', 'twenty', 'which', 'nobody', 'would', 'as', 'nowhere', 'can', 'been', 'find', 'anyhow', 'whereby', 'behind', 'upon', 'many', 'together', 'take', 'latter', 'here', 'afterwards', 'were', 'become', 'yours', 'again', 'myself', 'other', 'through', 'where', 'never', 'indeed', 'something', 'eight', 'our', 'such', 're', 'well', 'keep', 'them', 'most', 'your', 'seemed', 'perhaps', 'whither', 'fifteen', 'between', 'get', 'during', 'her', 'they', 'if', 'him', 'mostly', 'move', 'anyone', 'thence', 'however', 'front', 'less', 'no', 'whereafter', 'over', 'to', 'who', 'nevertheless', 'elsewhere', 'ourselves', 'nine', 'their', 'those', 'me', 'when', 'along', 'by', 'therein', 'almost', 'becoming', 'forty', 'every', 'formerly', 'bottom', 'even', 'noone', 'whenever', 'wherein', 'meanwhile', 'third'})
\end{verbatim}

\hypertarget{combined-nltk-and-sklearn-stop-words}{%
\subsection{Combined NLTK and SKLearn Stop Words}\label{combined-nltk-and-sklearn-stop-words}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{combined_stop_words }\OperatorTok{=} \BuiltInTok{list}\NormalTok{( }\BuiltInTok{set}\NormalTok{(nltk_stop_words) }\OperatorTok{|} \BuiltInTok{set}\NormalTok{(sklearn_stop_words) )}
\BuiltInTok{print}\NormalTok{(}\StringTok{'Total combined NLTK and SKLearn Stopwords:'}\NormalTok{, }\BuiltInTok{len}\NormalTok{( combined_stop_words ),}\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{'}
      \StringTok{'Stopwords shared among NLTK and SKlearn  :'}\NormalTok{, }\BuiltInTok{len}\NormalTok{( }\BuiltInTok{list}\NormalTok{( }\BuiltInTok{set}\NormalTok{(nltk_stop_words) }\OperatorTok{&} \BuiltInTok{set}\NormalTok{(sklearn_stop_words)) ))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> Total combined NLTK and SKLearn Stopwords: 378 
#:> Stopwords shared among NLTK and SKlearn  : 119
\end{verbatim}

\hypertarget{normalizing}{%
\section{Normalizing}\label{normalizing}}

Similar things are combined into single normalized form. This will reduced the vocabulary.

\hypertarget{case-folding}{%
\subsection{Case Folding}\label{case-folding}}

If tokens aren't cap normalized, you will end up with large word list. However, some information is often communicated by capitalization of word, such as name of places. If names are important, consider using proper noun.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{tokens }\OperatorTok{=}\NormalTok{ [}\StringTok{'House'}\NormalTok{,}\StringTok{'Visitor'}\NormalTok{,}\StringTok{'Center'}\NormalTok{]}
\NormalTok{[ x.lower() }\ControlFlowTok{for}\NormalTok{ x }\KeywordTok{in}\NormalTok{ tokens]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> ['house', 'visitor', 'center']
\end{verbatim}

\hypertarget{stemming}{%
\subsection{Stemming}\label{stemming}}

\begin{itemize}
\tightlist
\item
  Output of a stemmer is \textbf{not necessary a proper word}
\item
  Automatically convert words to \textbf{lower cap}
\item
  \textbf{Porter stemmer} is a lifetime refinement with 300 lines of python code\\
\item
  Stemming is faster then Lemmatization
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ nltk.stem.porter }\ImportTok{import}\NormalTok{ PorterStemmer}
\NormalTok{stemmer }\OperatorTok{=}\NormalTok{ PorterStemmer()}
\NormalTok{tokens }\OperatorTok{=}\NormalTok{ (}\StringTok{'house'}\NormalTok{,}\StringTok{'Housing'}\NormalTok{,}\StringTok{'hOuses'}\NormalTok{, }\StringTok{'Malicious'}\NormalTok{,}\StringTok{'goodness'}\NormalTok{)}
\NormalTok{[stemmer.stem(x) }\ControlFlowTok{for}\NormalTok{ x }\KeywordTok{in}\NormalTok{ tokens ]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> ['hous', 'hous', 'hous', 'malici', 'good']
\end{verbatim}

\hypertarget{lemmatization}{%
\subsection{Lemmatization}\label{lemmatization}}

NLTK uses connections within \textbf{princeton WordNet} graph for word meanings.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{nltk.download(}\StringTok{'wordnet'}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> True
#:> 
#:> [nltk_data] Downloading package wordnet to /home/msfz751/nltk_data...
#:> [nltk_data]   Package wordnet is already up-to-date!
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ nltk.stem }\ImportTok{import}\NormalTok{ WordNetLemmatizer}
\NormalTok{lemmatizer }\OperatorTok{=}\NormalTok{ WordNetLemmatizer()}

\BuiltInTok{print}\NormalTok{( lemmatizer.lemmatize(}\StringTok{"better"}\NormalTok{, pos }\OperatorTok{=}\StringTok{'a'}\NormalTok{), }\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{,}
\NormalTok{       lemmatizer.lemmatize(}\StringTok{"better"}\NormalTok{, pos }\OperatorTok{=}\StringTok{'n'}\NormalTok{) )}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> good 
#:>  better
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{( lemmatizer.lemmatize(}\StringTok{"good"}\NormalTok{, pos }\OperatorTok{=}\StringTok{'a'}\NormalTok{), }\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{,}
\NormalTok{       lemmatizer.lemmatize(}\StringTok{"good"}\NormalTok{, pos }\OperatorTok{=}\StringTok{'n'}\NormalTok{) )}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> good 
#:>  good
\end{verbatim}

\hypertarget{comparing-stemming-and-lemmatization}{%
\subsection{Comparing Stemming and Lemmatization}\label{comparing-stemming-and-lemmatization}}

\begin{itemize}
\tightlist
\item
  Lemmatization is slower than stemming = Lemmatization is better at retaining meanings
\item
  Lemmatization produce valid english word
\item
  Stemming not necessary produce valid english word
\item
  Both reduce vocabulary size, but increase ambiguity
\item
  For search engine application, stemming and lemmatization will improve recall as it associate more documents with the same query words, however with the cost of reducing precision and accuracy.
\end{itemize}

For search-based chatbot where accuracy is more important, it should first search with unnormalzied words.

\hypertarget{wordnet}{%
\section{Wordnet}\label{wordnet}}

WordNet is a large lexical database of English. Nouns, verbs, adjectives and adverbs are grouped into sets of cognitive synonyms (synsets), each expressing a distinct concept. Synsets are interlinked by means of conceptual-semantic and lexical relations.

WordNet superficially resembles a thesaurus, in that it groups words together based on their meanings. However, there are some important distinctions:\\
- WordNet interlinks not just word forms---strings of letters---but specific senses of words. As a result, words that are found in close proximity to one another in the network are semantically disambiguated\\
- WordNet labels the semantic relations among words, whereas the groupings of words in a thesaurus does not follow any explicit pattern other than meaning similarity

\href{https://wordnet.princeton.edu}{Wordnet Princeton}

\href{http://wordnetweb.princeton.edu/perl/webwn}{Wordnet Online Browser}

\hypertarget{nltk-and-wordnet}{%
\subsection{NLTK and Wordnet}\label{nltk-and-wordnet}}

NLTK (version 3.7.6) includes the English WordNet (147,307 words and 117,659 synonym sets)

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ nltk.corpus }\ImportTok{import}\NormalTok{ wordnet }\ImportTok{as}\NormalTok{ wn}

\NormalTok{s }\OperatorTok{=} \BuiltInTok{set}\NormalTok{( wn.all_synsets() )}
\NormalTok{w }\OperatorTok{=} \BuiltInTok{set}\NormalTok{(wn.words())}
\BuiltInTok{print}\NormalTok{(}\StringTok{'Total words in wordnet  : '}\NormalTok{ ,   }\BuiltInTok{len}\NormalTok{(w),}
      \StringTok{'}\CharTok{\textbackslash{}n}\StringTok{Total synsets in wordnet: '}\NormalTok{ , }\BuiltInTok{len}\NormalTok{(s) )}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> Total words in wordnet  :  147306 
#:> Total synsets in wordnet:  117659
\end{verbatim}

\hypertarget{synset}{%
\subsection{Synset}\label{synset}}

\hypertarget{notation}{%
\subsubsection{Notation}\label{notation}}

A synset is the basic construct of a word in wordnet. It contains the \textbf{Word} itself, with its \textbf{POS} tag and \textbf{Usage}: \textbf{\texttt{word.pos.nn}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{wn.synset(}\StringTok{'breakdown.n.03'}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> Synset('breakdown.n.03')
\end{verbatim}

Breaking down the construct:

\begin{verbatim}
'breakdown' = Word
'n'         = Part of Speech
'03'        = Usage (01 for most common usage and a higher number would indicate lesser common usages)
\end{verbatim}

\hypertarget{part-of-speech}{%
\subsubsection{Part of Speech}\label{part-of-speech}}

Wordnet support five POS tags

\begin{verbatim}
n - NOUN
v - VERB
a - ADJECTIVE
s - ADJECTIVE SATELLITE
r - ADVERB
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{(wn.ADJ, wn.ADJ_SAT, wn.ADV, wn.NOUN, wn.VERB)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> a s r n v
\end{verbatim}

\hypertarget{synset-similarity}{%
\subsubsection{Synset Similarity}\label{synset-similarity}}

Let's see how similar are the below two nouns

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{w1 }\OperatorTok{=}\NormalTok{ wn.synset(}\StringTok{'dog.n.01'}\NormalTok{)}
\NormalTok{w2 }\OperatorTok{=}\NormalTok{ wn.synset(}\StringTok{'ship.n.01'}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(w1.wup_similarity(w2))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 0.4
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{w1 }\OperatorTok{=}\NormalTok{ wn.synset(}\StringTok{'ship.n.01'}\NormalTok{)}
\NormalTok{w2 }\OperatorTok{=}\NormalTok{ wn.synset(}\StringTok{'boat.n.01'}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(w1.wup_similarity(w2))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 0.9090909090909091
\end{verbatim}

\hypertarget{synsets}{%
\subsection{Synsets}\label{synsets}}

\begin{itemize}
\tightlist
\item
  Synsets is a collection of synsets, which are synonyms that share a common meaning\\
\item
  A synset (member of Synsets) is identified with a 3-part name of the form:
\item
  A synset can contain one or more lemmas, which represent a specific sense of a specific word\\
\item
  A synset can contain one or more \textbf{Hyponyms and Hypernyms}. These are specific and generalized concepts respectively. For example, `beach house' and `guest house' are hyponyms of `house'. They are more specific concepts of `house'. And `house' is a hypernym of `guest house' because it is the general concept\\
\item
  \textbf{Hyponyms and Hypernyms} are also called lexical relations
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{dogs }\OperatorTok{=}\NormalTok{ wn.synsets(}\StringTok{'dog'}\NormalTok{) }\CommentTok{# get all synsets for word 'dog'}

\ControlFlowTok{for}\NormalTok{ d }\KeywordTok{in}\NormalTok{ dogs:  }\CommentTok{## iterate through each Synset}
  \BuiltInTok{print}\NormalTok{(d,}\StringTok{':}\CharTok{\textbackslash{}n}\StringTok{Definition:'}\NormalTok{, d.definition(),}
           \StringTok{'}\CharTok{\textbackslash{}n}\StringTok{Example:'}\NormalTok{,    d.examples(),}
           \StringTok{'}\CharTok{\textbackslash{}n}\StringTok{Lemmas:'}\NormalTok{,     d.lemma_names(),}
           \StringTok{'}\CharTok{\textbackslash{}n}\StringTok{Hyponyms:'}\NormalTok{,   d.hyponyms(), }
           \StringTok{'}\CharTok{\textbackslash{}n}\StringTok{Hypernyms:'}\NormalTok{,  d.hypernyms(), }\StringTok{'}\CharTok{\textbackslash{}n\textbackslash{}n}\StringTok{'}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> Synset('dog.n.01') :
#:> Definition: a member of the genus Canis (probably descended from the common wolf) that has been domesticated by man since prehistoric times; occurs in many breeds 
#:> Example: ['the dog barked all night'] 
#:> Lemmas: ['dog', 'domestic_dog', 'Canis_familiaris'] 
#:> Hyponyms: [Synset('basenji.n.01'), Synset('corgi.n.01'), Synset('cur.n.01'), Synset('dalmatian.n.02'), Synset('great_pyrenees.n.01'), Synset('griffon.n.02'), Synset('hunting_dog.n.01'), Synset('lapdog.n.01'), Synset('leonberg.n.01'), Synset('mexican_hairless.n.01'), Synset('newfoundland.n.01'), Synset('pooch.n.01'), Synset('poodle.n.01'), Synset('pug.n.01'), Synset('puppy.n.01'), Synset('spitz.n.01'), Synset('toy_dog.n.01'), Synset('working_dog.n.01')] 
#:> Hypernyms: [Synset('canine.n.02'), Synset('domestic_animal.n.01')] 
#:> 
#:> 
#:> Synset('frump.n.01') :
#:> Definition: a dull unattractive unpleasant girl or woman 
#:> Example: ['she got a reputation as a frump', "she's a real dog"] 
#:> Lemmas: ['frump', 'dog'] 
#:> Hyponyms: [] 
#:> Hypernyms: [Synset('unpleasant_woman.n.01')] 
#:> 
#:> 
#:> Synset('dog.n.03') :
#:> Definition: informal term for a man 
#:> Example: ['you lucky dog'] 
#:> Lemmas: ['dog'] 
#:> Hyponyms: [] 
#:> Hypernyms: [Synset('chap.n.01')] 
#:> 
#:> 
#:> Synset('cad.n.01') :
#:> Definition: someone who is morally reprehensible 
#:> Example: ['you dirty dog'] 
#:> Lemmas: ['cad', 'bounder', 'blackguard', 'dog', 'hound', 'heel'] 
#:> Hyponyms: [Synset('perisher.n.01')] 
#:> Hypernyms: [Synset('villain.n.01')] 
#:> 
#:> 
#:> Synset('frank.n.02') :
#:> Definition: a smooth-textured sausage of minced beef or pork usually smoked; often served on a bread roll 
#:> Example: [] 
#:> Lemmas: ['frank', 'frankfurter', 'hotdog', 'hot_dog', 'dog', 'wiener', 'wienerwurst', 'weenie'] 
#:> Hyponyms: [Synset('vienna_sausage.n.01')] 
#:> Hypernyms: [Synset('sausage.n.01')] 
#:> 
#:> 
#:> Synset('pawl.n.01') :
#:> Definition: a hinged catch that fits into a notch of a ratchet to move a wheel forward or prevent it from moving backward 
#:> Example: [] 
#:> Lemmas: ['pawl', 'detent', 'click', 'dog'] 
#:> Hyponyms: [] 
#:> Hypernyms: [Synset('catch.n.06')] 
#:> 
#:> 
#:> Synset('andiron.n.01') :
#:> Definition: metal supports for logs in a fireplace 
#:> Example: ['the andirons were too hot to touch'] 
#:> Lemmas: ['andiron', 'firedog', 'dog', 'dog-iron'] 
#:> Hyponyms: [] 
#:> Hypernyms: [Synset('support.n.10')] 
#:> 
#:> 
#:> Synset('chase.v.01') :
#:> Definition: go after with the intent to catch 
#:> Example: ['The policeman chased the mugger down the alley', 'the dog chased the rabbit'] 
#:> Lemmas: ['chase', 'chase_after', 'trail', 'tail', 'tag', 'give_chase', 'dog', 'go_after', 'track'] 
#:> Hyponyms: [Synset('hound.v.01'), Synset('quest.v.02'), Synset('run_down.v.07'), Synset('tree.v.03')] 
#:> Hypernyms: [Synset('pursue.v.02')]
\end{verbatim}

\hypertarget{part-of-speech-pos}{%
\section{Part Of Speech (POS)}\label{part-of-speech-pos}}

\begin{itemize}
\tightlist
\item
  In corpus linguistics, part-of-speech tagging (POS tagging or PoS tagging or POST), also called \textbf{grammatical tagging} or \textbf{word-category disambiguation}, is the process of marking up a word in a text (corpus) as corresponding to a particular part of speech, based on both its definition and its context---i.e., its relationship with adjacent and related words in a phrase, sentence, or paragraph\\
\item
  This is useful for Information Retrieval, Text to Speech, Word Sense Disambiguation\\
\item
  The primary target of Part-of-Speech(POS) tagging is to identify the grammatical group of a given word. Whether it is a NOUN, PRONOUN, ADJECTIVE, VERB, ADVERBS, etc. based on the context\\
\item
  A simplified form of this is commonly taught to school-age children, in the identification of words as nouns, verbs, adjectives, adverbs, etc
\end{itemize}

\hypertarget{tag-sets}{%
\subsection{Tag Sets}\label{tag-sets}}

\begin{itemize}
\tightlist
\item
  Schools commonly teach that there are 9 parts of speech in English: noun, verb, article, adjective, preposition, pronoun, adverb, conjunction, and interjection\\
\item
  However, there are clearly many more categories and sub-categories
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{ nltk.download(}\StringTok{'universal_tagset'}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\hypertarget{universal-tagset}{%
\subsubsection{Universal Tagset}\label{universal-tagset}}

This tagset contains \textbf{12} coarse tags

\begin{verbatim}
VERB - verbs (all tenses and modes)
NOUN - nouns (common and proper)
PRON - pronouns
ADJ - adjectives
ADV - adverbs
ADP - adpositions (prepositions and postpositions)
CONJ - conjunctions
DET - determiners
NUM - cardinal numbers
PRT - particles or other function words
X - other: foreign words, typos, abbreviations
. - punctuation
\end{verbatim}

\hypertarget{penn-treebank-tagset}{%
\subsubsection{Penn Treebank Tagset}\label{penn-treebank-tagset}}

\begin{itemize}
\tightlist
\item
  This is the most popular ``tag set'' for American English, developed in the Penn Treebank project\\
\item
  It has \textbf{36 POS tags plus 12} others for punctuations and special symbols
\end{itemize}

\href{https://www.sketchengine.eu/penn-treebank-tagset/}{PENN POS Tagset}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{nltk.download(}\StringTok{'tagsets'}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> True
#:> 
#:> [nltk_data] Downloading package tagsets to /home/msfz751/nltk_data...
#:> [nltk_data]   Package tagsets is already up-to-date!
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{nltk.}\BuiltInTok{help}\NormalTok{.upenn_tagset()}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> $: dollar
#:>     $ -$ --$ A$ C$ HK$ M$ NZ$ S$ U.S.$ US$
#:> '': closing quotation mark
#:>     ' ''
#:> (: opening parenthesis
#:>     ( [ {
#:> ): closing parenthesis
#:>     ) ] }
#:> ,: comma
#:>     ,
#:> --: dash
#:>     --
#:> .: sentence terminator
#:>     . ! ?
#:> :: colon or ellipsis
#:>     : ; ...
#:> CC: conjunction, coordinating
#:>     & 'n and both but either et for less minus neither nor or plus so
#:>     therefore times v. versus vs. whether yet
#:> CD: numeral, cardinal
#:>     mid-1890 nine-thirty forty-two one-tenth ten million 0.5 one forty-
#:>     seven 1987 twenty '79 zero two 78-degrees eighty-four IX '60s .025
#:>     fifteen 271,124 dozen quintillion DM2,000 ...
#:> DT: determiner
#:>     all an another any both del each either every half la many much nary
#:>     neither no some such that the them these this those
#:> EX: existential there
#:>     there
#:> FW: foreign word
#:>     gemeinschaft hund ich jeux habeas Haementeria Herr K'ang-si vous
#:>     lutihaw alai je jour objets salutaris fille quibusdam pas trop Monte
#:>     terram fiche oui corporis ...
#:> IN: preposition or conjunction, subordinating
#:>     astride among uppon whether out inside pro despite on by throughout
#:>     below within for towards near behind atop around if like until below
#:>     next into if beside ...
#:> JJ: adjective or numeral, ordinal
#:>     third ill-mannered pre-war regrettable oiled calamitous first separable
#:>     ectoplasmic battery-powered participatory fourth still-to-be-named
#:>     multilingual multi-disciplinary ...
#:> JJR: adjective, comparative
#:>     bleaker braver breezier briefer brighter brisker broader bumper busier
#:>     calmer cheaper choosier cleaner clearer closer colder commoner costlier
#:>     cozier creamier crunchier cuter ...
#:> JJS: adjective, superlative
#:>     calmest cheapest choicest classiest cleanest clearest closest commonest
#:>     corniest costliest crassest creepiest crudest cutest darkest deadliest
#:>     dearest deepest densest dinkiest ...
#:> LS: list item marker
#:>     A A. B B. C C. D E F First G H I J K One SP-44001 SP-44002 SP-44005
#:>     SP-44007 Second Third Three Two * a b c d first five four one six three
#:>     two
#:> MD: modal auxiliary
#:>     can cannot could couldn't dare may might must need ought shall should
#:>     shouldn't will would
#:> NN: noun, common, singular or mass
#:>     common-carrier cabbage knuckle-duster Casino afghan shed thermostat
#:>     investment slide humour falloff slick wind hyena override subhumanity
#:>     machinist ...
#:> NNP: noun, proper, singular
#:>     Motown Venneboerger Czestochwa Ranzer Conchita Trumplane Christos
#:>     Oceanside Escobar Kreisler Sawyer Cougar Yvette Ervin ODI Darryl CTCA
#:>     Shannon A.K.C. Meltex Liverpool ...
#:> NNPS: noun, proper, plural
#:>     Americans Americas Amharas Amityvilles Amusements Anarcho-Syndicalists
#:>     Andalusians Andes Andruses Angels Animals Anthony Antilles Antiques
#:>     Apache Apaches Apocrypha ...
#:> NNS: noun, common, plural
#:>     undergraduates scotches bric-a-brac products bodyguards facets coasts
#:>     divestitures storehouses designs clubs fragrances averages
#:>     subjectivists apprehensions muses factory-jobs ...
#:> PDT: pre-determiner
#:>     all both half many quite such sure this
#:> POS: genitive marker
#:>     ' 's
#:> PRP: pronoun, personal
#:>     hers herself him himself hisself it itself me myself one oneself ours
#:>     ourselves ownself self she thee theirs them themselves they thou thy us
#:> PRP$: pronoun, possessive
#:>     her his mine my our ours their thy your
#:> RB: adverb
#:>     occasionally unabatingly maddeningly adventurously professedly
#:>     stirringly prominently technologically magisterially predominately
#:>     swiftly fiscally pitilessly ...
#:> RBR: adverb, comparative
#:>     further gloomier grander graver greater grimmer harder harsher
#:>     healthier heavier higher however larger later leaner lengthier less-
#:>     perfectly lesser lonelier longer louder lower more ...
#:> RBS: adverb, superlative
#:>     best biggest bluntest earliest farthest first furthest hardest
#:>     heartiest highest largest least less most nearest second tightest worst
#:> RP: particle
#:>     aboard about across along apart around aside at away back before behind
#:>     by crop down ever fast for forth from go high i.e. in into just later
#:>     low more off on open out over per pie raising start teeth that through
#:>     under unto up up-pp upon whole with you
#:> SYM: symbol
#:>     % & ' '' ''. ) ). * + ,. < = > @ A[fj] U.S U.S.S.R * ** ***
#:> TO: "to" as preposition or infinitive marker
#:>     to
#:> UH: interjection
#:>     Goodbye Goody Gosh Wow Jeepers Jee-sus Hubba Hey Kee-reist Oops amen
#:>     huh howdy uh dammit whammo shucks heck anyways whodunnit honey golly
#:>     man baby diddle hush sonuvabitch ...
#:> VB: verb, base form
#:>     ask assemble assess assign assume atone attention avoid bake balkanize
#:>     bank begin behold believe bend benefit bevel beware bless boil bomb
#:>     boost brace break bring broil brush build ...
#:> VBD: verb, past tense
#:>     dipped pleaded swiped regummed soaked tidied convened halted registered
#:>     cushioned exacted snubbed strode aimed adopted belied figgered
#:>     speculated wore appreciated contemplated ...
#:> VBG: verb, present participle or gerund
#:>     telegraphing stirring focusing angering judging stalling lactating
#:>     hankerin' alleging veering capping approaching traveling besieging
#:>     encrypting interrupting erasing wincing ...
#:> VBN: verb, past participle
#:>     multihulled dilapidated aerosolized chaired languished panelized used
#:>     experimented flourished imitated reunifed factored condensed sheared
#:>     unsettled primed dubbed desired ...
#:> VBP: verb, present tense, not 3rd person singular
#:>     predominate wrap resort sue twist spill cure lengthen brush terminate
#:>     appear tend stray glisten obtain comprise detest tease attract
#:>     emphasize mold postpone sever return wag ...
#:> VBZ: verb, present tense, 3rd person singular
#:>     bases reconstructs marks mixes displeases seals carps weaves snatches
#:>     slumps stretches authorizes smolders pictures emerges stockpiles
#:>     seduces fizzes uses bolsters slaps speaks pleads ...
#:> WDT: WH-determiner
#:>     that what whatever which whichever
#:> WP: WH-pronoun
#:>     that what whatever whatsoever which who whom whosoever
#:> WP$: WH-pronoun, possessive
#:>     whose
#:> WRB: Wh-adverb
#:>     how however whence whenever where whereby whereever wherein whereof why
#:> ``: opening quotation mark
#:>     ` ``
\end{verbatim}

\hypertarget{claws5-tagset}{%
\subsubsection{Claws5 Tagset}\label{claws5-tagset}}

\href{https://www.sketchengine.eu/english-claws5-part-of-speech-tagset/}{Claws5 POS Tagset}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{nltk.}\BuiltInTok{help}\NormalTok{.claws5_tagset()}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> AJ0: adjective (unmarked)
#:>     good, old
#:> AJC: comparative adjective
#:>     better, older
#:> AJS: superlative adjective
#:>     best, oldest
#:> AT0: article
#:>     THE, A, AN
#:> AV0: adverb (unmarked)
#:>     often, well, longer, furthest
#:> AVP: adverb particle
#:>     up, off, out
#:> AVQ: wh-adverb
#:>     when, how, why
#:> CJC: coordinating conjunction
#:>     and, or
#:> CJS: subordinating conjunction
#:>     although, when
#:> CJT: the conjunction THAT
#:>     that
#:> CRD: cardinal numeral
#:>     3, fifty-five, 6609 (excl one)
#:> DPS: possessive determiner form
#:>     your, their
#:> DT0: general determiner
#:>     these, some
#:> DTQ: wh-determiner
#:>     whose, which
#:> EX0: existential THERE
#:>     there
#:> ITJ: interjection or other isolate
#:>     oh, yes, mhm
#:> NN0: noun (neutral for number)
#:>     aircraft, data
#:> NN1: singular noun
#:>     pencil, goose
#:> NN2: plural noun
#:>     pencils, geese
#:> NP0: proper noun
#:>     London, Michael, Mars
#:> NULL: the null tag (for items not to be tagged)
#:> ORD: ordinal
#:>     sixth, 77th, last
#:> PNI: indefinite pronoun
#:>     none, everything
#:> PNP: personal pronoun
#:>     you, them, ours
#:> PNQ: wh-pronoun
#:>     who, whoever
#:> PNX: reflexive pronoun
#:>     itself, ourselves
#:> POS: the possessive (or genitive morpheme)
#:>     's or '
#:> PRF: the preposition OF
#:>     of
#:> PRP: preposition (except for OF)
#:>     for, above, to
#:> PUL: punctuation
#:>     left bracket - ( or [ )
#:> PUN: punctuation
#:>     general mark - . ! , : ; - ? ...
#:> PUQ: punctuation
#:>     quotation mark - ` ' "
#:> PUR: punctuation
#:>     right bracket - ) or ]
#:> TO0: infinitive marker TO
#:>     to
#:> UNC: "unclassified" items which are not words of the English lexicon
#:> VBB: the "base forms" of the verb "BE" (except the infinitive)
#:>     am, are
#:> VBD: past form of the verb "BE"
#:>     was, were
#:> VBG: -ing form of the verb "BE"
#:>     being
#:> VBI: infinitive of the verb "BE"
#:>     be
#:> VBN: past participle of the verb "BE"
#:>     been
#:> VBZ: -s form of the verb "BE"
#:>     is, 's
#:> VDB: base form of the verb "DO" (except the infinitive)
#:>     do
#:> VDD: past form of the verb "DO"
#:>     did
#:> VDG: -ing form of the verb "DO"
#:>     doing
#:> VDI: infinitive of the verb "DO"
#:>     do
#:> VDN: past participle of the verb "DO"
#:>     done
#:> VDZ: -s form of the verb "DO"
#:>     does
#:> VHB: base form of the verb "HAVE" (except the infinitive)
#:>     have
#:> VHD: past tense form of the verb "HAVE"
#:>     had, 'd
#:> VHG: -ing form of the verb "HAVE"
#:>     having
#:> VHI: infinitive of the verb "HAVE"
#:>     have
#:> VHN: past participle of the verb "HAVE"
#:>     had
#:> VHZ: -s form of the verb "HAVE"
#:>     has, 's
#:> VM0: modal auxiliary verb
#:>     can, could, will, 'll
#:> VVB: base form of lexical verb (except the infinitive)
#:>     take, live
#:> VVD: past tense form of lexical verb
#:>     took, lived
#:> VVG: -ing form of lexical verb
#:>     taking, living
#:> VVI: infinitive of lexical verb
#:>     take, live
#:> VVN: past participle form of lex. verb
#:>     taken, lived
#:> VVZ: -s form of lexical verb
#:>     takes, lives
#:> XX0: the negative NOT or N'T
#:>     not
#:> ZZ0: alphabetical symbol
#:>     A, B, c, d
\end{verbatim}

\hypertarget{brown-tagset}{%
\subsubsection{Brown Tagset}\label{brown-tagset}}

\href{https://en.wikipedia.org/wiki/Brown_Corpus\#Part-of-speech_tags_used}{Brown POS Tagset}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{nltk.}\BuiltInTok{help}\NormalTok{.brown_tagset()}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> (: opening parenthesis
#:>     (
#:> ): closing parenthesis
#:>     )
#:> *: negator
#:>     not n't
#:> ,: comma
#:>     ,
#:> --: dash
#:>     --
#:> .: sentence terminator
#:>     . ? ; ! :
#:> :: colon
#:>     :
#:> ABL: determiner/pronoun, pre-qualifier
#:>     quite such rather
#:> ABN: determiner/pronoun, pre-quantifier
#:>     all half many nary
#:> ABX: determiner/pronoun, double conjunction or pre-quantifier
#:>     both
#:> AP: determiner/pronoun, post-determiner
#:>     many other next more last former little several enough most least only
#:>     very few fewer past same Last latter less single plenty 'nough lesser
#:>     certain various manye next-to-last particular final previous present
#:>     nuf
#:> AP$: determiner/pronoun, post-determiner, genitive
#:>     other's
#:> AP+AP: determiner/pronoun, post-determiner, hyphenated pair
#:>     many-much
#:> AT: article
#:>     the an no a every th' ever' ye
#:> BE: verb 'to be', infinitive or imperative
#:>     be
#:> BED: verb 'to be', past tense, 2nd person singular or all persons plural
#:>     were
#:> BED*: verb 'to be', past tense, 2nd person singular or all persons plural, negated
#:>     weren't
#:> BEDZ: verb 'to be', past tense, 1st and 3rd person singular
#:>     was
#:> BEDZ*: verb 'to be', past tense, 1st and 3rd person singular, negated
#:>     wasn't
#:> BEG: verb 'to be', present participle or gerund
#:>     being
#:> BEM: verb 'to be', present tense, 1st person singular
#:>     am
#:> BEM*: verb 'to be', present tense, 1st person singular, negated
#:>     ain't
#:> BEN: verb 'to be', past participle
#:>     been
#:> BER: verb 'to be', present tense, 2nd person singular or all persons plural
#:>     are art
#:> BER*: verb 'to be', present tense, 2nd person singular or all persons plural, negated
#:>     aren't ain't
#:> BEZ: verb 'to be', present tense, 3rd person singular
#:>     is
#:> BEZ*: verb 'to be', present tense, 3rd person singular, negated
#:>     isn't ain't
#:> CC: conjunction, coordinating
#:>     and or but plus & either neither nor yet 'n' and/or minus an'
#:> CD: numeral, cardinal
#:>     two one 1 four 2 1913 71 74 637 1937 8 five three million 87-31 29-5
#:>     seven 1,119 fifty-three 7.5 billion hundred 125,000 1,700 60 100 six
#:>     ...
#:> CD$: numeral, cardinal, genitive
#:>     1960's 1961's .404's
#:> CS: conjunction, subordinating
#:>     that as after whether before while like because if since for than altho
#:>     until so unless though providing once lest s'posin' till whereas
#:>     whereupon supposing tho' albeit then so's 'fore
#:> DO: verb 'to do', uninflected present tense, infinitive or imperative
#:>     do dost
#:> DO*: verb 'to do', uninflected present tense or imperative, negated
#:>     don't
#:> DO+PPSS: verb 'to do', past or present tense + pronoun, personal, nominative, not 3rd person singular
#:>     d'you
#:> DOD: verb 'to do', past tense
#:>     did done
#:> DOD*: verb 'to do', past tense, negated
#:>     didn't
#:> DOZ: verb 'to do', present tense, 3rd person singular
#:>     does
#:> DOZ*: verb 'to do', present tense, 3rd person singular, negated
#:>     doesn't don't
#:> DT: determiner/pronoun, singular
#:>     this each another that 'nother
#:> DT$: determiner/pronoun, singular, genitive
#:>     another's
#:> DT+BEZ: determiner/pronoun + verb 'to be', present tense, 3rd person singular
#:>     that's
#:> DT+MD: determiner/pronoun + modal auxillary
#:>     that'll this'll
#:> DTI: determiner/pronoun, singular or plural
#:>     any some
#:> DTS: determiner/pronoun, plural
#:>     these those them
#:> DTS+BEZ: pronoun, plural + verb 'to be', present tense, 3rd person singular
#:>     them's
#:> DTX: determiner, pronoun or double conjunction
#:>     neither either one
#:> EX: existential there
#:>     there
#:> EX+BEZ: existential there + verb 'to be', present tense, 3rd person singular
#:>     there's
#:> EX+HVD: existential there + verb 'to have', past tense
#:>     there'd
#:> EX+HVZ: existential there + verb 'to have', present tense, 3rd person singular
#:>     there's
#:> EX+MD: existential there + modal auxillary
#:>     there'll there'd
#:> FW-*: foreign word: negator
#:>     pas non ne
#:> FW-AT: foreign word: article
#:>     la le el un die der ein keine eine das las les Il
#:> FW-AT+NN: foreign word: article + noun, singular, common
#:>     l'orchestre l'identite l'arcade l'ange l'assistance l'activite
#:>     L'Universite l'independance L'Union L'Unita l'osservatore
#:> FW-AT+NP: foreign word: article + noun, singular, proper
#:>     L'Astree L'Imperiale
#:> FW-BE: foreign word: verb 'to be', infinitive or imperative
#:>     sit
#:> FW-BER: foreign word: verb 'to be', present tense, 2nd person singular or all persons plural
#:>     sind sunt etes
#:> FW-BEZ: foreign word: verb 'to be', present tense, 3rd person singular
#:>     ist est
#:> FW-CC: foreign word: conjunction, coordinating
#:>     et ma mais und aber och nec y
#:> FW-CD: foreign word: numeral, cardinal
#:>     une cinq deux sieben unam zwei
#:> FW-CS: foreign word: conjunction, subordinating
#:>     bevor quam ma
#:> FW-DT: foreign word: determiner/pronoun, singular
#:>     hoc
#:> FW-DT+BEZ: foreign word: determiner + verb 'to be', present tense, 3rd person singular
#:>     c'est
#:> FW-DTS: foreign word: determiner/pronoun, plural
#:>     haec
#:> FW-HV: foreign word: verb 'to have', present tense, not 3rd person singular
#:>     habe
#:> FW-IN: foreign word: preposition
#:>     ad de en a par con dans ex von auf super post sine sur sub avec per
#:>     inter sans pour pendant in di
#:> FW-IN+AT: foreign word: preposition + article
#:>     della des du aux zur d'un del dell'
#:> FW-IN+NN: foreign word: preposition + noun, singular, common
#:>     d'etat d'hotel d'argent d'identite d'art
#:> FW-IN+NP: foreign word: preposition + noun, singular, proper
#:>     d'Yquem d'Eiffel
#:> FW-JJ: foreign word: adjective
#:>     avant Espagnol sinfonica Siciliana Philharmonique grand publique haute
#:>     noire bouffe Douce meme humaine bel serieuses royaux anticus presto
#:>     Sovietskaya Bayerische comique schwarzen ...
#:> FW-JJR: foreign word: adjective, comparative
#:>     fortiori
#:> FW-JJT: foreign word: adjective, superlative
#:>     optimo
#:> FW-NN: foreign word: noun, singular, common
#:>     ballet esprit ersatz mano chatte goutte sang Fledermaus oud def kolkhoz
#:>     roi troika canto boite blutwurst carne muzyka bonheur monde piece force
#:>     ...
#:> FW-NN$: foreign word: noun, singular, common, genitive
#:>     corporis intellectus arte's dei aeternitatis senioritatis curiae
#:>     patronne's chambre's
#:> FW-NNS: foreign word: noun, plural, common
#:>     al culpas vopos boites haflis kolkhozes augen tyrannis alpha-beta-
#:>     gammas metis banditos rata phis negociants crus Einsatzkommandos
#:>     kamikaze wohaws sabinas zorrillas palazzi engages coureurs corroborees
#:>     yori Ubermenschen ...
#:> FW-NP: foreign word: noun, singular, proper
#:>     Karshilama Dieu Rundfunk Afrique Espanol Afrika Spagna Gott Carthago
#:>     deus
#:> FW-NPS: foreign word: noun, plural, proper
#:>     Svenskarna Atlantes Dieux
#:> FW-NR: foreign word: noun, singular, adverbial
#:>     heute morgen aujourd'hui hoy
#:> FW-OD: foreign word: numeral, ordinal
#:>     18e 17e quintus
#:> FW-PN: foreign word: pronoun, nominal
#:>     hoc
#:> FW-PP$: foreign word: determiner, possessive
#:>     mea mon deras vos
#:> FW-PPL: foreign word: pronoun, singular, reflexive
#:>     se
#:> FW-PPL+VBZ: foreign word: pronoun, singular, reflexive + verb, present tense, 3rd person singular
#:>     s'excuse s'accuse
#:> FW-PPO: pronoun, personal, accusative
#:>     lui me moi mi
#:> FW-PPO+IN: foreign word: pronoun, personal, accusative + preposition
#:>     mecum tecum
#:> FW-PPS: foreign word: pronoun, personal, nominative, 3rd person singular
#:>     il
#:> FW-PPSS: foreign word: pronoun, personal, nominative, not 3rd person singular
#:>     ich vous sie je
#:> FW-PPSS+HV: foreign word: pronoun, personal, nominative, not 3rd person singular + verb 'to have', present tense, not 3rd person singular
#:>     j'ai
#:> FW-QL: foreign word: qualifier
#:>     minus
#:> FW-RB: foreign word: adverb
#:>     bas assai deja um wiederum cito velociter vielleicht simpliciter non zu
#:>     domi nuper sic forsan olim oui semper tout despues hors
#:> FW-RB+CC: foreign word: adverb + conjunction, coordinating
#:>     forisque
#:> FW-TO+VB: foreign word: infinitival to + verb, infinitive
#:>     d'entretenir
#:> FW-UH: foreign word: interjection
#:>     sayonara bien adieu arigato bonjour adios bueno tchalo ciao o
#:> FW-VB: foreign word: verb, present tense, not 3rd person singular, imperative or infinitive
#:>     nolo contendere vive fermate faciunt esse vade noli tangere dites duces
#:>     meminisse iuvabit gosaimasu voulez habla ksu'u'peli'afo lacheln miuchi
#:>     say allons strafe portant
#:> FW-VBD: foreign word: verb, past tense
#:>     stabat peccavi audivi
#:> FW-VBG: foreign word: verb, present participle or gerund
#:>     nolens volens appellant seq. obliterans servanda dicendi delenda
#:> FW-VBN: foreign word: verb, past participle
#:>     vue verstrichen rasa verboten engages
#:> FW-VBZ: foreign word: verb, present tense, 3rd person singular
#:>     gouverne sinkt sigue diapiace
#:> FW-WDT: foreign word: WH-determiner
#:>     quo qua quod que quok
#:> FW-WPO: foreign word: WH-pronoun, accusative
#:>     quibusdam
#:> FW-WPS: foreign word: WH-pronoun, nominative
#:>     qui
#:> HV: verb 'to have', uninflected present tense, infinitive or imperative
#:>     have hast
#:> HV*: verb 'to have', uninflected present tense or imperative, negated
#:>     haven't ain't
#:> HV+TO: verb 'to have', uninflected present tense + infinitival to
#:>     hafta
#:> HVD: verb 'to have', past tense
#:>     had
#:> HVD*: verb 'to have', past tense, negated
#:>     hadn't
#:> HVG: verb 'to have', present participle or gerund
#:>     having
#:> HVN: verb 'to have', past participle
#:>     had
#:> HVZ: verb 'to have', present tense, 3rd person singular
#:>     has hath
#:> HVZ*: verb 'to have', present tense, 3rd person singular, negated
#:>     hasn't ain't
#:> IN: preposition
#:>     of in for by considering to on among at through with under into
#:>     regarding than since despite according per before toward against as
#:>     after during including between without except upon out over ...
#:> IN+IN: preposition, hyphenated pair
#:>     f'ovuh
#:> IN+PPO: preposition + pronoun, personal, accusative
#:>     t'hi-im
#:> JJ: adjective
#:>     ecent over-all possible hard-fought favorable hard meager fit such
#:>     widespread outmoded inadequate ambiguous grand clerical effective
#:>     orderly federal foster general proportionate ...
#:> JJ$: adjective, genitive
#:>     Great's
#:> JJ+JJ: adjective, hyphenated pair
#:>     big-large long-far
#:> JJR: adjective, comparative
#:>     greater older further earlier later freer franker wider better deeper
#:>     firmer tougher faster higher bigger worse younger lighter nicer slower
#:>     happier frothier Greater newer Elder ...
#:> JJR+CS: adjective + conjunction, coordinating
#:>     lighter'n
#:> JJS: adjective, semantically superlative
#:>     top chief principal northernmost master key head main tops utmost
#:>     innermost foremost uppermost paramount topmost
#:> JJT: adjective, superlative
#:>     best largest coolest calmest latest greatest earliest simplest
#:>     strongest newest fiercest unhappiest worst youngest worthiest fastest
#:>     hottest fittest lowest finest smallest staunchest ...
#:> MD: modal auxillary
#:>     should may might will would must can could shall ought need wilt
#:> MD*: modal auxillary, negated
#:>     cannot couldn't wouldn't can't won't shouldn't shan't mustn't musn't
#:> MD+HV: modal auxillary + verb 'to have', uninflected form
#:>     shouldda musta coulda must've woulda could've
#:> MD+PPSS: modal auxillary + pronoun, personal, nominative, not 3rd person singular
#:>     willya
#:> MD+TO: modal auxillary + infinitival to
#:>     oughta
#:> NN: noun, singular, common
#:>     failure burden court fire appointment awarding compensation Mayor
#:>     interim committee fact effect airport management surveillance jail
#:>     doctor intern extern night weekend duty legislation Tax Office ...
#:> NN$: noun, singular, common, genitive
#:>     season's world's player's night's chapter's golf's football's
#:>     baseball's club's U.'s coach's bride's bridegroom's board's county's
#:>     firm's company's superintendent's mob's Navy's ...
#:> NN+BEZ: noun, singular, common + verb 'to be', present tense, 3rd person singular
#:>     water's camera's sky's kid's Pa's heat's throat's father's money's
#:>     undersecretary's granite's level's wife's fat's Knife's fire's name's
#:>     hell's leg's sun's roulette's cane's guy's kind's baseball's ...
#:> NN+HVD: noun, singular, common + verb 'to have', past tense
#:>     Pa'd
#:> NN+HVZ: noun, singular, common + verb 'to have', present tense, 3rd person singular
#:>     guy's Knife's boat's summer's rain's company's
#:> NN+IN: noun, singular, common + preposition
#:>     buncha
#:> NN+MD: noun, singular, common + modal auxillary
#:>     cowhand'd sun'll
#:> NN+NN: noun, singular, common, hyphenated pair
#:>     stomach-belly
#:> NNS: noun, plural, common
#:>     irregularities presentments thanks reports voters laws legislators
#:>     years areas adjustments chambers $100 bonds courts sales details raises
#:>     sessions members congressmen votes polls calls ...
#:> NNS$: noun, plural, common, genitive
#:>     taxpayers' children's members' States' women's cutters' motorists'
#:>     steelmakers' hours' Nations' lawyers' prisoners' architects' tourists'
#:>     Employers' secretaries' Rogues' ...
#:> NNS+MD: noun, plural, common + modal auxillary
#:>     duds'd oystchers'll
#:> NP: noun, singular, proper
#:>     Fulton Atlanta September-October Durwood Pye Ivan Allen Jr. Jan.
#:>     Alpharetta Grady William B. Hartsfield Pearl Williams Aug. Berry J. M.
#:>     Cheshire Griffin Opelika Ala. E. Pelham Snodgrass ...
#:> NP$: noun, singular, proper, genitive
#:>     Green's Landis' Smith's Carreon's Allison's Boston's Spahn's Willie's
#:>     Mickey's Milwaukee's Mays' Howsam's Mantle's Shaw's Wagner's Rickey's
#:>     Shea's Palmer's Arnold's Broglio's ...
#:> NP+BEZ: noun, singular, proper + verb 'to be', present tense, 3rd person singular
#:>     W.'s Ike's Mack's Jack's Kate's Katharine's Black's Arthur's Seaton's
#:>     Buckhorn's Breed's Penny's Rob's Kitty's Blackwell's Myra's Wally's
#:>     Lucille's Springfield's Arlene's
#:> NP+HVZ: noun, singular, proper + verb 'to have', present tense, 3rd person singular
#:>     Bill's Guardino's Celie's Skolman's Crosson's Tim's Wally's
#:> NP+MD: noun, singular, proper + modal auxillary
#:>     Gyp'll John'll
#:> NPS: noun, plural, proper
#:>     Chases Aderholds Chapelles Armisteads Lockies Carbones French Marskmen
#:>     Toppers Franciscans Romans Cadillacs Masons Blacks Catholics British
#:>     Dixiecrats Mississippians Congresses ...
#:> NPS$: noun, plural, proper, genitive
#:>     Republicans' Orioles' Birds' Yanks' Redbirds' Bucs' Yankees' Stevenses'
#:>     Geraghtys' Burkes' Wackers' Achaeans' Dresbachs' Russians' Democrats'
#:>     Gershwins' Adventists' Negroes' Catholics' ...
#:> NR: noun, singular, adverbial
#:>     Friday home Wednesday Tuesday Monday Sunday Thursday yesterday tomorrow
#:>     tonight West East Saturday west left east downtown north northeast
#:>     southeast northwest North South right ...
#:> NR$: noun, singular, adverbial, genitive
#:>     Saturday's Monday's yesterday's tonight's tomorrow's Sunday's
#:>     Wednesday's Friday's today's Tuesday's West's Today's South's
#:> NR+MD: noun, singular, adverbial + modal auxillary
#:>     today'll
#:> NRS: noun, plural, adverbial
#:>     Sundays Mondays Saturdays Wednesdays Souths Fridays
#:> OD: numeral, ordinal
#:>     first 13th third nineteenth 2d 61st second sixth eighth ninth twenty-
#:>     first eleventh 50th eighteenth- Thirty-ninth 72nd 1/20th twentieth
#:>     mid-19th thousandth 350th sixteenth 701st ...
#:> PN: pronoun, nominal
#:>     none something everything one anyone nothing nobody everybody everyone
#:>     anybody anything someone no-one nothin
#:> PN$: pronoun, nominal, genitive
#:>     one's someone's anybody's nobody's everybody's anyone's everyone's
#:> PN+BEZ: pronoun, nominal + verb 'to be', present tense, 3rd person singular
#:>     nothing's everything's somebody's nobody's someone's
#:> PN+HVD: pronoun, nominal + verb 'to have', past tense
#:>     nobody'd
#:> PN+HVZ: pronoun, nominal + verb 'to have', present tense, 3rd person singular
#:>     nobody's somebody's one's
#:> PN+MD: pronoun, nominal + modal auxillary
#:>     someone'll somebody'll anybody'd
#:> PP$: determiner, possessive
#:>     our its his their my your her out thy mine thine
#:> PP$$: pronoun, possessive
#:>     ours mine his hers theirs yours
#:> PPL: pronoun, singular, reflexive
#:>     itself himself myself yourself herself oneself ownself
#:> PPLS: pronoun, plural, reflexive
#:>     themselves ourselves yourselves
#:> PPO: pronoun, personal, accusative
#:>     them it him me us you 'em her thee we'uns
#:> PPS: pronoun, personal, nominative, 3rd person singular
#:>     it he she thee
#:> PPS+BEZ: pronoun, personal, nominative, 3rd person singular + verb 'to be', present tense, 3rd person singular
#:>     it's he's she's
#:> PPS+HVD: pronoun, personal, nominative, 3rd person singular + verb 'to have', past tense
#:>     she'd he'd it'd
#:> PPS+HVZ: pronoun, personal, nominative, 3rd person singular + verb 'to have', present tense, 3rd person singular
#:>     it's he's she's
#:> PPS+MD: pronoun, personal, nominative, 3rd person singular + modal auxillary
#:>     he'll she'll it'll he'd it'd she'd
#:> PPSS: pronoun, personal, nominative, not 3rd person singular
#:>     they we I you ye thou you'uns
#:> PPSS+BEM: pronoun, personal, nominative, not 3rd person singular + verb 'to be', present tense, 1st person singular
#:>     I'm Ahm
#:> PPSS+BER: pronoun, personal, nominative, not 3rd person singular + verb 'to be', present tense, 2nd person singular or all persons plural
#:>     we're you're they're
#:> PPSS+BEZ: pronoun, personal, nominative, not 3rd person singular + verb 'to be', present tense, 3rd person singular
#:>     you's
#:> PPSS+BEZ*: pronoun, personal, nominative, not 3rd person singular + verb 'to be', present tense, 3rd person singular, negated
#:>     'tain't
#:> PPSS+HV: pronoun, personal, nominative, not 3rd person singular + verb 'to have', uninflected present tense
#:>     I've we've they've you've
#:> PPSS+HVD: pronoun, personal, nominative, not 3rd person singular + verb 'to have', past tense
#:>     I'd you'd we'd they'd
#:> PPSS+MD: pronoun, personal, nominative, not 3rd person singular + modal auxillary
#:>     you'll we'll I'll we'd I'd they'll they'd you'd
#:> PPSS+VB: pronoun, personal, nominative, not 3rd person singular + verb 'to verb', uninflected present tense
#:>     y'know
#:> QL: qualifier, pre
#:>     well less very most so real as highly fundamentally even how much
#:>     remarkably somewhat more completely too thus ill deeply little overly
#:>     halfway almost impossibly far severly such ...
#:> QLP: qualifier, post
#:>     indeed enough still 'nuff
#:> RB: adverb
#:>     only often generally also nevertheless upon together back newly no
#:>     likely meanwhile near then heavily there apparently yet outright fully
#:>     aside consistently specifically formally ever just ...
#:> RB$: adverb, genitive
#:>     else's
#:> RB+BEZ: adverb + verb 'to be', present tense, 3rd person singular
#:>     here's there's
#:> RB+CS: adverb + conjunction, coordinating
#:>     well's soon's
#:> RBR: adverb, comparative
#:>     further earlier better later higher tougher more harder longer sooner
#:>     less faster easier louder farther oftener nearer cheaper slower tighter
#:>     lower worse heavier quicker ...
#:> RBR+CS: adverb, comparative + conjunction, coordinating
#:>     more'n
#:> RBT: adverb, superlative
#:>     most best highest uppermost nearest brightest hardest fastest deepest
#:>     farthest loudest ...
#:> RN: adverb, nominal
#:>     here afar then
#:> RP: adverb, particle
#:>     up out off down over on in about through across after
#:> RP+IN: adverb, particle + preposition
#:>     out'n outta
#:> TO: infinitival to
#:>     to t'
#:> TO+VB: infinitival to + verb, infinitive
#:>     t'jawn t'lah
#:> UH: interjection
#:>     Hurrah bang whee hmpf ah goodbye oops oh-the-pain-of-it ha crunch say
#:>     oh why see well hello lo alas tarantara rum-tum-tum gosh hell keerist
#:>     Jesus Keeeerist boy c'mon 'mon goddamn bah hoo-pig damn ...
#:> VB: verb, base: uninflected present, imperative or infinitive
#:>     investigate find act follow inure achieve reduce take remedy re-set
#:>     distribute realize disable feel receive continue place protect
#:>     eliminate elaborate work permit run enter force ...
#:> VB+AT: verb, base: uninflected present or infinitive + article
#:>     wanna
#:> VB+IN: verb, base: uninflected present, imperative or infinitive + preposition
#:>     lookit
#:> VB+JJ: verb, base: uninflected present, imperative or infinitive + adjective
#:>     die-dead
#:> VB+PPO: verb, uninflected present tense + pronoun, personal, accusative
#:>     let's lemme gimme
#:> VB+RP: verb, imperative + adverbial particle
#:>     g'ahn c'mon
#:> VB+TO: verb, base: uninflected present, imperative or infinitive + infinitival to
#:>     wanta wanna
#:> VB+VB: verb, base: uninflected present, imperative or infinitive; hypenated pair
#:>     say-speak
#:> VBD: verb, past tense
#:>     said produced took recommended commented urged found added praised
#:>     charged listed became announced brought attended wanted voted defeated
#:>     received got stood shot scheduled feared promised made ...
#:> VBG: verb, present participle or gerund
#:>     modernizing improving purchasing Purchasing lacking enabling pricing
#:>     keeping getting picking entering voting warning making strengthening
#:>     setting neighboring attending participating moving ...
#:> VBG+TO: verb, present participle + infinitival to
#:>     gonna
#:> VBN: verb, past participle
#:>     conducted charged won received studied revised operated accepted
#:>     combined experienced recommended effected granted seen protected
#:>     adopted retarded notarized selected composed gotten printed ...
#:> VBN+TO: verb, past participle + infinitival to
#:>     gotta
#:> VBZ: verb, present tense, 3rd person singular
#:>     deserves believes receives takes goes expires says opposes starts
#:>     permits expects thinks faces votes teaches holds calls fears spends
#:>     collects backs eliminates sets flies gives seeks reads ...
#:> WDT: WH-determiner
#:>     which what whatever whichever whichever-the-hell
#:> WDT+BER: WH-determiner + verb 'to be', present tense, 2nd person singular or all persons plural
#:>     what're
#:> WDT+BER+PP: WH-determiner + verb 'to be', present, 2nd person singular or all persons plural + pronoun, personal, nominative, not 3rd person singular
#:>     whaddya
#:> WDT+BEZ: WH-determiner + verb 'to be', present tense, 3rd person singular
#:>     what's
#:> WDT+DO+PPS: WH-determiner + verb 'to do', uninflected present tense + pronoun, personal, nominative, not 3rd person singular
#:>     whaddya
#:> WDT+DOD: WH-determiner + verb 'to do', past tense
#:>     what'd
#:> WDT+HVZ: WH-determiner + verb 'to have', present tense, 3rd person singular
#:>     what's
#:> WP$: WH-pronoun, genitive
#:>     whose whosever
#:> WPO: WH-pronoun, accusative
#:>     whom that who
#:> WPS: WH-pronoun, nominative
#:>     that who whoever whosoever what whatsoever
#:> WPS+BEZ: WH-pronoun, nominative + verb 'to be', present, 3rd person singular
#:>     that's who's
#:> WPS+HVD: WH-pronoun, nominative + verb 'to have', past tense
#:>     who'd
#:> WPS+HVZ: WH-pronoun, nominative + verb 'to have', present tense, 3rd person singular
#:>     who's that's
#:> WPS+MD: WH-pronoun, nominative + modal auxillary
#:>     who'll that'd who'd that'll
#:> WQL: WH-qualifier
#:>     however how
#:> WRB: WH-adverb
#:>     however when where why whereby wherever how whenever whereon wherein
#:>     wherewith wheare wherefore whereof howsabout
#:> WRB+BER: WH-adverb + verb 'to be', present, 2nd person singular or all persons plural
#:>     where're
#:> WRB+BEZ: WH-adverb + verb 'to be', present, 3rd person singular
#:>     how's where's
#:> WRB+DO: WH-adverb + verb 'to do', present, not 3rd person singular
#:>     howda
#:> WRB+DOD: WH-adverb + verb 'to do', past tense
#:>     where'd how'd
#:> WRB+DOD*: WH-adverb + verb 'to do', past tense, negated
#:>     whyn't
#:> WRB+DOZ: WH-adverb + verb 'to do', present tense, 3rd person singular
#:>     how's
#:> WRB+IN: WH-adverb + preposition
#:>     why'n
#:> WRB+MD: WH-adverb + modal auxillary
#:>     where'd
\end{verbatim}

\hypertarget{tagging-techniques}{%
\subsection{Tagging Techniques}\label{tagging-techniques}}

There are few types of tagging techniques:

\begin{itemize}
\tightlist
\item
  Lexical-based\\
\item
  Rule-based (Brill)
\item
  Probalistic/Stochastic-based (Conditional Random Fields-CRFs, Hidden Markov Models-HMM)
\item
  Neural network-based
\end{itemize}

NLTK supports the below taggers:

\begin{verbatim}
from nltk.tag.brill      import BrillTagger
from nltk.tag.hunpos     import HunposTagger
from nltk.tag.stanford   import StanfordTagger, StanfordPOSTagger, StanfordNERTagger
from nltk.tag.hmm        import HiddenMarkovModelTagger, HiddenMarkovModelTrainer
from nltk.tag.senna      import SennaTagger, SennaChunkTagger, SennaNERTagger
from nltk.tag.crf        import CRFTagger
from nltk.tag.perceptron import PerceptronTagger
\end{verbatim}

\hypertarget{nltk-perceptrontagger}{%
\subsubsection{\texorpdfstring{nltk \texttt{PerceptronTagger}}{nltk PerceptronTagger}}\label{nltk-perceptrontagger}}

PerceptronTagger produce tags with \textbf{Penn Treebank} tagset

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ nltk.tag }\ImportTok{import}\NormalTok{ PerceptronTagger}

\NormalTok{nltk.download(}\StringTok{'averaged_perceptron_tagger'}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> True
#:> 
#:> [nltk_data] Downloading package averaged_perceptron_tagger to
#:> [nltk_data]     /home/msfz751/nltk_data...
#:> [nltk_data]   Package averaged_perceptron_tagger is already up-to-
#:> [nltk_data]       date!
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{tagger }\OperatorTok{=}\NormalTok{ PerceptronTagger()}
\BuiltInTok{print}\NormalTok{(}\StringTok{'Tagger Classes:'}\NormalTok{, tagger.classes, }
      \StringTok{'}\CharTok{\textbackslash{}n\textbackslash{}n}\StringTok{# Classes:'}\NormalTok{, }\BuiltInTok{len}\NormalTok{(tagger.classes))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> Tagger Classes: {'RP', 'JJR', 'CC', 'VBZ', 'IN', 'UH', 'DT', 'VBN', 'NN', 'NNS', 'PRP', 'VBG', "''", 'PRP$', 'POS', 'WP$', 'NNPS', ':', 'FW', '(', 'WP', 'NNP', 'RBR', 'VBP', 'TO', '``', 'RB', 'WRB', 'PDT', 'MD', 'JJ', 'VB', '.', '#', 'LS', ')', 'RBS', ',', 'SYM', 'CD', 'JJS', 'VBD', '$', 'WDT', 'EX'} 
#:> 
#:> # Classes: 45
\end{verbatim}

\hypertarget{performing-tagging-nltk.pos_tag}{%
\subsection{\texorpdfstring{Performing Tagging \texttt{nltk.pos\_tag()}}{Performing Tagging nltk.pos\_tag()}}\label{performing-tagging-nltk.pos_tag}}

Tagging works sentence by sentence:

\begin{itemize}
\tightlist
\item
  Document fist must be splitted into sentences\\
\item
  Each sentence need to be tokenized into words\\
\item
  Default NTLK uses \texttt{PerceptronTagger}
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{#nltk.download('averaged_perceptron_tagger')}
\CommentTok{#import nltk}
\CommentTok{#from nltk.tokenize import word_tokenize, sent_tokenize }
\NormalTok{doc }\OperatorTok{=} \StringTok{'''Sukanya, Rajib and Naba are my good friends. Sukanya is getting married next year. Marriage is a big step in one's life. It is both exciting and frightening. But friendship is a sacred bond between people. It is a special kind of love between us. Many of you must have tried searching for a friend but never found the right one.'''}

\NormalTok{sentences }\OperatorTok{=}\NormalTok{ nltk.sent_tokenize(doc)}
\ControlFlowTok{for}\NormalTok{ sentence }\KeywordTok{in}\NormalTok{ sentences:}
\NormalTok{  tokens }\OperatorTok{=}\NormalTok{ nltk.word_tokenize(sentence)}
\NormalTok{  tagged }\OperatorTok{=}\NormalTok{ nltk.pos_tag(tokens)}
  \BuiltInTok{print}\NormalTok{(tagged)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> [('Sukanya', 'NNP'), (',', ','), ('Rajib', 'NNP'), ('and', 'CC'), ('Naba', 'NNP'), ('are', 'VBP'), ('my', 'PRP$'), ('good', 'JJ'), ('friends', 'NNS'), ('.', '.')]
#:> [('Sukanya', 'NNP'), ('is', 'VBZ'), ('getting', 'VBG'), ('married', 'VBN'), ('next', 'JJ'), ('year', 'NN'), ('.', '.')]
#:> [('Marriage', 'NN'), ('is', 'VBZ'), ('a', 'DT'), ('big', 'JJ'), ('step', 'NN'), ('in', 'IN'), ('one', 'CD'), ("'s", 'POS'), ('life', 'NN'), ('.', '.')]
#:> [('It', 'PRP'), ('is', 'VBZ'), ('both', 'DT'), ('exciting', 'VBG'), ('and', 'CC'), ('frightening', 'NN'), ('.', '.')]
#:> [('But', 'CC'), ('friendship', 'NN'), ('is', 'VBZ'), ('a', 'DT'), ('sacred', 'JJ'), ('bond', 'NN'), ('between', 'IN'), ('people', 'NNS'), ('.', '.')]
#:> [('It', 'PRP'), ('is', 'VBZ'), ('a', 'DT'), ('special', 'JJ'), ('kind', 'NN'), ('of', 'IN'), ('love', 'NN'), ('between', 'IN'), ('us', 'PRP'), ('.', '.')]
#:> [('Many', 'JJ'), ('of', 'IN'), ('you', 'PRP'), ('must', 'MD'), ('have', 'VB'), ('tried', 'VBN'), ('searching', 'VBG'), ('for', 'IN'), ('a', 'DT'), ('friend', 'NN'), ('but', 'CC'), ('never', 'RB'), ('found', 'VBD'), ('the', 'DT'), ('right', 'JJ'), ('one', 'NN'), ('.', '.')]
\end{verbatim}

\hypertarget{sentiment}{%
\section{Sentiment}\label{sentiment}}

\hypertarget{nltk-and-senti-wordnet}{%
\subsection{NLTK and Senti-Wordnet}\label{nltk-and-senti-wordnet}}

\begin{itemize}
\tightlist
\item
  SentiWordNet \textbf{extends Wordnet Synsets} with positive and negative sentiment scores\\
\item
  The extension was achieved via a complex mix of propagation methods and classifiers. It is thus not a gold standard resource like WordNet (which was compiled by humans), but it has proven useful in a wide range of tasks\\
\item
  It contains similar number of synsets as wordnet
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ nltk.corpus }\ImportTok{import}\NormalTok{ sentiwordnet }\ImportTok{as}\NormalTok{ swn}
\NormalTok{nltk.download(}\StringTok{'sentiwordnet'}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> True
#:> 
#:> [nltk_data] Downloading package sentiwordnet to
#:> [nltk_data]     /home/msfz751/nltk_data...
#:> [nltk_data]   Package sentiwordnet is already up-to-date!
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{s }\OperatorTok{=} \BuiltInTok{set}\NormalTok{( swn.all_senti_synsets() )}
\BuiltInTok{print}\NormalTok{(}\StringTok{'Total synsets in senti-wordnet  : '}\NormalTok{ ,   }\BuiltInTok{len}\NormalTok{(s))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> Total synsets in senti-wordnet  :  117659
\end{verbatim}

\hypertarget{senti-synset}{%
\subsubsection{Senti-Synset}\label{senti-synset}}

\begin{itemize}
\tightlist
\item
  Senti-Wordnet extends wordnet with three(3) sentiment scores: positive, negative, objective\\
\item
  All three scores added up to value 1.0
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{breakdown }\OperatorTok{=}\NormalTok{ swn.senti_synset(}\StringTok{'breakdown.n.03'}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(}
\NormalTok{  breakdown, }\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{'}
  \StringTok{'Positive:'}\NormalTok{, breakdown.pos_score(), }\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{,}
  \StringTok{'Negative:'}\NormalTok{, breakdown.neg_score(), }\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{,}
  \StringTok{'Objective:'}\NormalTok{,breakdown.obj_score()}
\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> <breakdown.n.03: PosScore=0.0 NegScore=0.25> 
#:> Positive: 0.0 
#:>  Negative: 0.25 
#:>  Objective: 0.75
\end{verbatim}

\hypertarget{senti-synsets}{%
\subsubsection{Senti-Synsets}\label{senti-synsets}}

Get all the synonmys, with and without the POS information

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{( }\BuiltInTok{list}\NormalTok{(swn.senti_synsets(}\StringTok{'slow'}\NormalTok{)), }\StringTok{'}\CharTok{\textbackslash{}n\textbackslash{}n}\StringTok{'}\NormalTok{,  }\CommentTok{## without POS tag}
       \BuiltInTok{list}\NormalTok{(swn.senti_synsets(}\StringTok{'slow'}\NormalTok{, }\StringTok{'a'}\NormalTok{)) )   }\CommentTok{## with POS tag}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> [SentiSynset('decelerate.v.01'), SentiSynset('slow.v.02'), SentiSynset('slow.v.03'), SentiSynset('slow.a.01'), SentiSynset('slow.a.02'), SentiSynset('dense.s.04'), SentiSynset('slow.a.04'), SentiSynset('boring.s.01'), SentiSynset('dull.s.08'), SentiSynset('slowly.r.01'), SentiSynset('behind.r.03')] 
#:> 
#:>  [SentiSynset('slow.a.01'), SentiSynset('slow.a.02'), SentiSynset('dense.s.04'), SentiSynset('slow.a.04'), SentiSynset('boring.s.01'), SentiSynset('dull.s.08')]
\end{verbatim}

Get the score for first synset

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{first_synset }\OperatorTok{=} \BuiltInTok{list}\NormalTok{(swn.senti_synsets(}\StringTok{'slow'}\NormalTok{,}\StringTok{'a'}\NormalTok{))[}\DecValTok{0}\NormalTok{]}

\BuiltInTok{print}\NormalTok{(}
\NormalTok{  first_synset, }\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{,}
  \StringTok{'Positive:'}\NormalTok{,  first_synset.pos_score(), }\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{,}
  \StringTok{'Negative:'}\NormalTok{,  first_synset.neg_score(), }\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{,}
  \StringTok{'Objective:'}\NormalTok{, first_synset.obj_score()}
\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> <slow.a.01: PosScore=0.0 NegScore=0.0> 
#:>  Positive: 0.0 
#:>  Negative: 0.0 
#:>  Objective: 1.0
\end{verbatim}

\hypertarget{converting-pos-tag-into-wordnet-pos-tag}{%
\subsubsection{Converting POS-tag into Wordnet POS-tag}\label{converting-pos-tag-into-wordnet-pos-tag}}

\textbf{Using Function}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ nltk}
\ImportTok{from}\NormalTok{ nltk.tokenize }\ImportTok{import}\NormalTok{ word_tokenize}
\ImportTok{from}\NormalTok{ nltk.corpus }\ImportTok{import}\NormalTok{ wordnet }\ImportTok{as}\NormalTok{ wn}

\KeywordTok{def}\NormalTok{ penn_to_wn(tag):}
    \CommentTok{"""}
\CommentTok{    Convert between the PennTreebank tags to simple Wordnet tags}
\CommentTok{    """}
    \ControlFlowTok{if}\NormalTok{ tag.startswith(}\StringTok{'J'}\NormalTok{):}
        \ControlFlowTok{return}\NormalTok{ wn.ADJ}
    \ControlFlowTok{elif}\NormalTok{ tag.startswith(}\StringTok{'N'}\NormalTok{):}
        \ControlFlowTok{return}\NormalTok{ wn.NOUN}
    \ControlFlowTok{elif}\NormalTok{ tag.startswith(}\StringTok{'R'}\NormalTok{):}
        \ControlFlowTok{return}\NormalTok{ wn.ADV}
    \ControlFlowTok{elif}\NormalTok{ tag.startswith(}\StringTok{'V'}\NormalTok{):}
        \ControlFlowTok{return}\NormalTok{ wn.VERB}
    \ControlFlowTok{return} \VariableTok{None}

\NormalTok{wt }\OperatorTok{=}\NormalTok{ word_tokenize(}\StringTok{"Star Wars is a wonderful movie"}\NormalTok{)}
\NormalTok{penn_tags }\OperatorTok{=}\NormalTok{ nltk.pos_tag(wt)}
\NormalTok{wordnet_tags }\OperatorTok{=}\NormalTok{ [ (x, penn_to_wn(y)) }\ControlFlowTok{for}\NormalTok{ (x,y) }\KeywordTok{in}\NormalTok{ penn_tags ]}

\BuiltInTok{print}\NormalTok{(}
\StringTok{'Penn Tags    :'}\NormalTok{, penn_tags, }
\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{Wordnet Tags :'}\NormalTok{, wordnet_tags)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> Penn Tags    : [('Star', 'NNP'), ('Wars', 'NNP'), ('is', 'VBZ'), ('a', 'DT'), ('wonderful', 'JJ'), ('movie', 'NN')] 
#:> Wordnet Tags : [('Star', 'n'), ('Wars', 'n'), ('is', 'v'), ('a', None), ('wonderful', 'a'), ('movie', 'n')]
\end{verbatim}

\textbf{Using defaultdict}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ nltk}
\ImportTok{from}\NormalTok{ nltk.corpus }\ImportTok{import}\NormalTok{ wordnet }\ImportTok{as}\NormalTok{ wn}
\ImportTok{from}\NormalTok{ nltk }\ImportTok{import}\NormalTok{ word_tokenize, pos_tag}
\ImportTok{from}\NormalTok{ collections }\ImportTok{import}\NormalTok{ defaultdict}

\NormalTok{tag_map }\OperatorTok{=}\NormalTok{ defaultdict(}\KeywordTok{lambda}\NormalTok{ : }\VariableTok{None}\NormalTok{)}
\NormalTok{tag_map[}\StringTok{'J'}\NormalTok{] }\OperatorTok{=}\NormalTok{ wn.ADJ}
\NormalTok{tag_map[}\StringTok{'R'}\NormalTok{] }\OperatorTok{=}\NormalTok{ wn.ADV}
\NormalTok{tag_map[}\StringTok{'V'}\NormalTok{] }\OperatorTok{=}\NormalTok{ wn.VERB}
\NormalTok{tag_map[}\StringTok{'N'}\NormalTok{] }\OperatorTok{=}\NormalTok{ wn.NOUN}

\NormalTok{wt }\OperatorTok{=}\NormalTok{ word_tokenize(}\StringTok{"Star Wars is a wonderful movie"}\NormalTok{)}
\NormalTok{penn_tags }\OperatorTok{=}\NormalTok{ nltk.pos_tag(wt)}
\NormalTok{wordnet_tags }\OperatorTok{=}\NormalTok{ [ (x, tag_map[y[}\DecValTok{0}\NormalTok{]]) }\ControlFlowTok{for}\NormalTok{ (x,y) }\KeywordTok{in}\NormalTok{ penn_tags ]}

\BuiltInTok{print}\NormalTok{(}
\StringTok{'Penn Tags    :'}\NormalTok{, penn_tags, }
\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{Wordnet Tags :'}\NormalTok{, wordnet_tags)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> Penn Tags    : [('Star', 'NNP'), ('Wars', 'NNP'), ('is', 'VBZ'), ('a', 'DT'), ('wonderful', 'JJ'), ('movie', 'NN')] 
#:> Wordnet Tags : [('Star', 'n'), ('Wars', 'n'), ('is', 'v'), ('a', None), ('wonderful', 'a'), ('movie', 'n')]
\end{verbatim}

\hypertarget{vader}{%
\subsection{Vader}\label{vader}}

\begin{itemize}
\tightlist
\item
  It is a rule based sentiment analyzer, contain 7503 lexicons
\item
  It is good for \textbf{social media} because lexicon contain \textbf{emoji and short} form text
\item
  Contain only \textbf{3 n-gram}
\item
  Supported by NTLK or install vader seperately (pip install vaderSentiment)
\end{itemize}

\hypertarget{vader-lexicon}{%
\subsubsection{Vader Lexicon}\label{vader-lexicon}}

The lexicon is a dictionary. To make it iterable, need to convert into list:\\
- Step 1: Convert \texttt{dict} to \texttt{dict\_items}, which is a list containing items, each item is one dict\\
- Step 2: Unpack \texttt{dict\_items} to \texttt{list}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{#from vaderSentiment.vaderSentiment import SentimentIntensityAnalyzer   ## seperate pip installed library}
\ImportTok{from}\NormalTok{ nltk.sentiment.vader }\ImportTok{import}\NormalTok{ SentimentIntensityAnalyzer}

\NormalTok{nltk.download(}\StringTok{'vader_lexicon'}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> True
#:> 
#:> [nltk_data] Downloading package vader_lexicon to
#:> [nltk_data]     /home/msfz751/nltk_data...
#:> [nltk_data]   Package vader_lexicon is already up-to-date!
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{vader_lex  }\OperatorTok{=}\NormalTok{ SentimentIntensityAnalyzer().lexicon  }\CommentTok{# get the lexicon dictionary}
\NormalTok{vader_list }\OperatorTok{=} \BuiltInTok{list}\NormalTok{(vader_lex.items())               }\CommentTok{# convert to items then list}
\BuiltInTok{print}\NormalTok{( }\StringTok{'Total Vader Lexicon:'}\NormalTok{, }\BuiltInTok{len}\NormalTok{(vader_lex),}\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{,}
\NormalTok{        vader_list[}\DecValTok{1}\NormalTok{:}\DecValTok{10}\NormalTok{], vader_list[}\DecValTok{220}\NormalTok{:}\DecValTok{240}\NormalTok{] )}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> Total Vader Lexicon: 7502 
#:>  [('%)', -0.4), ('%-)', -1.5), ('&-:', -0.4), ('&:', -0.7), ("( '}{' )", 1.6), ('(%', -0.9), ("('-:", 2.2), ("(':", 2.3), ('((-:', 2.1)] [('b^d', 2.6), ('cwot', -2.3), ("d-':", -2.5), ('d8', -3.2), ('d:', 1.2), ('d:<', -3.2), ('d;', -2.9), ('d=', 1.5), ('doa', -2.3), ('dx', -3.0), ('ez', 1.5), ('fav', 2.0), ('fcol', -1.8), ('ff', 1.8), ('ffs', -2.8), ('fkm', -2.4), ('foaf', 1.8), ('ftw', 2.0), ('fu', -3.7), ('fubar', -3.0)]
\end{verbatim}

\textbf{There is only four N-Gram in the lexicon}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{(}\StringTok{'List of N-grams: '}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> List of N-grams:
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{[ (tok,score) }\ControlFlowTok{for}\NormalTok{ tok, score }\KeywordTok{in}\NormalTok{ vader_list }\ControlFlowTok{if} \StringTok{" "} \KeywordTok{in}\NormalTok{ tok]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> [("( '}{' )", 1.6), ("can't stand", -2.0), ('fed up', -1.8), ('screwed up', -1.5)]
\end{verbatim}

If stemming or lemmatization is used, stem/lemmatize the vader lexicon too

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{[ (tok,score) }\ControlFlowTok{for}\NormalTok{ tok, score }\KeywordTok{in}\NormalTok{ vader_list }\ControlFlowTok{if} \StringTok{"lov"} \KeywordTok{in}\NormalTok{ tok]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> [('beloved', 2.3), ('lovable', 3.0), ('love', 3.2), ('loved', 2.9), ('lovelies', 2.2), ('lovely', 2.8), ('lover', 2.8), ('loverly', 2.8), ('lovers', 2.4), ('loves', 2.7), ('loving', 2.9), ('lovingly', 3.2), ('lovingness', 2.7), ('unlovable', -2.7), ('unloved', -1.9), ('unlovelier', -1.9), ('unloveliest', -1.9), ('unloveliness', -2.0), ('unlovely', -2.1), ('unloving', -2.3)]
\end{verbatim}

\hypertarget{polarity-scoring}{%
\subsubsection{Polarity Scoring}\label{polarity-scoring}}

Scoring result is a dictionary of:

\begin{itemize}
\tightlist
\item
  neg
\item
  neu
\item
  pos
\item
  compound \textbf{neg, neu, pos adds up to 1.0}
\end{itemize}

Example below shows polarity for two sentences:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{corpus }\OperatorTok{=}\NormalTok{ [}\StringTok{"Python is a very useful but hell difficult to learn"}\NormalTok{,}
        \StringTok{":) :) :("}\NormalTok{]}
\ControlFlowTok{for}\NormalTok{ doc }\KeywordTok{in}\NormalTok{ corpus:}
  \BuiltInTok{print}\NormalTok{(doc, }\StringTok{'-->'}\NormalTok{, }\StringTok{"}\CharTok{\textbackslash{}n}\StringTok{:"}\NormalTok{, SentimentIntensityAnalyzer().polarity_scores(doc) )}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> Python is a very useful but hell difficult to learn --> 
#:> : {'neg': 0.554, 'neu': 0.331, 'pos': 0.116, 'compound': -0.8735}
#:> :) :) :( --> 
#:> : {'neg': 0.326, 'neu': 0.0, 'pos': 0.674, 'compound': 0.4767}
\end{verbatim}

\hypertarget{feature-representation}{%
\section{Feature Representation}\label{feature-representation}}

\hypertarget{the-data-3}{%
\subsection{The Data}\label{the-data-3}}

A corpus is a collection of multiple documents. In the below example, each document is represented by a sentence.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{corpus }\OperatorTok{=}\NormalTok{ [}
   \StringTok{'This is the first document, :)'}\NormalTok{,}
   \StringTok{'This document is the second document.'}\NormalTok{,}
   \StringTok{'And this is a third one'}\NormalTok{,}
   \StringTok{'Is this the first document?'}\NormalTok{,}
\NormalTok{]}
\end{Highlighting}
\end{Shaded}

\hypertarget{frequency-count-1}{%
\subsection{Frequency Count}\label{frequency-count-1}}

Using purely frequency count as a feature will obviously bias on long document (which contain a lot of words, hence words within the document will have very high frequency).

\hypertarget{tokenizer}{%
\subsubsection{+ Tokenizer}\label{tokenizer}}

\textbf{Default Tokenizer}\\
By default, vectorizer apply tokenizer to select minimum \textbf{2-chars alphanumeric words}. Below \textbf{train} the vectorizer using \textbf{\texttt{fit\_transform()}}.

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ sklearn.feature_extraction.text }\ImportTok{import}\NormalTok{ CountVectorizer}
\NormalTok{vec }\OperatorTok{=}\NormalTok{ CountVectorizer()          }\CommentTok{# initialize the vectorizer}
\NormalTok{X   }\OperatorTok{=}\NormalTok{ vec.fit_transform(corpus)  }\CommentTok{# FIT the vectorizer, return fitted data}
\BuiltInTok{print}\NormalTok{(pd.DataFrame(X.toarray(), columns}\OperatorTok{=}\NormalTok{vec.get_feature_names()),}\StringTok{'}\CharTok{\textbackslash{}n\textbackslash{}n}\StringTok{'}\NormalTok{,}
      \StringTok{'Vocabulary: '}\NormalTok{, vec.vocabulary_)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>    and  document  first  is  one  second  the  third  this
#:> 0    0         1      1   1    0       0    1      0     1
#:> 1    0         2      0   1    0       1    1      0     1
#:> 2    1         0      0   1    1       0    0      1     1
#:> 3    0         1      1   1    0       0    1      0     1 
#:> 
#:>  Vocabulary:  {'this': 8, 'is': 3, 'the': 6, 'first': 2, 'document': 1, 'second': 5, 'and': 0, 'third': 7, 'one': 4}
\end{verbatim}

\textbf{Custom Tokenizer}\\
You can use a custom tokenizer, which is a \textbf{function that return list of words}. Example below uses nltk RegexpTokenizer function, which retains one or more alphanumeric characters.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{my_tokenizer }\OperatorTok{=}\NormalTok{ RegexpTokenizer(}\VerbatimStringTok{r'[a-zA-Z0-9\textbackslash{}']+'}\NormalTok{)  }\CommentTok{## Custom Tokenizer}
\NormalTok{vec2 }\OperatorTok{=}\NormalTok{ CountVectorizer(tokenizer}\OperatorTok{=}\NormalTok{my_tokenizer.tokenize) }\CommentTok{## custom tokenizer's function}
\NormalTok{X2   }\OperatorTok{=}\NormalTok{ vec2.fit_transform(corpus)  }\CommentTok{# FIT the vectorizer, return fitted data}
\BuiltInTok{print}\NormalTok{(pd.DataFrame(X2.toarray(), columns}\OperatorTok{=}\NormalTok{vec2.get_feature_names()),}\StringTok{'}\CharTok{\textbackslash{}n\textbackslash{}n}\StringTok{'}\NormalTok{,}
      \StringTok{'Vocabulary: '}\NormalTok{, vec.vocabulary_)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>    a  and  document  first  is  one  second  the  third  this
#:> 0  0    0         1      1   1    0       0    1      0     1
#:> 1  0    0         2      0   1    0       1    1      0     1
#:> 2  1    1         0      0   1    1       0    0      1     1
#:> 3  0    0         1      1   1    0       0    1      0     1 
#:> 
#:>  Vocabulary:  {'this': 8, 'is': 3, 'the': 6, 'first': 2, 'document': 1, 'second': 5, 'and': 0, 'third': 7, 'one': 4}
\end{verbatim}

\textbf{1 and 2-Word-Gram Tokenizer}\\
Use \texttt{ngram\_range()} to specify range of grams needed.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{vec3 }\OperatorTok{=}\NormalTok{ CountVectorizer(ngram_range}\OperatorTok{=}\NormalTok{(}\DecValTok{1}\NormalTok{,}\DecValTok{2}\NormalTok{))          }\CommentTok{# initialize the vectorizer}
\NormalTok{X3   }\OperatorTok{=}\NormalTok{ vec3.fit_transform(corpus)     }\CommentTok{# FIT the vectorizer, return fitted data}
\BuiltInTok{print}\NormalTok{(pd.DataFrame(X3.toarray(), columns}\OperatorTok{=}\NormalTok{vec3.get_feature_names()),}\StringTok{'}\CharTok{\textbackslash{}n\textbackslash{}n}\StringTok{'}\NormalTok{,}
      \StringTok{'Vocabulary: '}\NormalTok{, vec.vocabulary_)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>    and  and this  document  document is  first  ...  third one  this  this document  \
#:> 0    0         0         1            0      1  ...          0     1              0   
#:> 1    0         0         2            1      0  ...          0     1              1   
#:> 2    1         1         0            0      0  ...          1     1              0   
#:> 3    0         0         1            0      1  ...          0     1              0   
#:> 
#:>    this is  this the  
#:> 0        1         0  
#:> 1        0         0  
#:> 2        1         0  
#:> 3        0         1  
#:> 
#:> [4 rows x 22 columns] 
#:> 
#:>  Vocabulary:  {'this': 8, 'is': 3, 'the': 6, 'first': 2, 'document': 1, 'second': 5, 'and': 0, 'third': 7, 'one': 4}
\end{verbatim}

\textbf{Apply Trained Vectorizer} Once the vectorizer had been trained, you can apply them on new corpus. \textbf{Tokens not in the vectorizer vocubulary are ignored}.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{new_corpus }\OperatorTok{=}\NormalTok{ [}\StringTok{"My Name is Charlie Angel"}\NormalTok{, }\StringTok{"I love to watch Star Wars"}\NormalTok{]}
\NormalTok{XX }\OperatorTok{=}\NormalTok{ vec.transform(new_corpus)}
\NormalTok{pd.DataFrame(XX.toarray(), columns}\OperatorTok{=}\NormalTok{vec.get_feature_names())}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>    and  document  first  is  one  second  the  third  this
#:> 0    0         0      0   1    0       0    0      0     0
#:> 1    0         0      0   0    0       0    0      0     0
\end{verbatim}

\hypertarget{stop-words}{%
\subsubsection{+ Stop Words}\label{stop-words}}

Vectorizer can optionally be use with stop words list. Use \texttt{stop\_words=english} to apply filtering using sklearn built-in stop word. You can replace \texttt{english} with other word \textbf{list object}.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{vec4 }\OperatorTok{=}\NormalTok{ CountVectorizer(stop_words}\OperatorTok{=}\StringTok{'english'}\NormalTok{) }\CommentTok{## sklearn stopwords list}
\NormalTok{X4 }\OperatorTok{=}\NormalTok{ vec4.fit_transform(corpus)}
\NormalTok{pd.DataFrame(X4.toarray(), columns}\OperatorTok{=}\NormalTok{vec4.get_feature_names())}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>    document  second
#:> 0         1       0
#:> 1         2       1
#:> 2         0       0
#:> 3         1       0
\end{verbatim}

\hypertarget{tfidf}{%
\subsection{TFIDF}\label{tfidf}}

\hypertarget{equation}{%
\subsubsection{Equation}\label{equation}}

\[tf(t,d) = \text{occurances of term t in document t} \\
n     = \text{number of documents} \\
df(t) = \text{number of documents containing term t} \\
idf(t)  = log \frac{n}{df(t))} + 1 \\
idf(t)  = log \frac{1+n}{1+df(t))} + 1 \text{.... smoothing, prevent zero division} \\
tfidf(t) = tf(t) * idf(t,d)    \text{.... raw, no normalization on tf(t)} \\
tfidf(t) = \frac{tf(t,d)}{||V||_2} * idf(t)    \text{.... tf normalized with euclidean norm}\]

\hypertarget{tfidftransformer}{%
\subsubsection{\texorpdfstring{\texttt{TfidfTransformer}}{TfidfTransformer}}\label{tfidftransformer}}

To generate TFIDF vectors, first run \texttt{CountVectorizer} to get frequency vector matrix. Then take the output into this transformer.

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ sklearn.feature_extraction.text }\ImportTok{import}\NormalTok{ TfidfTransformer}

\NormalTok{corpus }\OperatorTok{=}\NormalTok{ [}
    \StringTok{"apple apple apple apple apple banana"}\NormalTok{,}
    \StringTok{"apple apple"}\NormalTok{,}
    \StringTok{"apple apple apple banana"}\NormalTok{,}
    \StringTok{"durian durian durian"}\NormalTok{]}
    
\NormalTok{count_vec }\OperatorTok{=}\NormalTok{ CountVectorizer()}
\NormalTok{X }\OperatorTok{=}\NormalTok{ count_vec.fit_transform(corpus)}

\NormalTok{transformer1 }\OperatorTok{=}\NormalTok{ TfidfTransformer(smooth_idf}\OperatorTok{=}\VariableTok{False}\NormalTok{,norm}\OperatorTok{=}\VariableTok{None}\NormalTok{)}
\NormalTok{transformer2 }\OperatorTok{=}\NormalTok{ TfidfTransformer(smooth_idf}\OperatorTok{=}\VariableTok{False}\NormalTok{,norm}\OperatorTok{=}\StringTok{'l2'}\NormalTok{)}
\NormalTok{transformer3 }\OperatorTok{=}\NormalTok{ TfidfTransformer(smooth_idf}\OperatorTok{=}\VariableTok{True}\NormalTok{,norm}\OperatorTok{=}\StringTok{'l2'}\NormalTok{)}

\NormalTok{tfidf1 }\OperatorTok{=}\NormalTok{ transformer1.fit_transform(X)}
\NormalTok{tfidf2 }\OperatorTok{=}\NormalTok{ transformer2.fit_transform(X)}
\NormalTok{tfidf3 }\OperatorTok{=}\NormalTok{ transformer3.fit_transform(X)}

\BuiltInTok{print}\NormalTok{(}
  \StringTok{'Frequency Count: }\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{, pd.DataFrame(X.toarray(), columns}\OperatorTok{=}\NormalTok{count_vec.get_feature_names()),}
  \StringTok{'}\CharTok{\textbackslash{}n\textbackslash{}n}\StringTok{Vocabulary: '}\NormalTok{, count_vec.vocabulary_,}
  \StringTok{'}\CharTok{\textbackslash{}n\textbackslash{}n}\StringTok{TFIDF Without Norm:}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{,tfidf1.toarray(), }
  \StringTok{'}\CharTok{\textbackslash{}n\textbackslash{}n}\StringTok{TFIDF with L2 Norm:}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{,tfidf2.toarray(),  }
  \StringTok{'}\CharTok{\textbackslash{}n\textbackslash{}n}\StringTok{TFIDF with L2 Norm (smooth):}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{,tfidf3.toarray())}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> Frequency Count: 
#:>     apple  banana  durian
#:> 0      5       1       0
#:> 1      2       0       0
#:> 2      3       1       0
#:> 3      0       0       3 
#:> 
#:> Vocabulary:  {'apple': 0, 'banana': 1, 'durian': 2} 
#:> 
#:> TFIDF Without Norm:
#:>  [[6.43841036 1.69314718 0.        ]
#:>  [2.57536414 0.         0.        ]
#:>  [3.86304622 1.69314718 0.        ]
#:>  [0.         0.         7.15888308]] 
#:> 
#:> TFIDF with L2 Norm:
#:>  [[0.96711783 0.25432874 0.        ]
#:>  [1.         0.         0.        ]
#:>  [0.91589033 0.40142857 0.        ]
#:>  [0.         0.         1.        ]] 
#:> 
#:> TFIDF with L2 Norm (smooth):
#:>  [[0.97081492 0.23982991 0.        ]
#:>  [1.         0.         0.        ]
#:>  [0.92468843 0.38072472 0.        ]
#:>  [0.         0.         1.        ]]
\end{verbatim}

\hypertarget{tfidfvectorizer}{%
\subsubsection{\texorpdfstring{\texttt{TfidfVectorizer}}{TfidfVectorizer}}\label{tfidfvectorizer}}

This vectorizer gives end to end processing from corpus into TFIDF vector matrix, including tokenization, stopwords.

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ sklearn.feature_extraction.text }\ImportTok{import}\NormalTok{ TfidfVectorizer}
\NormalTok{my_tokenizer }\OperatorTok{=}\NormalTok{ RegexpTokenizer(}\VerbatimStringTok{r'[a-zA-Z0-9\textbackslash{}']+'}\NormalTok{)  }\CommentTok{## Custom Tokenizer}

\NormalTok{vec1 }\OperatorTok{=}\NormalTok{ TfidfVectorizer(tokenizer}\OperatorTok{=}\NormalTok{my_tokenizer.tokenize,  stop_words}\OperatorTok{=}\StringTok{'english'}\NormalTok{) }\CommentTok{#default smooth_idf=True, norm='l2'}
\NormalTok{vec2 }\OperatorTok{=}\NormalTok{ TfidfVectorizer(tokenizer}\OperatorTok{=}\NormalTok{my_tokenizer.tokenize, stop_words}\OperatorTok{=}\StringTok{'english'}\NormalTok{,smooth_idf}\OperatorTok{=}\VariableTok{False}\NormalTok{)}
\NormalTok{vec3 }\OperatorTok{=}\NormalTok{ TfidfVectorizer(tokenizer}\OperatorTok{=}\NormalTok{my_tokenizer.tokenize, stop_words}\OperatorTok{=}\StringTok{'english'}\NormalTok{, norm}\OperatorTok{=}\VariableTok{None}\NormalTok{)}

\NormalTok{X1   }\OperatorTok{=}\NormalTok{ vec1.fit_transform(corpus)  }\CommentTok{# FIT the vectorizer, return fitted data}
\NormalTok{X2   }\OperatorTok{=}\NormalTok{ vec2.fit_transform(corpus)  }\CommentTok{# FIT the vectorizer, return fitted data}
\NormalTok{X3   }\OperatorTok{=}\NormalTok{ vec3.fit_transform(corpus)  }\CommentTok{# FIT the vectorizer, return fitted data}

\BuiltInTok{print}\NormalTok{(}
  \StringTok{'TFIDF Features (Default with Smooth and L2 Norm):}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{,}
\NormalTok{  pd.DataFrame(X1.toarray().}\BuiltInTok{round}\NormalTok{(}\DecValTok{3}\NormalTok{), columns}\OperatorTok{=}\NormalTok{vec1.get_feature_names()),}
  \StringTok{'}\CharTok{\textbackslash{}n\textbackslash{}n}\StringTok{TFIDF Features (without Smoothing):}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{,}
\NormalTok{  pd.DataFrame(X2.toarray().}\BuiltInTok{round}\NormalTok{(}\DecValTok{3}\NormalTok{), columns}\OperatorTok{=}\NormalTok{vec2.get_feature_names()),}
  \StringTok{'}\CharTok{\textbackslash{}n\textbackslash{}n}\StringTok{TFIDF Features (without L2 Norm):}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{,}
\NormalTok{  pd.DataFrame(X3.toarray().}\BuiltInTok{round}\NormalTok{(}\DecValTok{3}\NormalTok{), columns}\OperatorTok{=}\NormalTok{vec3.get_feature_names())}
\NormalTok{  )}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> TFIDF Features (Default with Smooth and L2 Norm):
#:>     apple  banana  durian
#:> 0  0.971   0.240     0.0
#:> 1  1.000   0.000     0.0
#:> 2  0.925   0.381     0.0
#:> 3  0.000   0.000     1.0 
#:> 
#:> TFIDF Features (without Smoothing):
#:>     apple  banana  durian
#:> 0  0.967   0.254     0.0
#:> 1  1.000   0.000     0.0
#:> 2  0.916   0.401     0.0
#:> 3  0.000   0.000     1.0 
#:> 
#:> TFIDF Features (without L2 Norm):
#:>     apple  banana  durian
#:> 0  6.116   1.511   0.000
#:> 1  2.446   0.000   0.000
#:> 2  3.669   1.511   0.000
#:> 3  0.000   0.000   5.749
\end{verbatim}

\hypertarget{appliction}{%
\section{Appliction}\label{appliction}}

\hypertarget{document-similarity}{%
\subsection{Document Similarity}\label{document-similarity}}

Document1 and Document 2 are mutiplicate of Document0, therefore their consine similarity is the same.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{documents }\OperatorTok{=}\NormalTok{ (}
    \StringTok{"apple apple banana"}\NormalTok{,}
    \StringTok{"apple apple banana apple apple banana"}\NormalTok{,}
    \StringTok{"apple apple banana apple apple banana apple apple banana"}\NormalTok{)}
    
\ImportTok{from}\NormalTok{ sklearn.feature_extraction.text }\ImportTok{import}\NormalTok{ TfidfVectorizer}
\NormalTok{tfidf_vec }\OperatorTok{=}\NormalTok{ TfidfVectorizer()}
\NormalTok{tfidf_matrix }\OperatorTok{=}\NormalTok{ tfidf_vec.fit_transform(documents)}

\ImportTok{from}\NormalTok{ sklearn.metrics.pairwise }\ImportTok{import}\NormalTok{ cosine_similarity}
\BuiltInTok{print}\NormalTok{(}\StringTok{'Cosine Similarity betwen doc0 and doc1:}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{,cosine_similarity(tfidf_matrix[}\DecValTok{0}\NormalTok{], tfidf_matrix[}\DecValTok{1}\NormalTok{]))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> Cosine Similarity betwen doc0 and doc1:
#:>  [[1.]]
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{(}\StringTok{'Cosine Similarity betwen doc1 and doc2:}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{,cosine_similarity(tfidf_matrix[}\DecValTok{1}\NormalTok{], tfidf_matrix[}\DecValTok{2}\NormalTok{]))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> Cosine Similarity betwen doc1 and doc2:
#:>  [[1.]]
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{(}\StringTok{'Cosine Similarity betwen doc1 and doc2:}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{,cosine_similarity(tfidf_matrix[}\DecValTok{0}\NormalTok{], tfidf_matrix[}\DecValTok{2}\NormalTok{]))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> Cosine Similarity betwen doc1 and doc2:
#:>  [[1.]]
\end{verbatim}

\hypertarget{naive-bayes}{%
\section{Naive Bayes}\label{naive-bayes}}

\hypertarget{libraries}{%
\subsection{Libraries}\label{libraries}}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ nlpia.data.loaders }\ImportTok{import}\NormalTok{ get_data}
\ImportTok{from}\NormalTok{ nltk.tokenize.casual     }\ImportTok{import}\NormalTok{ casual_tokenize}
\ImportTok{from}\NormalTok{ collections }\ImportTok{import}\NormalTok{ Counter}
\end{Highlighting}
\end{Shaded}

\hypertarget{the-data-4}{%
\subsection{The Data}\label{the-data-4}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{movies }\OperatorTok{=}\NormalTok{ get_data(}\StringTok{'hutto_movies'}\NormalTok{)   }\CommentTok{# download data}
\BuiltInTok{print}\NormalTok{(movies.head(), }\StringTok{'}\CharTok{\textbackslash{}n\textbackslash{}n}\StringTok{'}\NormalTok{,}
\NormalTok{      movies.describe())}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>     sentiment                                               text
#:> id                                                              
#:> 1    2.266667  The Rock is destined to be the 21st Century's ...
#:> 2    3.533333  The gorgeously elaborate continuation of ''The...
#:> 3   -0.600000                     Effective but too tepid biopic
#:> 4    1.466667  If you sometimes like to go to the movies to h...
#:> 5    1.733333  Emerges as something rare, an issue movie that... 
#:> 
#:>            sentiment
#:> count  10605.000000
#:> mean       0.004831
#:> std        1.922050
#:> min       -3.875000
#:> 25%       -1.769231
#:> 50%       -0.080000
#:> 75%        1.833333
#:> max        3.941176
\end{verbatim}

\hypertarget{bag-of-words}{%
\subsection{Bag of Words}\label{bag-of-words}}

\begin{itemize}
\tightlist
\item
  Tokenize each record, remove single character token, then convert into list of counters (words-frequency pair).\\
\item
  Each item in the list is a counter, which represent word frequency within the record
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{bag_of_words }\OperatorTok{=}\NormalTok{ []}
\ControlFlowTok{for}\NormalTok{ text }\KeywordTok{in}\NormalTok{ movies.text:}
\NormalTok{    tokens }\OperatorTok{=}\NormalTok{ casual_tokenize(text, reduce_len}\OperatorTok{=}\VariableTok{True}\NormalTok{, strip_handles}\OperatorTok{=}\VariableTok{True}\NormalTok{)  }\CommentTok{# tokenize}
\NormalTok{    tokens }\OperatorTok{=}\NormalTok{ [x }\ControlFlowTok{for}\NormalTok{ x }\KeywordTok{in}\NormalTok{ tokens }\ControlFlowTok{if} \BuiltInTok{len}\NormalTok{(x)}\OperatorTok{>}\DecValTok{1}\NormalTok{]                  }\CommentTok{## remove single char token}
\NormalTok{    bag_of_words.append( Counter(tokens, strip_handles}\OperatorTok{=}\VariableTok{True}\NormalTok{)  }\CommentTok{## add to our BoW}
\NormalTok{    )}

\NormalTok{unique_words }\OperatorTok{=}  \BuiltInTok{list}\NormalTok{( }\BuiltInTok{set}\NormalTok{([ y  }\ControlFlowTok{for}\NormalTok{ x }\KeywordTok{in}\NormalTok{ bag_of_words  }\ControlFlowTok{for}\NormalTok{ y }\KeywordTok{in}\NormalTok{ x.keys()]) )}

\BuiltInTok{print}\NormalTok{(}\StringTok{"Total Rows: "}\NormalTok{, }\BuiltInTok{len}\NormalTok{(bag_of_words),}\StringTok{'}\CharTok{\textbackslash{}n\textbackslash{}n}\StringTok{'}\NormalTok{,}
      \StringTok{'Row 1 BoW: '}\NormalTok{,bag_of_words[:}\DecValTok{1}\NormalTok{],}\StringTok{'}\CharTok{\textbackslash{}n\textbackslash{}n}\StringTok{'}\NormalTok{,    }\CommentTok{# see the first two records}
      \StringTok{'Row 2 BoW: '}\NormalTok{, bag_of_words[:}\DecValTok{2}\NormalTok{], }\StringTok{'}\CharTok{\textbackslash{}n\textbackslash{}n}\StringTok{'}\NormalTok{,}
      \StringTok{'Total Unique Words: '}\NormalTok{, }\BuiltInTok{len}\NormalTok{(unique_words))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> Total Rows:  10605 
#:> 
#:>  Row 1 BoW:  [Counter({'to': 2, 'The': 1, 'Rock': 1, 'is': 1, 'destined': 1, 'be': 1, 'the': 1, '21st': 1, "Century's": 1, 'new': 1, 'Conan': 1, 'and': 1, 'that': 1, "he's": 1, 'going': 1, 'make': 1, 'splash': 1, 'even': 1, 'greater': 1, 'than': 1, 'Arnold': 1, 'Schwarzenegger': 1, 'Jean': 1, 'Claud': 1, 'Van': 1, 'Damme': 1, 'or': 1, 'Steven': 1, 'Segal': 1, 'strip_handles': 1})] 
#:> 
#:>  Row 2 BoW:  [Counter({'to': 2, 'The': 1, 'Rock': 1, 'is': 1, 'destined': 1, 'be': 1, 'the': 1, '21st': 1, "Century's": 1, 'new': 1, 'Conan': 1, 'and': 1, 'that': 1, "he's": 1, 'going': 1, 'make': 1, 'splash': 1, 'even': 1, 'greater': 1, 'than': 1, 'Arnold': 1, 'Schwarzenegger': 1, 'Jean': 1, 'Claud': 1, 'Van': 1, 'Damme': 1, 'or': 1, 'Steven': 1, 'Segal': 1, 'strip_handles': 1}), Counter({'of': 4, 'The': 2, 'gorgeously': 1, 'elaborate': 1, 'continuation': 1, 'Lord': 1, 'the': 1, 'Rings': 1, 'trilogy': 1, 'is': 1, 'so': 1, 'huge': 1, 'that': 1, 'column': 1, 'words': 1, 'cannot': 1, 'adequately': 1, 'describe': 1, 'co': 1, 'writer': 1, 'director': 1, 'Peter': 1, "Jackson's": 1, 'expanded': 1, 'vision': 1, "Tolkien's": 1, 'Middle': 1, 'earth': 1, 'strip_handles': 1})] 
#:> 
#:>  Total Unique Words:  20686
\end{verbatim}

\textbf{Convert NaN into 0 then all features into integer}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{bows_df }\OperatorTok{=}\NormalTok{ pd.DataFrame.from_records(bag_of_words)}
\NormalTok{bows_df }\OperatorTok{=}\NormalTok{ bows_df.fillna(}\DecValTok{0}\NormalTok{).astype(}\BuiltInTok{int}\NormalTok{)  }\CommentTok{# replace NaN with 0, change to integer}
\NormalTok{bows_df.head()}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>    The  Rock  is  destined  to  ...  Bearable  Staggeringly  ve  muttering  dissing
#:> 0    1     1   1         1   2  ...         0             0   0          0        0
#:> 1    2     0   1         0   0  ...         0             0   0          0        0
#:> 2    0     0   0         0   0  ...         0             0   0          0        0
#:> 3    0     0   1         0   4  ...         0             0   0          0        0
#:> 4    0     0   0         0   0  ...         0             0   0          0        0
#:> 
#:> [5 rows x 20686 columns]
\end{verbatim}

\hypertarget{build-the-model}{%
\subsection{Build The Model}\label{build-the-model}}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ sklearn.naive_bayes }\ImportTok{import}\NormalTok{ MultinomialNB}
\NormalTok{train_y  }\OperatorTok{=}\NormalTok{ movies.sentiment}\OperatorTok{>}\DecValTok{0}   \CommentTok{# label}
\NormalTok{train_X  }\OperatorTok{=}\NormalTok{ bows_df              }\CommentTok{# features}
\NormalTok{nb_model }\OperatorTok{=}\NormalTok{ MultinomialNB().fit( train_X, train_y)}
\end{Highlighting}
\end{Shaded}

\hypertarget{train-set-prediction}{%
\subsection{Train Set Prediction}\label{train-set-prediction}}

First, make a prediction on training data, then compare to ground truth.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{train_predicted }\OperatorTok{=}\NormalTok{ nb_model.predict(bows_df)}
\BuiltInTok{print}\NormalTok{(}\StringTok{"Accuracy: "}\NormalTok{, np.mean(train_predicted}\OperatorTok{==}\NormalTok{train_y).}\BuiltInTok{round}\NormalTok{(}\DecValTok{4}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> Accuracy:  0.9357
\end{verbatim}

\hypertarget{web-scrapping}{%
\chapter{Web Scrapping}\label{web-scrapping}}

\hypertarget{requests}{%
\section{\texorpdfstring{\texttt{requests}}{requests}}\label{requests}}

\hypertarget{creating-a-session}{%
\subsection{Creating A Session}\label{creating-a-session}}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ requests}
\ImportTok{from}\NormalTok{ requests.adapters }\ImportTok{import}\NormalTok{ HTTPAdapter}
\ImportTok{from}\NormalTok{ urllib3.util.retry }\ImportTok{import}\NormalTok{ Retry}
\ImportTok{import}\NormalTok{ random}


\NormalTok{_retries }\OperatorTok{=}\NormalTok{ Retry(}\ExtensionTok{connect}\OperatorTok{=}\DecValTok{10}\NormalTok{,read}\OperatorTok{=}\DecValTok{10}\NormalTok{,backoff_factor}\OperatorTok{=}\DecValTok{1}\NormalTok{)   }\CommentTok{# backoff is incremental interval in seconds between retries}
\NormalTok{_timeout }\OperatorTok{=}\NormalTok{ (}\DecValTok{10}\NormalTok{,}\DecValTok{10}\NormalTok{)  }\CommentTok{## connect, read timeout in seconds}

\NormalTok{rqs }\OperatorTok{=}\NormalTok{ requests.Session()}
\NormalTok{rqs.mount( }\StringTok{'http://'}\NormalTok{ ,  HTTPAdapter(max_retries}\OperatorTok{=}\NormalTok{ _retries))}
\NormalTok{rqs.mount( }\StringTok{'https://'}\NormalTok{ , HTTPAdapter(max_retries}\OperatorTok{=}\NormalTok{ _retries))}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{link1 }\OperatorTok{=} \StringTok{'https://www.yahoo.com'}
\NormalTok{link2 }\OperatorTok{=} \StringTok{'http://mamamia777.com.au'}
\CommentTok{#user_agent = \{'User-Agent': random.choice(_USER_AGENTS)\}}
\CommentTok{#response1  = rqs.get(link1, timeout=_timeout)}
\CommentTok{#response2  = rqs.get(link2, timeout=_timeout)  }
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{ (page1.status_code)}
\end{Highlighting}
\end{Shaded}

\hypertarget{rotating-broswer}{%
\subsection{Rotating Broswer}\label{rotating-broswer}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{_USER_AGENTS }\OperatorTok{=}\NormalTok{ [}
   \CommentTok{#Chrome}
    \StringTok{'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/60.0.3112.113 Safari/537.36'}\NormalTok{,}
    \StringTok{'Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/60.0.3112.90 Safari/537.36'}\NormalTok{,}
    \StringTok{'Mozilla/5.0 (Windows NT 5.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/60.0.3112.90 Safari/537.36'}\NormalTok{,}
    \StringTok{'Mozilla/5.0 (Windows NT 6.2; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/60.0.3112.90 Safari/537.36'}\NormalTok{,}
    \StringTok{'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/44.0.2403.157 Safari/537.36'}\NormalTok{,}
    \StringTok{'Mozilla/5.0 (Windows NT 6.3; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/60.0.3112.113 Safari/537.36'}\NormalTok{,}
    \StringTok{'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/57.0.2987.133 Safari/537.36'}\NormalTok{,}
    \StringTok{'Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/57.0.2987.133 Safari/537.36'}\NormalTok{,}
    \StringTok{'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/55.0.2883.87 Safari/537.36'}\NormalTok{,}
    \StringTok{'Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/55.0.2883.87 Safari/537.36'}\NormalTok{,}
    \CommentTok{#Firefox}
    \StringTok{'Mozilla/4.0 (compatible; MSIE 9.0; Windows NT 6.1)'}\NormalTok{,}
    \StringTok{'Mozilla/5.0 (Windows NT 6.1; WOW64; Trident/7.0; rv:11.0) like Gecko'}\NormalTok{,}
    \StringTok{'Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; WOW64; Trident/5.0)'}\NormalTok{,}
    \StringTok{'Mozilla/5.0 (Windows NT 6.1; Trident/7.0; rv:11.0) like Gecko'}\NormalTok{,}
    \StringTok{'Mozilla/5.0 (Windows NT 6.2; WOW64; Trident/7.0; rv:11.0) like Gecko'}\NormalTok{,}
    \StringTok{'Mozilla/5.0 (Windows NT 10.0; WOW64; Trident/7.0; rv:11.0) like Gecko'}\NormalTok{,}
    \StringTok{'Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.0; Trident/5.0)'}\NormalTok{,}
    \StringTok{'Mozilla/5.0 (Windows NT 6.3; WOW64; Trident/7.0; rv:11.0) like Gecko'}\NormalTok{,}
    \StringTok{'Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; Trident/5.0)'}\NormalTok{,}
    \StringTok{'Mozilla/5.0 (Windows NT 6.1; Win64; x64; Trident/7.0; rv:11.0) like Gecko'}\NormalTok{,}
    \StringTok{'Mozilla/5.0 (compatible; MSIE 10.0; Windows NT 6.1; WOW64; Trident/6.0)'}\NormalTok{,}
    \StringTok{'Mozilla/5.0 (compatible; MSIE 10.0; Windows NT 6.1; Trident/6.0)'}\NormalTok{,}
    \StringTok{'Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 5.1; Trident/4.0; .NET CLR 2.0.50727; .NET CLR 3.0.4506.2152; .NET CLR 3.5.30729)'}\NormalTok{]}
\end{Highlighting}
\end{Shaded}

\hypertarget{beautifulsoup}{%
\section{\texorpdfstring{\texttt{BeautifulSoup}}{BeautifulSoup}}\label{beautifulsoup}}

\hypertarget{module-import-2}{%
\subsection{Module Import}\label{module-import-2}}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ bs4 }\ImportTok{import}\NormalTok{ BeautifulSoup}
\end{Highlighting}
\end{Shaded}

\hypertarget{html-tag-parsing}{%
\subsection{HTML Tag Parsing}\label{html-tag-parsing}}

\hypertarget{sample-data-26}{%
\subsubsection{Sample Data}\label{sample-data-26}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{my_html }\OperatorTok{=} \StringTok{'''}
\StringTok{<div id="my-id1" class='title'> }
\StringTok{    <p>This Is My Title</p>}
\StringTok{    }
\StringTok{    <div id="my-id2" class='subtitle' custom_attr='funny'>}
\StringTok{        <p>This is Subtitle</p>}
\StringTok{    </div>}
\StringTok{    }
\StringTok{    <div id="my-id3" class='title',   custom_attr='funny'>}
\StringTok{        <p>This is paragraph1</p>}
\StringTok{        <p>This is paragraph2</p>}
\StringTok{        <h3>This is paragraph3</h3>}
\StringTok{    </div>}
\StringTok{</div>}
\StringTok{'''}
\NormalTok{soup }\OperatorTok{=}\NormalTok{ BeautifulSoup(my_html)}
\end{Highlighting}
\end{Shaded}

\hypertarget{first-match}{%
\subsubsection{First Match}\label{first-match}}

\textbf{ID Selector}\\
Everthing under the selected tag will be returned.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{soup.find(}\BuiltInTok{id}\OperatorTok{=}\StringTok{'my-id1'}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> <div class="title" id="my-id1">
#:> <p>This Is My Title</p>
#:> <div class="subtitle" custom_attr="funny" id="my-id2">
#:> <p>This is Subtitle</p>
#:> </div>
#:> <div class="title" custom_attr="funny" id="my-id3">
#:> <p>This is paragraph1</p>
#:> <p>This is paragraph2</p>
#:> <h3>This is paragraph3</h3>
#:> </div>
#:> </div>
\end{verbatim}

\textbf{Class Selector}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{soup.find(class_}\OperatorTok{=}\StringTok{'subtitle'}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> <div class="subtitle" custom_attr="funny" id="my-id2">
#:> <p>This is Subtitle</p>
#:> </div>
\end{verbatim}

\textbf{Attribute Selector}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{soup.find(custom_attr}\OperatorTok{=}\StringTok{'funny'}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> <div class="subtitle" custom_attr="funny" id="my-id2">
#:> <p>This is Subtitle</p>
#:> </div>
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{soup.find(       custom_attr}\OperatorTok{=}\StringTok{'funny'}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> <div class="subtitle" custom_attr="funny" id="my-id2">
#:> <p>This is Subtitle</p>
#:> </div>
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{soup.find(}\StringTok{'div'}\NormalTok{, custom_attr}\OperatorTok{=}\StringTok{'funny'}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> <div class="subtitle" custom_attr="funny" id="my-id2">
#:> <p>This is Subtitle</p>
#:> </div>
\end{verbatim}

\hypertarget{find-all-matches-1}{%
\subsubsection{Find All Matches}\label{find-all-matches-1}}

\textbf{\texttt{find\_all}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{soup }\OperatorTok{=}\NormalTok{ BeautifulSoup(my_html)}
\NormalTok{multiple_result }\OperatorTok{=}\NormalTok{ soup.find_all(class_}\OperatorTok{=}\StringTok{'title'}\NormalTok{)}
\BuiltInTok{print}\NormalTok{( }\StringTok{'Item 0: }\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{,     multiple_result[}\DecValTok{0}\NormalTok{],}
       \StringTok{'}\CharTok{\textbackslash{}n\textbackslash{}n}\StringTok{Item 1: }\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{, multiple_result[}\DecValTok{1}\NormalTok{])}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> Item 0: 
#:>  <div class="title" id="my-id1">
#:> <p>This Is My Title</p>
#:> <div class="subtitle" custom_attr="funny" id="my-id2">
#:> <p>This is Subtitle</p>
#:> </div>
#:> <div class="title" custom_attr="funny" id="my-id3">
#:> <p>This is paragraph1</p>
#:> <p>This is paragraph2</p>
#:> <h3>This is paragraph3</h3>
#:> </div>
#:> </div> 
#:> 
#:> Item 1: 
#:>  <div class="title" custom_attr="funny" id="my-id3">
#:> <p>This is paragraph1</p>
#:> <p>This is paragraph2</p>
#:> <h3>This is paragraph3</h3>
#:> </div>
\end{verbatim}

\textbf{CSS Selector using \texttt{select()}}

Above can be achieved using css selector. It return an array of result (multiple matches).

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{multiple_result }\OperatorTok{=}\NormalTok{ soup.select(}\StringTok{'.title'}\NormalTok{)}
\BuiltInTok{print}\NormalTok{( }\StringTok{'Item 0: }\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{,     multiple_result[}\DecValTok{0}\NormalTok{],}
       \StringTok{'}\CharTok{\textbackslash{}n\textbackslash{}n}\StringTok{Item 1: }\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{, multiple_result[}\DecValTok{1}\NormalTok{])}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> Item 0: 
#:>  <div class="title" id="my-id1">
#:> <p>This Is My Title</p>
#:> <div class="subtitle" custom_attr="funny" id="my-id2">
#:> <p>This is Subtitle</p>
#:> </div>
#:> <div class="title" custom_attr="funny" id="my-id3">
#:> <p>This is paragraph1</p>
#:> <p>This is paragraph2</p>
#:> <h3>This is paragraph3</h3>
#:> </div>
#:> </div> 
#:> 
#:> Item 1: 
#:>  <div class="title" custom_attr="funny" id="my-id3">
#:> <p>This is paragraph1</p>
#:> <p>This is paragraph2</p>
#:> <h3>This is paragraph3</h3>
#:> </div>
\end{verbatim}

More granular exmaple of css selector.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{soup.select(}\StringTok{'#my-id1 div.subtitle'}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> [<div class="subtitle" custom_attr="funny" id="my-id2">
#:> <p>This is Subtitle</p>
#:> </div>]
\end{verbatim}

Using \textbf{\texttt{contains()}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{soup.select(}\StringTok{"p:contains('This is paragraph')"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> [<p>This is paragraph1</p>, <p>This is paragraph2</p>]
\end{verbatim}

Combining ID, Class and Custom Attribute in the selector

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{soup.select(}\StringTok{"div#my-id3.title[custom_attr='funny']:contains('This is paragraph')"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> [<div class="title" custom_attr="funny" id="my-id3">
#:> <p>This is paragraph1</p>
#:> <p>This is paragraph2</p>
#:> <h3>This is paragraph3</h3>
#:> </div>]
\end{verbatim}

\hypertarget{meta-parsing}{%
\subsection{Meta Parsing}\label{meta-parsing}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{my_meta }\OperatorTok{=} \StringTok{'''}
\StringTok{<meta property="description"   content="KUALA LUMPUR: blah blah"   category="Malaysia">}
\StringTok{<meta property="publish-date"  content="2012-01-03">}
\StringTok{'''}
\NormalTok{soup }\OperatorTok{=}\NormalTok{ BeautifulSoup(my_meta)}
\NormalTok{soup.find(}\StringTok{'meta'}\NormalTok{, }\BuiltInTok{property}\OperatorTok{=}\StringTok{'description'}\NormalTok{)[}\StringTok{'content'}\NormalTok{]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 'KUALA LUMPUR: blah blah'
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{soup.find(}\StringTok{'meta'}\NormalTok{, }\BuiltInTok{property}\OperatorTok{=}\StringTok{'description'}\NormalTok{)[}\StringTok{'category'}\NormalTok{]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 'Malaysia'
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{soup.find(}\StringTok{'meta'}\NormalTok{, }\BuiltInTok{property}\OperatorTok{=}\StringTok{'publish-date'}\NormalTok{)[}\StringTok{'content'}\NormalTok{]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> '2012-01-03'
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{soup.find(}\StringTok{'meta'}\NormalTok{, category}\OperatorTok{=}\StringTok{'Malaysia'}\NormalTok{)[}\StringTok{'property'}\NormalTok{]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 'description'
\end{verbatim}

\hypertarget{getting-content}{%
\subsection{Getting Content}\label{getting-content}}

\hypertarget{get-content-get_textstrip-separator}{%
\subsubsection{\texorpdfstring{Get Content \texttt{get\_text(strip=,\ separator=)}}{Get Content get\_text(strip=, separator=)}}\label{get-content-get_textstrip-separator}}

\begin{itemize}
\tightlist
\item
  Use \textbf{\texttt{strip=True}} to strip whitespace from the beginning and end of each bit of text\\
\item
  Use \textbf{`separator=`\textbackslash n'} to specify a string to be used to join the bits of text together
\item
  It is recommended to use \texttt{strip=True,\ separator=\textquotesingle{}\textbackslash{}n\textquotesingle{}} so that result from different operating system will be consistant
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{soup }\OperatorTok{=}\NormalTok{ BeautifulSoup(my_html)}
\NormalTok{elem }\OperatorTok{=}\NormalTok{ soup.find(}\BuiltInTok{id} \OperatorTok{=} \StringTok{"my-id3"}\NormalTok{)}
\NormalTok{elem.get_text(strip}\OperatorTok{=}\VariableTok{False}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> '\nThis is paragraph1\nThis is paragraph2\nThis is paragraph3\n'
\end{verbatim}

\begin{itemize}
\tightlist
\item
  strip=True combine with separator will retain only the user readable text portion of each tag, with separator seperating them
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{elem.get_text(strip}\OperatorTok{=}\VariableTok{True}\NormalTok{, separator}\OperatorTok{=}\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 'This is paragraph1\nThis is paragraph2\nThis is paragraph3'
\end{verbatim}

\hypertarget{splitting-content}{%
\subsubsection{Splitting Content}\label{splitting-content}}

It is useful to split using separator into list of string.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{elem }\OperatorTok{=}\NormalTok{ soup.find(}\BuiltInTok{id} \OperatorTok{=} \StringTok{"my-id3"}\NormalTok{)}
\NormalTok{elem.get_text(strip}\OperatorTok{=}\VariableTok{True}\NormalTok{, separator}\OperatorTok{=}\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{).split(}\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> ['This is paragraph1', 'This is paragraph2', 'This is paragraph3']
\end{verbatim}

\hypertarget{traversing}{%
\subsection{Traversing}\label{traversing}}

\hypertarget{get-the-element}{%
\subsubsection{Get The Element}\label{get-the-element}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{elems }\OperatorTok{=}\NormalTok{ soup.select(}\StringTok{"div#my-id3.title[custom_attr='funny']:contains('This is paragraph')"}\NormalTok{)}
\NormalTok{elem }\OperatorTok{=}\NormalTok{ elems[}\DecValTok{0}\NormalTok{]}
\NormalTok{elem}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> <div class="title" custom_attr="funny" id="my-id3">
#:> <p>This is paragraph1</p>
#:> <p>This is paragraph2</p>
#:> <h3>This is paragraph3</h3>
#:> </div>
\end{verbatim}

\hypertarget{traversing-children}{%
\subsubsection{Traversing Children}\label{traversing-children}}

\textbf{All Children In List \texttt{findChildren()}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{elem.findChildren()}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> [<p>This is paragraph1</p>, <p>This is paragraph2</p>, <h3>This is paragraph3</h3>]
\end{verbatim}

\textbf{Next Children \texttt{findNext()}}

\begin{itemize}
\tightlist
\item
  If the element has children, this will get the immediate child\\
\item
  If the element has no children, this will find the next element in the hierechy
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{first_child }\OperatorTok{=}\NormalTok{ elem.fin}
\BuiltInTok{print}\NormalTok{( }
\NormalTok{elem.findNext().get_text(strip}\OperatorTok{=}\VariableTok{True}\NormalTok{), }\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{, }
\NormalTok{elem.findNext().findNext().get_text(strip}\OperatorTok{=}\VariableTok{True}\NormalTok{), }\StringTok{'}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> This is paragraph1 
#:>  This is paragraph2
\end{verbatim}

\hypertarget{traversing-to-parent-parent}{%
\subsubsection{\texorpdfstring{Traversing To Parent \texttt{parent()}}{Traversing To Parent parent()}}\label{traversing-to-parent-parent}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{elem_parent }\OperatorTok{=}\NormalTok{ elem.parent}
\NormalTok{elem_parent.attrs}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> {'id': 'my-id1', 'class': ['title']}
\end{verbatim}

\hypertarget{get-the-sibling-findprevioussibling}{%
\subsubsection{\texorpdfstring{Get The Sibling \texttt{findPreviousSibling()}}{Get The Sibling findPreviousSibling()}}\label{get-the-sibling-findprevioussibling}}

Sibling is element at the same level of hierachy

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{elem_prev_sib }\OperatorTok{=}\NormalTok{ elem.findPreviousSibling()}
\NormalTok{elem_prev_sib.attrs}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> {'id': 'my-id2', 'class': ['subtitle'], 'custom_attr': 'funny'}
\end{verbatim}

\hypertarget{finance}{%
\chapter{Finance}\label{finance}}

\hypertarget{getting-data}{%
\section{Getting Data}\label{getting-data}}

\hypertarget{pandas_datareder}{%
\subsection{\texorpdfstring{\texttt{pandas\_datareder}}{pandas\_datareder}}\label{pandas_datareder}}

\hypertarget{ohlc-eod-pricing}{%
\subsubsection{OHLC EOD Pricing}\label{ohlc-eod-pricing}}

\begin{itemize}
\tightlist
\item
  HLOC columns are adjusted with splits\\
\item
  `Adj Close' columns is adjusted with \textbf{split and dividends}\\
\item
  \texttt{start} and \texttt{end} date \textbf{must be string}
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ pandas_datareader }\ImportTok{as}\NormalTok{ pdr}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{pdr.data.DataReader(}\StringTok{'PUBM.KL'}\NormalTok{,}
\NormalTok{                    start}\OperatorTok{=}\StringTok{'2015-1-1'}\NormalTok{, }
\NormalTok{                    end}\OperatorTok{=}\StringTok{'2019-12-31'}\NormalTok{, }
\NormalTok{                    data_source}\OperatorTok{=}\StringTok{'yahoo'}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>                  High        Low       Open      Close     Volume  Adj Close
#:> Date                                                                        
#:> 2015-01-02  18.280001  18.020000  18.260000  18.219999  1689000.0  15.345568
#:> 2015-01-05  18.240000  17.760000  18.240000  17.820000  2667800.0  15.008673
#:> 2015-01-06  17.799999  17.500000  17.780001  17.600000  5042600.0  14.823381
#:> 2015-01-07  17.700001  17.580000  17.600000  17.580000  4913200.0  14.806539
#:> 2015-01-08  17.680000  17.559999  17.580000  17.600000  4121100.0  14.823381
#:> ...               ...        ...        ...        ...        ...        ...
#:> 2019-12-24  20.020000  19.719999  20.000000  19.820000  1405800.0  19.361732
#:> 2019-12-26  19.860001  19.639999  19.820000  19.680000   600300.0  19.224972
#:> 2019-12-27  19.940001  19.660000  19.680000  19.879999  1325700.0  19.420345
#:> 2019-12-30  20.000000  19.780001  19.879999  19.980000  2180200.0  19.518034
#:> 2019-12-31  19.900000  19.400000  19.799999  19.440001  3430600.0  18.990520
#:> 
#:> [1239 rows x 6 columns]
\end{verbatim}

\hypertarget{splits-and-dividends}{%
\subsubsection{Splits and Dividends}\label{splits-and-dividends}}

This method is similar to getting pricing data, except that different data\_sources is used.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{pdr.DataReader(}\StringTok{'AAPL'}\NormalTok{,}
\NormalTok{  data_source }\OperatorTok{=} \StringTok{'yahoo-actions'}\NormalTok{,}
\NormalTok{  start}\OperatorTok{=}\StringTok{'2014-01-06'}\NormalTok{, }
\NormalTok{  end}\OperatorTok{=}\StringTok{'2015-06-15'}
\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>               action     value
#:> 2015-05-07  DIVIDEND  0.130000
#:> 2015-02-05  DIVIDEND  0.117500
#:> 2014-11-06  DIVIDEND  0.117500
#:> 2014-08-07  DIVIDEND  0.117500
#:> 2014-06-09     SPLIT  0.142857
#:> 2014-05-08  DIVIDEND  0.117500
#:> 2014-02-06  DIVIDEND  0.108930
\end{verbatim}

\hypertarget{merging-ohlc-and-splitsdividends}{%
\subsubsection{Merging OHLC and Splits/Dividends}\label{merging-ohlc-and-splitsdividends}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{prices }\OperatorTok{=}\NormalTok{ pdr.DataReader(}\StringTok{'AAPL'}\NormalTok{,}
\NormalTok{  data_source }\OperatorTok{=} \StringTok{'yahoo'}\NormalTok{,}
\NormalTok{  start}\OperatorTok{=}\StringTok{'2014-06-06'}\NormalTok{, }
\NormalTok{  end}\OperatorTok{=}\StringTok{'2014-06-12'}
\NormalTok{)}

\NormalTok{actions }\OperatorTok{=}\NormalTok{ pdr.DataReader(}\StringTok{'AAPL'}\NormalTok{,}
\NormalTok{  data_source }\OperatorTok{=} \StringTok{'yahoo-actions'}\NormalTok{,}
\NormalTok{  start}\OperatorTok{=}\StringTok{'2014-06-06'}\NormalTok{, }
\NormalTok{  end}\OperatorTok{=}\StringTok{'2014-06-12'}
\NormalTok{)}
\end{Highlighting}
\end{Shaded}

Use \texttt{pandas.merge()} function to combine both prices and splits dataframe in \textbf{a new dataframe}. Non matching line will have NaN.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{pd.merge(prices, actions, how}\OperatorTok{=}\StringTok{'outer'}\NormalTok{, left_index}\OperatorTok{=}\VariableTok{True}\NormalTok{, right_index}\OperatorTok{=}\VariableTok{True}\NormalTok{) }\OperatorTok{\textbackslash{}}
\NormalTok{  .loc[:,[}\StringTok{'High'}\NormalTok{,}\StringTok{'Low'}\NormalTok{,}\StringTok{'Open'}\NormalTok{,}\StringTok{'Close'}\NormalTok{,}\StringTok{'action'}\NormalTok{,}\StringTok{'value'}\NormalTok{]]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>                  High        Low       Open      Close action     value
#:> 2014-06-06  23.259285  23.016787  23.210714  23.056072    NaN       NaN
#:> 2014-06-09  23.469999  22.937500  23.174999  23.424999  SPLIT  0.142857
#:> 2014-06-10  23.762501  23.392500  23.682501  23.562500    NaN       NaN
#:> 2014-06-11  23.690001  23.367500  23.532499  23.465000    NaN       NaN
#:> 2014-06-12  23.530001  22.975000  23.510000  23.072500    NaN       NaN
\end{verbatim}

Alternatively, use pandas column assignment from the splits dataframe into price dataframe, it will automatically `merge' based on the \textbf{index}. This approach reuse existing dataframe instead of creating new one.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{prices[}\StringTok{'action'}\NormalTok{], prices[}\StringTok{'value'}\NormalTok{] }\OperatorTok{=}\NormalTok{ actions.action, actions.value}
\NormalTok{prices[[}\StringTok{'High'}\NormalTok{,}\StringTok{'Low'}\NormalTok{,}\StringTok{'Open'}\NormalTok{,}\StringTok{'Close'}\NormalTok{,}\StringTok{'action'}\NormalTok{,}\StringTok{'value'}\NormalTok{]]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>                  High        Low       Open      Close action     value
#:> Date                                                                   
#:> 2014-06-06  23.259285  23.016787  23.210714  23.056072    NaN       NaN
#:> 2014-06-09  23.469999  22.937500  23.174999  23.424999  SPLIT  0.142857
#:> 2014-06-10  23.762501  23.392500  23.682501  23.562500    NaN       NaN
#:> 2014-06-11  23.690001  23.367500  23.532499  23.465000    NaN       NaN
#:> 2014-06-12  23.530001  22.975000  23.510000  23.072500    NaN       NaN
\end{verbatim}

\hypertarget{query-multiple-stocks}{%
\subsubsection{Query Multiple Stocks}\label{query-multiple-stocks}}

** When multiple symbols are supplied to DataReader, dictionary containing multiple stock's result are returned.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{stocks }\OperatorTok{=}\NormalTok{ [}\StringTok{'MLYBY'}\NormalTok{, }\StringTok{'AAPL'}\NormalTok{]}
\NormalTok{my_dict }\OperatorTok{=}\NormalTok{ pdr.DataReader( stocks,}
\NormalTok{  data_source }\OperatorTok{=} \StringTok{'yahoo-actions'}\NormalTok{,}
\NormalTok{  start}\OperatorTok{=}\StringTok{'2014-01-06'}\NormalTok{, }
\NormalTok{  end}\OperatorTok{=}\StringTok{'2015-06-15'}
\NormalTok{)}

\BuiltInTok{print}\NormalTok{(my_dict.keys())}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> dict_keys(['MLYBY', 'AAPL'])
\end{verbatim}

Iterate through the dictionary to get the dataframe data

\begin{Shaded}
\begin{Highlighting}[]
\ControlFlowTok{for}\NormalTok{ i }\KeywordTok{in}\NormalTok{ my_dict.items():}
  \BuiltInTok{print}\NormalTok{(}\StringTok{'}\CharTok{\textbackslash{}n\textbackslash{}n}\StringTok{Stock: '}\NormalTok{, i[}\DecValTok{0}\NormalTok{],}
        \StringTok{'}\CharTok{\textbackslash{}n}\StringTok{DataFrame:'}\NormalTok{, i[}\DecValTok{1}\NormalTok{])}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 
#:> 
#:> Stock:  MLYBY 
#:> DataFrame:               action  value
#:> 2015-04-22  DIVIDEND  0.178
#:> 2014-09-24  DIVIDEND  0.152
#:> 2014-04-29  DIVIDEND  0.192
#:> 
#:> 
#:> Stock:  AAPL 
#:> DataFrame:               action     value
#:> 2015-05-07  DIVIDEND  0.130000
#:> 2015-02-05  DIVIDEND  0.117500
#:> 2014-11-06  DIVIDEND  0.117500
#:> 2014-08-07  DIVIDEND  0.117500
#:> 2014-06-09     SPLIT  0.142857
#:> 2014-05-08  DIVIDEND  0.117500
#:> 2014-02-06  DIVIDEND  0.108930
\end{verbatim}

\hypertarget{yfinance}{%
\subsection{\texorpdfstring{\texttt{yfinance}}{yfinance}}\label{yfinance}}

\href{https://github.com/ranaroussi/yfinance}{yFinance}

\begin{itemize}
\tightlist
\item
  Support Yahoo only, \textbf{a better alternative}\\
\item
  This library has advantage of calculating adjsuted OHLC by \textbf{split and dividends}.
\item
  Dividends and Splits are conveniently incorporated into pricing dataframe, so no manual merging necessary.\\
\item
  Multiple symbols are represented in columns\\
\item
  This library provides stock information (not all exchanges are supported though)
\end{itemize}

\hypertarget{stock-info}{%
\subsubsection{Stock Info}\label{stock-info}}

There are plenty of infomration we can get form the dictionary of returend by \texttt{info}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ yfinance }\ImportTok{as}\NormalTok{ yf}
\NormalTok{stock }\OperatorTok{=}\NormalTok{ yf.Ticker(}\StringTok{'AAPL'}\NormalTok{)}
\NormalTok{stock.info.keys()}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> dict_keys(['zip', 'sector', 'longBusinessSummary', 'city', 'phone', 'state', 'country', 'companyOfficers', 'website', 'maxAge', 'address1', 'industry', 'previousClose', 'regularMarketOpen', 'twoHundredDayAverage', 'trailingAnnualDividendYield', 'payoutRatio', 'volume24Hr', 'regularMarketDayHigh', 'navPrice', 'averageDailyVolume10Day', 'totalAssets', 'regularMarketPreviousClose', 'fiftyDayAverage', 'trailingAnnualDividendRate', 'open', 'toCurrency', 'averageVolume10days', 'expireDate', 'yield', 'algorithm', 'dividendRate', 'exDividendDate', 'beta', 'circulatingSupply', 'startDate', 'regularMarketDayLow', 'priceHint', 'currency', 'trailingPE', 'regularMarketVolume', 'lastMarket', 'maxSupply', 'openInterest', 'marketCap', 'volumeAllCurrencies', 'strikePrice', 'averageVolume', 'priceToSalesTrailing12Months', 'dayLow', 'ask', 'ytdReturn', 'askSize', 'volume', 'fiftyTwoWeekHigh', 'forwardPE', 'fromCurrency', 'fiveYearAvgDividendYield', 'fiftyTwoWeekLow', 'bid', 'tradeable', 'dividendYield', 'bidSize', 'dayHigh', 'exchange', 'shortName', 'longName', 'exchangeTimezoneName', 'exchangeTimezoneShortName', 'isEsgPopulated', 'gmtOffSetMilliseconds', 'quoteType', 'symbol', 'messageBoardId', 'market', 'annualHoldingsTurnover', 'enterpriseToRevenue', 'beta3Year', 'profitMargins', 'enterpriseToEbitda', '52WeekChange', 'morningStarRiskRating', 'forwardEps', 'revenueQuarterlyGrowth', 'sharesOutstanding', 'fundInceptionDate', 'annualReportExpenseRatio', 'bookValue', 'sharesShort', 'sharesPercentSharesOut', 'fundFamily', 'lastFiscalYearEnd', 'heldPercentInstitutions', 'netIncomeToCommon', 'trailingEps', 'lastDividendValue', 'SandP52WeekChange', 'priceToBook', 'heldPercentInsiders', 'nextFiscalYearEnd', 'mostRecentQuarter', 'shortRatio', 'sharesShortPreviousMonthDate', 'floatShares', 'enterpriseValue', 'threeYearAverageReturn', 'lastSplitDate', 'lastSplitFactor', 'legalType', 'lastDividendDate', 'morningStarOverallRating', 'earningsQuarterlyGrowth', 'dateShortInterest', 'pegRatio', 'lastCapGain', 'shortPercentOfFloat', 'sharesShortPriorMonth', 'category', 'fiveYearAverageReturn', 'regularMarketPrice', 'logo_url'])
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{(stock.info[}\StringTok{'longName'}\NormalTok{])}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> Apple Inc.
\end{verbatim}

\hypertarget{ohlc-eod-pricing-1}{%
\subsubsection{OHLC EOD Pricing}\label{ohlc-eod-pricing-1}}

\textbf{Split Adjusted}

\begin{itemize}
\tightlist
\item
  OHLC columns are adjusted with splits (when \texttt{auto\_adjust=False})
\item
  `Adj Close' columns is adjusted with \textbf{split and dividends}\\
\item
  `start' and `end' date \textbf{must be string}
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{stock }\OperatorTok{=}\NormalTok{ yf.Ticker(}\StringTok{'AAPL'}\NormalTok{)}
\NormalTok{stock.history(  start}\OperatorTok{=}\StringTok{'2014-06-06'}\NormalTok{, end}\OperatorTok{=}\StringTok{'2015-06-15'}\NormalTok{, auto_adjust }\OperatorTok{=} \VariableTok{False}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>                  Open       High        Low      Close  Adj Close     Volume  Dividends  \
#:> Date                                                                                      
#:> 2014-06-06  23.210714  23.259285  23.016787  23.056072  20.844652  349938400        0.0   
#:> 2014-06-09  23.174999  23.469999  22.937500  23.424999  21.178194  301660000        0.0   
#:> 2014-06-10  23.682501  23.762501  23.392500  23.562500  21.302504  251108000        0.0   
#:> 2014-06-11  23.532499  23.690001  23.367500  23.465000  21.214357  182724000        0.0   
#:> 2014-06-12  23.510000  23.530001  22.975000  23.072500  20.859509  218996000        0.0   
#:> ...               ...        ...        ...        ...        ...        ...        ...   
#:> 2015-06-08  32.224998  32.302502  31.707500  31.950001  29.392403  210699200        0.0   
#:> 2015-06-09  31.674999  32.020000  31.405001  31.855000  29.305008  224301600        0.0   
#:> 2015-06-10  31.980000  32.334999  31.962500  32.220001  29.640785  156349200        0.0   
#:> 2015-06-11  32.294998  32.544998  32.119999  32.147499  29.574097  141563600        0.0   
#:> 2015-06-12  32.047501  32.082500  31.777500  31.792500  29.247511  147544800        0.0   
#:> 
#:>             Stock Splits  
#:> Date                      
#:> 2014-06-06           0.0  
#:> 2014-06-09           7.0  
#:> 2014-06-10           0.0  
#:> 2014-06-11           0.0  
#:> 2014-06-12           0.0  
#:> ...                  ...  
#:> 2015-06-08           0.0  
#:> 2015-06-09           0.0  
#:> 2015-06-10           0.0  
#:> 2015-06-11           0.0  
#:> 2015-06-12           0.0  
#:> 
#:> [257 rows x 8 columns]
\end{verbatim}

\textbf{Split and Dividends Adjusted}

\begin{itemize}
\tightlist
\item
  OHLC columns are adjusted with splits and \textbf{dividends} (when \texttt{auto\_adjust=True})\\
\item
  Therefore, `Adj Close' column is redundant, hence removed.
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ yfinance }\ImportTok{as}\NormalTok{ yf}
\NormalTok{stock }\OperatorTok{=}\NormalTok{ yf.Ticker(}\StringTok{'AAPL'}\NormalTok{)}
\NormalTok{stock.history(  start}\OperatorTok{=}\StringTok{'2014-06-06'}\NormalTok{, end}\OperatorTok{=}\StringTok{'2015-06-15'}\NormalTok{, auto_adjust }\OperatorTok{=} \VariableTok{True}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>                  Open       High        Low      Close     Volume  Dividends  \
#:> Date                                                                           
#:> 2014-06-06  20.984462  21.028374  20.809135  20.844652  349938400        0.0   
#:> 2014-06-09  20.952173  21.218878  20.737453  21.178194  301660000        0.0   
#:> 2014-06-10  21.410995  21.483321  21.148809  21.302504  251108000        0.0   
#:> 2014-06-11  21.275382  21.417777  21.126209  21.214357  182724000        0.0   
#:> 2014-06-12  21.255046  21.273128  20.771360  20.859509  218996000        0.0   
#:> ...               ...        ...        ...        ...        ...        ...   
#:> 2015-06-08  29.645387  29.716686  29.169314  29.392403  210699200        0.0   
#:> 2015-06-09  29.139417  29.456801  28.891031  29.305008  224301600        0.0   
#:> 2015-06-10  29.419996  29.746577  29.403897  29.640785  156349200        0.0   
#:> 2015-06-11  29.709788  29.939776  29.548798  29.574097  141563600        0.0   
#:> 2015-06-12  29.482099  29.514297  29.233712  29.247511  147544800        0.0   
#:> 
#:>             Stock Splits  
#:> Date                      
#:> 2014-06-06           0.0  
#:> 2014-06-09           7.0  
#:> 2014-06-10           0.0  
#:> 2014-06-11           0.0  
#:> 2014-06-12           0.0  
#:> ...                  ...  
#:> 2015-06-08           0.0  
#:> 2015-06-09           0.0  
#:> 2015-06-10           0.0  
#:> 2015-06-11           0.0  
#:> 2015-06-12           0.0  
#:> 
#:> [257 rows x 7 columns]
\end{verbatim}

\hypertarget{splits-and-dividends-1}{%
\subsubsection{Splits and Dividends}\label{splits-and-dividends-1}}

Getting both Splits and Dividends

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{stock.actions}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>             Dividends  Stock Splits
#:> Date                               
#:> 2014-06-09     0.0000           7.0
#:> 2014-08-07     0.1175           0.0
#:> 2014-11-06     0.1175           0.0
#:> 2015-02-05     0.1175           0.0
#:> 2015-05-07     0.1300           0.0
\end{verbatim}

Getting Dividends Only

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{stock.dividends}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> Date
#:> 2014-08-07    0.1175
#:> 2014-11-06    0.1175
#:> 2015-02-05    0.1175
#:> 2015-05-07    0.1300
#:> Name: Dividends, dtype: float64
\end{verbatim}

Getting Splits Only

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{stock.splits}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> Date
#:> 2014-06-09    7.0
#:> Name: Stock Splits, dtype: float64
\end{verbatim}

\hypertarget{query-using-periods}{%
\subsubsection{Query Using Periods}\label{query-using-periods}}

Available periods are: 1d, 5d, 1mo, 3mo, 6mo, 1y, 2y, 5y, 10y, ytd, \textbf{max}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{stock }\OperatorTok{=}\NormalTok{ yf.Ticker(}\StringTok{'AAPL'}\NormalTok{)}
\NormalTok{stock.history(periods}\OperatorTok{=}\StringTok{'max'}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:>                   Open        High         Low       Close     Volume  Dividends  \
#:> Date                                                                               
#:> 2020-09-30  113.790001  117.260002  113.620003  115.809998  142675200          0   
#:> 2020-10-01  117.639999  117.720001  115.830002  116.790001  116120400          0   
#:> 2020-10-02  112.889999  115.370003  112.220001  113.019997  144712000          0   
#:> 2020-10-05  113.910004  116.650002  113.550003  116.500000  106243800          0   
#:> 2020-10-06  115.699997  116.120003  112.250000  113.160004  161498200          0   
#:> ...                ...         ...         ...         ...        ...        ...   
#:> 2020-10-26  114.010002  116.550003  112.879997  115.050003  111850700          0   
#:> 2020-10-27  115.489998  117.279999  114.540001  116.599998   92276800          0   
#:> 2020-10-28  115.050003  115.430000  111.099998  111.199997  143937800          0   
#:> 2020-10-29  112.370003  116.930000  112.199997  115.320000  143850900          0   
#:> 2020-10-30  111.059998  111.989998  107.720001  108.860001  184033737          0   
#:> 
#:>             Stock Splits  
#:> Date                      
#:> 2020-09-30             0  
#:> 2020-10-01             0  
#:> 2020-10-02             0  
#:> 2020-10-05             0  
#:> 2020-10-06             0  
#:> ...                  ...  
#:> 2020-10-26             0  
#:> 2020-10-27             0  
#:> 2020-10-28             0  
#:> 2020-10-29             0  
#:> 2020-10-30             0  
#:> 
#:> [23 rows x 7 columns]
\end{verbatim}

\hypertarget{query-multiple-stocks-1}{%
\subsubsection{Query Multiple Stocks}\label{query-multiple-stocks-1}}

\begin{itemize}
\tightlist
\item
  **Use \texttt{download()} function to query multiple stocks.\\
\item
  By default, it is grouped by column. Access data in \texttt{result{[}\textquotesingle{}Column\textquotesingle{}{]}{[}\textquotesingle{}Symbol\textquotesingle{}{]}}\\
\item
  To group by \textbf{Symbol}, use \texttt{group\_by} parameter. With this, access data in \texttt{result{[}\textquotesingle{}Symbol\textquotesingle{}{]}{[}\textquotesingle{}Column\textquotesingle{}{]}}\\
\item
  By default, \texttt{threads=True} for parallel downloading.
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{stocks }\OperatorTok{=}\NormalTok{ [}\StringTok{'MLYBY'}\NormalTok{,}\StringTok{'AAPL'}\NormalTok{]}
\NormalTok{df1 }\OperatorTok{=}\NormalTok{ yf.download(stocks, start}\OperatorTok{=}\StringTok{'2014-06-06'}\NormalTok{, end}\OperatorTok{=}\StringTok{'2014-06-15'}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 
[                       0%                       ]
[*********************100%***********************]  2 of 2 completed
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df2 }\OperatorTok{=}\NormalTok{ yf.download(stocks, start}\OperatorTok{=}\StringTok{'2014-06-06'}\NormalTok{, end}\OperatorTok{=}\StringTok{'2014-06-15'}\NormalTok{, group_by}\OperatorTok{=}\StringTok{'ticker'}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> 
[                       0%                       ]
[*********************100%***********************]  2 of 2 completed
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{(}\StringTok{'Group by Column Name:}\CharTok{\textbackslash{}n}\StringTok{'}\NormalTok{, df1[}\StringTok{'Close'}\NormalTok{][}\StringTok{'AAPL'}\NormalTok{], }\StringTok{'}\CharTok{\textbackslash{}n\textbackslash{}n}\StringTok{'}\NormalTok{,}
      \StringTok{'Group by Symbol:     ]n'}\NormalTok{, df2[}\StringTok{'AAPL'}\NormalTok{][}\StringTok{'Close'}\NormalTok{])}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
#:> Group by Column Name:
#:>  Date
#:> 2014-06-06    23.056072
#:> 2014-06-09    23.424999
#:> 2014-06-10    23.562500
#:> 2014-06-11    23.465000
#:> 2014-06-12    23.072500
#:> 2014-06-13    22.820000
#:> Name: AAPL, dtype: float64 
#:> 
#:>  Group by Symbol:     ]n Date
#:> 2014-06-06    23.056072
#:> 2014-06-09    23.424999
#:> 2014-06-10    23.562500
#:> 2014-06-11    23.465000
#:> 2014-06-12    23.072500
#:> 2014-06-13    22.820000
#:> Name: Close, dtype: float64
\end{verbatim}

\hypertarget{world-trading}{%
\subsection{\texorpdfstring{\texttt{world\ trading}}{world trading}}\label{world-trading}}

\hypertarget{ohlc-eod-pricing-2}{%
\subsubsection{OHLC EOD Pricing}\label{ohlc-eod-pricing-2}}

\hypertarget{charting}{%
\section{Charting}\label{charting}}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ cufflinks }\ImportTok{as}\NormalTok{ cf  }\CommentTok{# Cufflinks}
\CommentTok{#cf.set_config_file(offline=True)  # set the plotting mode to offline}
\end{Highlighting}
\end{Shaded}

\hypertarget{price-comparison}{%
\subsection{Price Comparison}\label{price-comparison}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{stocks }\OperatorTok{=}\NormalTok{ [}\StringTok{'XOM'}\NormalTok{]}
\NormalTok{df }\OperatorTok{=}\NormalTok{ yf.download(stocks, start}\OperatorTok{=}\StringTok{'2020-01-01'}\NormalTok{, end}\OperatorTok{=}\StringTok{'2020-01-30'}\NormalTok{)}
\NormalTok{df[}\StringTok{'Close'}\NormalTok{]}
\NormalTok{df.iplot()}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{stocks }\OperatorTok{=}\NormalTok{ [}\StringTok{'CVX'}\NormalTok{]}
\NormalTok{df }\OperatorTok{=}\NormalTok{ yf.download(stocks, start}\OperatorTok{=}\StringTok{'2019-01-01'}\NormalTok{, end}\OperatorTok{=}\StringTok{'2019-12-31'}\NormalTok{)}
\NormalTok{df[}\StringTok{'Close'}\NormalTok{]}
\NormalTok{df.iplot()}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{# stocks = ['AAPL','MLYBY', 'PUBM.KL', 'HLFBF','1295.KL']}
\CommentTok{# stocks = ['AAPL','MLYBY', 'PUBM.KL', 'HLFBF']}
\NormalTok{stocks }\OperatorTok{=}\NormalTok{ [}\StringTok{'AAPL'}\NormalTok{]}
\NormalTok{df }\OperatorTok{=}\NormalTok{ yf.download(stocks, start}\OperatorTok{=}\StringTok{'2020-01-01'}\NormalTok{, end}\OperatorTok{=}\StringTok{'2020-01-30'}\NormalTok{)}
\NormalTok{df[}\StringTok{'Close'}\NormalTok{]}
\NormalTok{df.iplot()}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{stock }\OperatorTok{=}\NormalTok{ yf.Ticker(}\StringTok{'PUBM.KL'}\NormalTok{)}
\CommentTok{#stock.history(periods='max')}
\NormalTok{stock.history(  start}\OperatorTok{=}\StringTok{'2014-06-06'}\NormalTok{, end}\OperatorTok{=}\StringTok{'2015-06-15'}\NormalTok{, auto_adjust }\OperatorTok{=} \VariableTok{True}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{stock }\OperatorTok{=}\NormalTok{ yf.Ticker(}\StringTok{'1295.KL'}\NormalTok{)}
\NormalTok{stock.history(  start}\OperatorTok{=}\StringTok{'2014-06-06'}\NormalTok{, end}\OperatorTok{=}\StringTok{'2015-06-15'}\NormalTok{, auto_adjust }\OperatorTok{=} \VariableTok{True}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{stocks }\OperatorTok{=}\NormalTok{ [}\StringTok{'MLYBY'}\NormalTok{]}
\NormalTok{df }\OperatorTok{=}\NormalTok{ yf.download(}\StringTok{'MLYBY'}\NormalTok{, start}\OperatorTok{=}\StringTok{'2018-12-03'}\NormalTok{, end}\OperatorTok{=}\StringTok{'2019-03-21'}\NormalTok{)}
\NormalTok{df}
\end{Highlighting}
\end{Shaded}

  \bibliography{book.bib,packages.bib}

\end{document}
