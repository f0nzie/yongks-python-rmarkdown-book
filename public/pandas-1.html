<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>13 pandas | Python Bookdown</title>
<meta name="author" content="Yong Keh Soon">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.2"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/header-attrs-2.5.3/header-attrs.js"></script><script src="libs/jquery-3.5.1/jquery-3.5.1.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.5.3/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.5.3/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.2.2.9000/tabs.js"></script><script src="libs/bs3compat-0.2.2.9000/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="https://cdn.jsdelivr.net/autocomplete.js/0/autocomplete.jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/mark.js@8.11.1/dist/mark.min.js"></script><!-- CSS -->
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">Python Bookdown</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Introduction</a></li>
<li><a class="" href="fundamentals.html"><span class="header-section-number">1</span> Fundamentals</a></li>
<li><a class="" href="built-in-data-types.html"><span class="header-section-number">2</span> Built-in Data Types</a></li>
<li><a class="" href="built-in-data-structure.html"><span class="header-section-number">3</span> Built-In Data Structure</a></li>
<li><a class="" href="control-and-loops.html"><span class="header-section-number">4</span> Control and Loops</a></li>
<li><a class="" href="library-and-functions.html"><span class="header-section-number">5</span> Library and Functions</a></li>
<li><a class="" href="exception-handling.html"><span class="header-section-number">6</span> Exception Handling</a></li>
<li><a class="" href="object-oriented-programming.html"><span class="header-section-number">7</span> Object Oriented Programming</a></li>
<li><a class="" href="decorator.html"><span class="header-section-number">8</span> Decorator</a></li>
<li><a class="" href="datetime-standard-library.html"><span class="header-section-number">9</span> datetime Standard Library</a></li>
<li><a class="" href="getting-external-data.html"><span class="header-section-number">10</span> Getting External Data</a></li>
<li><a class="" href="plydata-dplyr-for-python.html"><span class="header-section-number">11</span> Plydata (dplyr for Python)</a></li>
<li><a class="" href="numpy-1.html"><span class="header-section-number">12</span> numpy</a></li>
<li><a class="active" href="pandas-1.html"><span class="header-section-number">13</span> pandas</a></li>
<li><a class="" href="matplotlib-1.html"><span class="header-section-number">14</span> matplotlib</a></li>
<li><a class="" href="seaborn.html"><span class="header-section-number">15</span> seaborn</a></li>
<li><a class="" href="sklearn.html"><span class="header-section-number">16</span> sklearn</a></li>
<li><a class="" href="nlp.html"><span class="header-section-number">17</span> NLP</a></li>
<li><a class="" href="web-scrapping.html"><span class="header-section-number">18</span> Web Scrapping</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com//f0nzie/yongks-python-rmarkdown-book">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="pandas-1" class="section level1" number="13">
<h1>
<span class="header-section-number">13</span> pandas<a class="anchor" aria-label="anchor" href="#pandas-1"><i class="fas fa-link"></i></a>
</h1>
<div id="modules-import" class="section level2" number="13.1">
<h2>
<span class="header-section-number">13.1</span> Modules Import<a class="anchor" aria-label="anchor" href="#modules-import"><i class="fas fa-link"></i></a>
</h2>
<div class="sourceCode" id="cb896"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb896-1"><a href="pandas-1.html#cb896-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb896-2"><a href="pandas-1.html#cb896-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb896-3"><a href="pandas-1.html#cb896-3" aria-hidden="true" tabindex="-1"></a><span class="co">## Other Libraries</span></span>
<span id="cb896-4"><a href="pandas-1.html#cb896-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb896-5"><a href="pandas-1.html#cb896-5" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> datetime <span class="im">as</span> dt</span>
<span id="cb896-6"><a href="pandas-1.html#cb896-6" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> datetime <span class="im">import</span> datetime</span>
<span id="cb896-7"><a href="pandas-1.html#cb896-7" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> datetime <span class="im">import</span> date</span></code></pre></div>
</div>
<div id="pandas-objects" class="section level2" number="13.2">
<h2>
<span class="header-section-number">13.2</span> Pandas Objects<a class="anchor" aria-label="anchor" href="#pandas-objects"><i class="fas fa-link"></i></a>
</h2>
<div id="pandas-data-types" class="section level3" number="13.2.1">
<h3>
<span class="header-section-number">13.2.1</span> Pandas Data Types<a class="anchor" aria-label="anchor" href="#pandas-data-types"><i class="fas fa-link"></i></a>
</h3>
<ul>
<li>pandas.Timestamp</li>
<li>pandas.Timedelta</li>
<li>pandas.Period</li>
<li>pandas.Interval</li>
<li>pandas.DateTimeIndex</li>
</ul>
</div>
<div id="pandas-data-structure" class="section level3" number="13.2.2">
<h3>
<span class="header-section-number">13.2.2</span> Pandas Data Structure<a class="anchor" aria-label="anchor" href="#pandas-data-structure"><i class="fas fa-link"></i></a>
</h3>
<div class="inline-table"><table class="table table-sm">
<colgroup>
<col width="11%">
<col width="11%">
<col width="11%">
<col width="9%">
<col width="55%">
</colgroup>
<thead><tr class="header">
<th align="left">Type</th>
<th align="left">Dimension</th>
<th align="left">Size</th>
<th align="left">Value</th>
<th align="left">Constructor</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Series</td>
<td align="left">1</td>
<td align="left">Immutable</td>
<td align="left">Mutable</td>
<td align="left">pandas.DataFrame( data, index, dtype, copy)</td>
</tr>
<tr class="even">
<td align="left">DataFrame</td>
<td align="left">2</td>
<td align="left">Mutable</td>
<td align="left">Mutable</td>
<td align="left">pandas.DataFrame( data, index, columns, dtype, copy)</td>
</tr>
<tr class="odd">
<td align="left">Panel</td>
<td align="left">3</td>
<td align="left">Mutable</td>
<td align="left">Mutable</td>
<td align="left"></td>
</tr>
</tbody>
</table></div>
<p><strong>data</strong> can be ndarray, list, constants<br><strong>index</strong> must be unique and same length as data. Can be integer or string
<strong>dtype</strong> if none, it will be inferred<br><strong>copy</strong> copy data. Default false</p>
</div>
</div>
<div id="class-method-4" class="section level2" number="13.3">
<h2>
<span class="header-section-number">13.3</span> Class Method<a class="anchor" aria-label="anchor" href="#class-method-4"><i class="fas fa-link"></i></a>
</h2>
<div id="creating-timestamp-objects" class="section level3" number="13.3.1">
<h3>
<span class="header-section-number">13.3.1</span> Creating Timestamp Objects<a class="anchor" aria-label="anchor" href="#creating-timestamp-objects"><i class="fas fa-link"></i></a>
</h3>
<p>Pandas <strong><code>to_datetime()</code></strong> can:<br>
- Convert list of dates to <strong>DateTimeIndex</strong><br>
- Convert list of dates to <strong>Series of Timestamps</strong><br>
- Convert single date into <strong>Timestamp</strong> Object
. Source can be <strong>string, date, datetime object</strong></p>
<div id="from-list-to-datetimeindex" class="section level4" number="13.3.1.1">
<h4>
<span class="header-section-number">13.3.1.1</span> From List to <code>DateTimeIndex</code><a class="anchor" aria-label="anchor" href="#from-list-to-datetimeindex"><i class="fas fa-link"></i></a>
</h4>
<div class="sourceCode" id="cb897"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb897-1"><a href="pandas-1.html#cb897-1" aria-hidden="true" tabindex="-1"></a>dti <span class="op">=</span> pd.to_datetime([<span class="st">'2011-01-03'</span>,             <span class="co"># from string</span></span>
<span id="cb897-2"><a href="pandas-1.html#cb897-2" aria-hidden="true" tabindex="-1"></a>                       date(<span class="dv">2018</span>,<span class="dv">4</span>,<span class="dv">13</span>),         <span class="co"># from date</span></span>
<span id="cb897-3"><a href="pandas-1.html#cb897-3" aria-hidden="true" tabindex="-1"></a>                       datetime(<span class="dv">2018</span>,<span class="dv">3</span>,<span class="dv">1</span>,<span class="dv">7</span>,<span class="dv">30</span>)] <span class="co"># from datetime</span></span>
<span id="cb897-4"><a href="pandas-1.html#cb897-4" aria-hidden="true" tabindex="-1"></a>              )</span>
<span id="cb897-5"><a href="pandas-1.html#cb897-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>( dti,</span>
<span id="cb897-6"><a href="pandas-1.html#cb897-6" aria-hidden="true" tabindex="-1"></a>      <span class="st">'</span><span class="ch">\n</span><span class="st">Object Type:  '</span>, <span class="bu">type</span>(dti),</span>
<span id="cb897-7"><a href="pandas-1.html#cb897-7" aria-hidden="true" tabindex="-1"></a>      <span class="st">'</span><span class="ch">\n</span><span class="st">Object dtype: '</span>, dti.dtype,</span>
<span id="cb897-8"><a href="pandas-1.html#cb897-8" aria-hidden="true" tabindex="-1"></a>      <span class="st">'</span><span class="ch">\n</span><span class="st">Element Type: '</span>, <span class="bu">type</span>(dti[<span class="dv">1</span>]))</span></code></pre></div>
<pre><code>#:&gt; DatetimeIndex(['2011-01-03 00:00:00', '2018-04-13 00:00:00', '2018-03-01 07:30:00'], dtype='datetime64[ns]', freq=None) 
#:&gt; Object Type:   &lt;class 'pandas.core.indexes.datetimes.DatetimeIndex'&gt; 
#:&gt; Object dtype:  datetime64[ns] 
#:&gt; Element Type:  &lt;class 'pandas._libs.tslibs.timestamps.Timestamp'&gt;</code></pre>
</div>
<div id="from-list-to-series-of-timestamps" class="section level4" number="13.3.1.2">
<h4>
<span class="header-section-number">13.3.1.2</span> From List to Series of Timestamps<a class="anchor" aria-label="anchor" href="#from-list-to-series-of-timestamps"><i class="fas fa-link"></i></a>
</h4>
<div class="sourceCode" id="cb899"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb899-1"><a href="pandas-1.html#cb899-1" aria-hidden="true" tabindex="-1"></a>sdt <span class="op">=</span> pd.to_datetime(pd.Series([<span class="st">'2011-01-03'</span>,      <span class="co"># from string</span></span>
<span id="cb899-2"><a href="pandas-1.html#cb899-2" aria-hidden="true" tabindex="-1"></a>                                date(<span class="dv">2018</span>,<span class="dv">4</span>,<span class="dv">13</span>),        <span class="co"># from date</span></span>
<span id="cb899-3"><a href="pandas-1.html#cb899-3" aria-hidden="true" tabindex="-1"></a>                                datetime(<span class="dv">2018</span>,<span class="dv">3</span>,<span class="dv">1</span>,<span class="dv">7</span>,<span class="dv">30</span>)]<span class="co"># from datetime</span></span>
<span id="cb899-4"><a href="pandas-1.html#cb899-4" aria-hidden="true" tabindex="-1"></a>              ))</span>
<span id="cb899-5"><a href="pandas-1.html#cb899-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(sdt,</span>
<span id="cb899-6"><a href="pandas-1.html#cb899-6" aria-hidden="true" tabindex="-1"></a>      <span class="st">'</span><span class="ch">\n</span><span class="st">Object Type:  '</span>,<span class="bu">type</span>(sdt),</span>
<span id="cb899-7"><a href="pandas-1.html#cb899-7" aria-hidden="true" tabindex="-1"></a>      <span class="st">'</span><span class="ch">\n</span><span class="st">Object dtype: '</span>, sdt.dtype,</span>
<span id="cb899-8"><a href="pandas-1.html#cb899-8" aria-hidden="true" tabindex="-1"></a>      <span class="st">'</span><span class="ch">\n</span><span class="st">Element Type: '</span>,<span class="bu">type</span>(sdt[<span class="dv">1</span>]))</span></code></pre></div>
<pre><code>#:&gt; 0   2011-01-03 00:00:00
#:&gt; 1   2018-04-13 00:00:00
#:&gt; 2   2018-03-01 07:30:00
#:&gt; dtype: datetime64[ns] 
#:&gt; Object Type:   &lt;class 'pandas.core.series.Series'&gt; 
#:&gt; Object dtype:  datetime64[ns] 
#:&gt; Element Type:  &lt;class 'pandas._libs.tslibs.timestamps.Timestamp'&gt;</code></pre>
</div>
<div id="from-scalar-to-timestamp" class="section level4" number="13.3.1.3">
<h4>
<span class="header-section-number">13.3.1.3</span> From Scalar to Timestamp<a class="anchor" aria-label="anchor" href="#from-scalar-to-timestamp"><i class="fas fa-link"></i></a>
</h4>
<div class="sourceCode" id="cb901"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb901-1"><a href="pandas-1.html#cb901-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>( pd.to_datetime(<span class="st">'2011-01-03'</span>), <span class="st">'</span><span class="ch">\n</span><span class="st">'</span>,</span>
<span id="cb901-2"><a href="pandas-1.html#cb901-2" aria-hidden="true" tabindex="-1"></a>       pd.to_datetime(date(<span class="dv">2011</span>,<span class="dv">1</span>,<span class="dv">3</span>)), <span class="st">'</span><span class="ch">\n</span><span class="st">'</span>,</span>
<span id="cb901-3"><a href="pandas-1.html#cb901-3" aria-hidden="true" tabindex="-1"></a>       pd.to_datetime(datetime(<span class="dv">2011</span>,<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">30</span>)), <span class="st">'</span><span class="ch">\n</span><span class="st">'</span>,</span>
<span id="cb901-4"><a href="pandas-1.html#cb901-4" aria-hidden="true" tabindex="-1"></a>       <span class="st">'</span><span class="ch">\n</span><span class="st">Element Type: '</span>, <span class="bu">type</span>(pd.to_datetime(datetime(<span class="dv">2011</span>,<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">30</span>))))</span></code></pre></div>
<pre><code>#:&gt; 2011-01-03 00:00:00 
#:&gt;  2011-01-03 00:00:00 
#:&gt;  2011-01-03 05:30:00 
#:&gt;  
#:&gt; Element Type:  &lt;class 'pandas._libs.tslibs.timestamps.Timestamp'&gt;</code></pre>
</div>
</div>
<div id="generate-timestamp-sequence" class="section level3" number="13.3.2">
<h3>
<span class="header-section-number">13.3.2</span> Generate Timestamp Sequence<a class="anchor" aria-label="anchor" href="#generate-timestamp-sequence"><i class="fas fa-link"></i></a>
</h3>
<p>The function <code>date_range()</code> return <strong><code>DateTimeIndex</code></strong> object. Use <code>Series()</code> to convert into Series if desired.</p>
<div id="hourly" class="section level4" number="13.3.2.1">
<h4>
<span class="header-section-number">13.3.2.1</span> Hourly<a class="anchor" aria-label="anchor" href="#hourly"><i class="fas fa-link"></i></a>
</h4>
<p>If start time not specified, default to 00:00:00.<br>
If start time specified, it will be honored on all subsequent Timestamp elements.<br>
Specify <strong>start</strong> and <strong>end</strong>, sequence will automatically distribute Timestamp according to <strong>frequency</strong>.</p>
<div class="sourceCode" id="cb903"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb903-1"><a href="pandas-1.html#cb903-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(</span>
<span id="cb903-2"><a href="pandas-1.html#cb903-2" aria-hidden="true" tabindex="-1"></a>  pd.date_range(<span class="st">'2018-01-01'</span>, periods<span class="op">=</span><span class="dv">3</span>, freq<span class="op">=</span><span class="st">'H'</span>),</span>
<span id="cb903-3"><a href="pandas-1.html#cb903-3" aria-hidden="true" tabindex="-1"></a>  pd.date_range(datetime(<span class="dv">2018</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">12</span>,<span class="dv">30</span>), periods<span class="op">=</span><span class="dv">3</span>, freq<span class="op">=</span><span class="st">'H'</span>),</span>
<span id="cb903-4"><a href="pandas-1.html#cb903-4" aria-hidden="true" tabindex="-1"></a>  pd.date_range(start<span class="op">=</span><span class="st">'2018-01-03-1230'</span>, end<span class="op">=</span><span class="st">'2018-01-03-18:30'</span>, freq<span class="op">=</span><span class="st">'H'</span>))</span></code></pre></div>
<pre><code>#:&gt; DatetimeIndex(['2018-01-01 00:00:00', '2018-01-01 01:00:00', '2018-01-01 02:00:00'], dtype='datetime64[ns]', freq='H') DatetimeIndex(['2018-01-01 12:30:00', '2018-01-01 13:30:00', '2018-01-01 14:30:00'], dtype='datetime64[ns]', freq='H') DatetimeIndex(['2018-01-03 12:30:00', '2018-01-03 13:30:00', '2018-01-03 14:30:00',
#:&gt;                '2018-01-03 15:30:00', '2018-01-03 16:30:00', '2018-01-03 17:30:00',
#:&gt;                '2018-01-03 18:30:00'],
#:&gt;               dtype='datetime64[ns]', freq='H')</code></pre>
</div>
<div id="daily" class="section level4" number="13.3.2.2">
<h4>
<span class="header-section-number">13.3.2.2</span> Daily<a class="anchor" aria-label="anchor" href="#daily"><i class="fas fa-link"></i></a>
</h4>
<p>When the <strong>frequency is Day and time is not specified</strong>, output is date distributed.<br>
When time is specified, output will honor the time.</p>
<div class="sourceCode" id="cb905"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb905-1"><a href="pandas-1.html#cb905-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(</span>
<span id="cb905-2"><a href="pandas-1.html#cb905-2" aria-hidden="true" tabindex="-1"></a>  pd.date_range(date(<span class="dv">2018</span>,<span class="dv">1</span>,<span class="dv">2</span>), periods<span class="op">=</span><span class="dv">3</span>, freq<span class="op">=</span><span class="st">'D'</span>),</span>
<span id="cb905-3"><a href="pandas-1.html#cb905-3" aria-hidden="true" tabindex="-1"></a>  pd.date_range(<span class="st">'2018-01-01-1230'</span>, periods<span class="op">=</span><span class="dv">4</span>, freq<span class="op">=</span><span class="st">'D'</span>))</span></code></pre></div>
<pre><code>#:&gt; DatetimeIndex(['2018-01-02', '2018-01-03', '2018-01-04'], dtype='datetime64[ns]', freq='D') DatetimeIndex(['2018-01-01 12:30:00', '2018-01-02 12:30:00', '2018-01-03 12:30:00',
#:&gt;                '2018-01-04 12:30:00'],
#:&gt;               dtype='datetime64[ns]', freq='D')</code></pre>
</div>
<div id="first-day-of-month" class="section level4" number="13.3.2.3">
<h4>
<span class="header-section-number">13.3.2.3</span> First Day Of Month<a class="anchor" aria-label="anchor" href="#first-day-of-month"><i class="fas fa-link"></i></a>
</h4>
<p>Use <code>freq=MS</code>, M stands for montly, S stand for Start. If the <strong>day</strong> specified, the sequence start from first day of following month.</p>
<div class="sourceCode" id="cb907"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb907-1"><a href="pandas-1.html#cb907-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(</span>
<span id="cb907-2"><a href="pandas-1.html#cb907-2" aria-hidden="true" tabindex="-1"></a>  pd.date_range(<span class="st">'2018-01'</span>, periods<span class="op">=</span><span class="dv">4</span>, freq<span class="op">=</span><span class="st">'MS'</span>),</span>
<span id="cb907-3"><a href="pandas-1.html#cb907-3" aria-hidden="true" tabindex="-1"></a>  pd.date_range(<span class="st">'2018-01-09'</span>, periods<span class="op">=</span><span class="dv">4</span>, freq<span class="op">=</span><span class="st">'MS'</span>),</span>
<span id="cb907-4"><a href="pandas-1.html#cb907-4" aria-hidden="true" tabindex="-1"></a>  pd.date_range(<span class="st">'2018-01-09 12:30:00'</span>, periods<span class="op">=</span><span class="dv">4</span>, freq<span class="op">=</span><span class="st">'MS'</span>) )</span></code></pre></div>
<pre><code>#:&gt; DatetimeIndex(['2018-01-01', '2018-02-01', '2018-03-01', '2018-04-01'], dtype='datetime64[ns]', freq='MS') DatetimeIndex(['2018-02-01', '2018-03-01', '2018-04-01', '2018-05-01'], dtype='datetime64[ns]', freq='MS') DatetimeIndex(['2018-02-01 12:30:00', '2018-03-01 12:30:00', '2018-04-01 12:30:00',
#:&gt;                '2018-05-01 12:30:00'],
#:&gt;               dtype='datetime64[ns]', freq='MS')</code></pre>
</div>
<div id="last-day-of-month" class="section level4" number="13.3.2.4">
<h4>
<span class="header-section-number">13.3.2.4</span> Last Day of Month<a class="anchor" aria-label="anchor" href="#last-day-of-month"><i class="fas fa-link"></i></a>
</h4>
<p>Sequence always starts from the end of the specified month.</p>
<div class="sourceCode" id="cb909"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb909-1"><a href="pandas-1.html#cb909-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(</span>
<span id="cb909-2"><a href="pandas-1.html#cb909-2" aria-hidden="true" tabindex="-1"></a>  pd.date_range(<span class="st">'2018-01'</span>, periods<span class="op">=</span><span class="dv">4</span>, freq<span class="op">=</span><span class="st">'M'</span>),</span>
<span id="cb909-3"><a href="pandas-1.html#cb909-3" aria-hidden="true" tabindex="-1"></a>  pd.date_range(<span class="st">'2018-01-09'</span>, periods<span class="op">=</span><span class="dv">4</span>, freq<span class="op">=</span><span class="st">'M'</span>),</span>
<span id="cb909-4"><a href="pandas-1.html#cb909-4" aria-hidden="true" tabindex="-1"></a>  pd.date_range(<span class="st">'2018-01-09 12:30:00'</span>, periods<span class="op">=</span><span class="dv">4</span>, freq<span class="op">=</span><span class="st">'M'</span>))</span></code></pre></div>
<pre><code>#:&gt; DatetimeIndex(['2018-01-31', '2018-02-28', '2018-03-31', '2018-04-30'], dtype='datetime64[ns]', freq='M') DatetimeIndex(['2018-01-31', '2018-02-28', '2018-03-31', '2018-04-30'], dtype='datetime64[ns]', freq='M') DatetimeIndex(['2018-01-31 12:30:00', '2018-02-28 12:30:00', '2018-03-31 12:30:00',
#:&gt;                '2018-04-30 12:30:00'],
#:&gt;               dtype='datetime64[ns]', freq='M')</code></pre>
</div>
</div>
<div id="frequency-table-crosstab" class="section level3" number="13.3.3">
<h3>
<span class="header-section-number">13.3.3</span> Frequency Table (crosstab)<a class="anchor" aria-label="anchor" href="#frequency-table-crosstab"><i class="fas fa-link"></i></a>
</h3>
<p>crosstab returns <strong>Dataframe</strong> Object</p>
<pre><code>crosstab( index = &lt;SeriesObj&gt;, columns = &lt;new_colName&gt; )                # one dimension table
crosstab( index = &lt;SeriesObj&gt;, columns = &lt;SeriesObj&gt; )                  # two dimension table
crosstab( index = &lt;SeriesObj&gt;, columns = [&lt;SeriesObj1&gt;, &lt;SeriesObj2&gt;] ) # multi dimension table   
crosstab( index = &lt;SeriesObj&gt;, columns = &lt;SeriesObj&gt;, margines=True )   # add column and row margins</code></pre>
<div id="sample-data-2" class="section level4" number="13.3.3.1">
<h4>
<span class="header-section-number">13.3.3.1</span> Sample Data<a class="anchor" aria-label="anchor" href="#sample-data-2"><i class="fas fa-link"></i></a>
</h4>
<div class="sourceCode" id="cb912"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb912-1"><a href="pandas-1.html#cb912-1" aria-hidden="true" tabindex="-1"></a>n <span class="op">=</span> <span class="dv">200</span></span>
<span id="cb912-2"><a href="pandas-1.html#cb912-2" aria-hidden="true" tabindex="-1"></a>comp <span class="op">=</span> [<span class="st">'C'</span> <span class="op">+</span> i <span class="cf">for</span> i <span class="kw">in</span> np.random.randint( <span class="dv">1</span>,<span class="dv">4</span>, size  <span class="op">=</span> n).astype(<span class="bu">str</span>)] <span class="co"># 3x Company</span></span>
<span id="cb912-3"><a href="pandas-1.html#cb912-3" aria-hidden="true" tabindex="-1"></a>dept <span class="op">=</span> [<span class="st">'D'</span> <span class="op">+</span> i <span class="cf">for</span> i <span class="kw">in</span> np.random.randint( <span class="dv">1</span>,<span class="dv">6</span>, size  <span class="op">=</span> n).astype(<span class="bu">str</span>)] <span class="co"># 5x Department</span></span>
<span id="cb912-4"><a href="pandas-1.html#cb912-4" aria-hidden="true" tabindex="-1"></a>grp <span class="op">=</span>  [<span class="st">'G'</span> <span class="op">+</span> i <span class="cf">for</span> i <span class="kw">in</span> np.random.randint( <span class="dv">1</span>,<span class="dv">3</span>, size  <span class="op">=</span> n).astype(<span class="bu">str</span>)] <span class="co"># 2x Groups</span></span>
<span id="cb912-5"><a href="pandas-1.html#cb912-5" aria-hidden="true" tabindex="-1"></a>value1 <span class="op">=</span> np.random.normal( loc<span class="op">=</span><span class="dv">50</span> , scale<span class="op">=</span><span class="dv">5</span> , size <span class="op">=</span> n)</span>
<span id="cb912-6"><a href="pandas-1.html#cb912-6" aria-hidden="true" tabindex="-1"></a>value2 <span class="op">=</span> np.random.normal( loc<span class="op">=</span><span class="dv">20</span> , scale<span class="op">=</span><span class="dv">3</span> , size <span class="op">=</span> n)</span>
<span id="cb912-7"><a href="pandas-1.html#cb912-7" aria-hidden="true" tabindex="-1"></a>value3 <span class="op">=</span> np.random.normal( loc<span class="op">=</span><span class="dv">5</span> , scale<span class="op">=</span><span class="dv">30</span> , size <span class="op">=</span> n)</span>
<span id="cb912-8"><a href="pandas-1.html#cb912-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb912-9"><a href="pandas-1.html#cb912-9" aria-hidden="true" tabindex="-1"></a>mydf <span class="op">=</span> pd.DataFrame({</span>
<span id="cb912-10"><a href="pandas-1.html#cb912-10" aria-hidden="true" tabindex="-1"></a>    <span class="st">'comp'</span>:comp, </span>
<span id="cb912-11"><a href="pandas-1.html#cb912-11" aria-hidden="true" tabindex="-1"></a>    <span class="st">'dept'</span>:dept, </span>
<span id="cb912-12"><a href="pandas-1.html#cb912-12" aria-hidden="true" tabindex="-1"></a>    <span class="st">'grp'</span>: grp,</span>
<span id="cb912-13"><a href="pandas-1.html#cb912-13" aria-hidden="true" tabindex="-1"></a>    <span class="st">'value1'</span>:value1, </span>
<span id="cb912-14"><a href="pandas-1.html#cb912-14" aria-hidden="true" tabindex="-1"></a>    <span class="st">'value2'</span>:value2,</span>
<span id="cb912-15"><a href="pandas-1.html#cb912-15" aria-hidden="true" tabindex="-1"></a>    <span class="st">'value3'</span>:value3 })</span>
<span id="cb912-16"><a href="pandas-1.html#cb912-16" aria-hidden="true" tabindex="-1"></a>mydf.head()</span></code></pre></div>
<pre><code>#:&gt;   comp dept grp     value1     value2     value3
#:&gt; 0   C1   D1  G1  48.324876  19.287922  -6.731846
#:&gt; 1   C2   D1  G2  52.865352  17.206647 -16.307964
#:&gt; 2   C1   D2  G1  47.296137  19.837662 -10.206077
#:&gt; 3   C2   D1  G2  56.783665  16.822438  56.996465
#:&gt; 4   C1   D3  G1  50.694721  15.555739  22.513402</code></pre>
</div>
<div id="one-dimensiontable" class="section level4" number="13.3.3.2">
<h4>
<span class="header-section-number">13.3.3.2</span> One DimensionTable<a class="anchor" aria-label="anchor" href="#one-dimensiontable"><i class="fas fa-link"></i></a>
</h4>
<div class="sourceCode" id="cb914"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb914-1"><a href="pandas-1.html#cb914-1" aria-hidden="true" tabindex="-1"></a><span class="co">## Frequency Countn For Company, Department</span></span>
<span id="cb914-2"><a href="pandas-1.html#cb914-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(</span>
<span id="cb914-3"><a href="pandas-1.html#cb914-3" aria-hidden="true" tabindex="-1"></a>  pd.crosstab(index<span class="op">=</span>mydf.comp, columns<span class="op">=</span><span class="st">'counter'</span>),<span class="st">'</span><span class="ch">\n\n</span><span class="st">'</span>,</span>
<span id="cb914-4"><a href="pandas-1.html#cb914-4" aria-hidden="true" tabindex="-1"></a>  pd.crosstab(index<span class="op">=</span>mydf.dept, columns<span class="op">=</span><span class="st">'counter'</span>))</span></code></pre></div>
<pre><code>#:&gt; col_0  counter
#:&gt; comp          
#:&gt; C1          62
#:&gt; C2          63
#:&gt; C3          75 
#:&gt; 
#:&gt;  col_0  counter
#:&gt; dept          
#:&gt; D1          43
#:&gt; D2          49
#:&gt; D3          37
#:&gt; D4          34
#:&gt; D5          37</code></pre>
</div>
<div id="two-dimension-table" class="section level4" number="13.3.3.3">
<h4>
<span class="header-section-number">13.3.3.3</span> Two Dimension Table<a class="anchor" aria-label="anchor" href="#two-dimension-table"><i class="fas fa-link"></i></a>
</h4>
<div class="sourceCode" id="cb916"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb916-1"><a href="pandas-1.html#cb916-1" aria-hidden="true" tabindex="-1"></a>pd.crosstab(index<span class="op">=</span>mydf.comp, columns<span class="op">=</span>mydf.dept)</span></code></pre></div>
<pre><code>#:&gt; dept  D1  D2  D3  D4  D5
#:&gt; comp                    
#:&gt; C1    20  15   5  10  12
#:&gt; C2    12  15  14   9  13
#:&gt; C3    11  19  18  15  12</code></pre>
</div>
<div id="higher-dimension-table" class="section level4" number="13.3.3.4">
<h4>
<span class="header-section-number">13.3.3.4</span> Higher Dimension Table<a class="anchor" aria-label="anchor" href="#higher-dimension-table"><i class="fas fa-link"></i></a>
</h4>
<p>Crosstab header is <strong>multi-levels index</strong> when more than one column specified.</p>
<div class="sourceCode" id="cb918"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb918-1"><a href="pandas-1.html#cb918-1" aria-hidden="true" tabindex="-1"></a>tb <span class="op">=</span> pd.crosstab(index<span class="op">=</span>mydf.comp, columns<span class="op">=</span>[mydf.dept, mydf.grp])</span>
<span id="cb918-2"><a href="pandas-1.html#cb918-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>( tb, <span class="st">'</span><span class="ch">\n\n</span><span class="st">'</span>,</span>
<span id="cb918-3"><a href="pandas-1.html#cb918-3" aria-hidden="true" tabindex="-1"></a>       tb.columns )</span></code></pre></div>
<pre><code>#:&gt; dept  D1      D2      D3     D4    D5   
#:&gt; grp   G1  G2  G1  G2  G1  G2 G1 G2 G1 G2
#:&gt; comp                                    
#:&gt; C1    13   7   5  10   3   2  6  4  8  4
#:&gt; C2     2  10   6   9  10   4  6  3  8  5
#:&gt; C3     5   6  11   8   8  10  7  8  9  3 
#:&gt; 
#:&gt;  MultiIndex([('D1', 'G1'),
#:&gt;             ('D1', 'G2'),
#:&gt;             ('D2', 'G1'),
#:&gt;             ('D2', 'G2'),
#:&gt;             ('D3', 'G1'),
#:&gt;             ('D3', 'G2'),
#:&gt;             ('D4', 'G1'),
#:&gt;             ('D4', 'G2'),
#:&gt;             ('D5', 'G1'),
#:&gt;             ('D5', 'G2')],
#:&gt;            names=['dept', 'grp'])</code></pre>
<p>Select <strong>sub-dataframe</strong> using multi-level referencing.</p>
<div class="sourceCode" id="cb920"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb920-1"><a href="pandas-1.html#cb920-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>( <span class="st">'Under D2:</span><span class="ch">\n</span><span class="st">'</span>, tb[<span class="st">'D2'</span>], <span class="st">'</span><span class="ch">\n\n</span><span class="st">'</span>,</span>
<span id="cb920-2"><a href="pandas-1.html#cb920-2" aria-hidden="true" tabindex="-1"></a>       <span class="st">'Under D2-G2:</span><span class="ch">\n</span><span class="st">'</span>,tb[<span class="st">'D2'</span>,<span class="st">'G1'</span>])</span></code></pre></div>
<pre><code>#:&gt; Under D2:
#:&gt;  grp   G1  G2
#:&gt; comp        
#:&gt; C1     5  10
#:&gt; C2     6   9
#:&gt; C3    11   8 
#:&gt; 
#:&gt;  Under D2-G2:
#:&gt;  comp
#:&gt; C1     5
#:&gt; C2     6
#:&gt; C3    11
#:&gt; Name: (D2, G1), dtype: int64</code></pre>
</div>
<div id="getting-margin" class="section level4" number="13.3.3.5">
<h4>
<span class="header-section-number">13.3.3.5</span> Getting Margin<a class="anchor" aria-label="anchor" href="#getting-margin"><i class="fas fa-link"></i></a>
</h4>
<p>Extend the crosstab with ‘margin=True’ to have sum of rows/columns, presented in <strong>new column/row named ‘All’</strong>.</p>
<div class="sourceCode" id="cb922"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb922-1"><a href="pandas-1.html#cb922-1" aria-hidden="true" tabindex="-1"></a>tb <span class="op">=</span> pd.crosstab(index<span class="op">=</span>mydf.dept, columns<span class="op">=</span>mydf.grp, margins<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb922-2"><a href="pandas-1.html#cb922-2" aria-hidden="true" tabindex="-1"></a>tb</span></code></pre></div>
<pre><code>#:&gt; grp    G1  G2  All
#:&gt; dept              
#:&gt; D1     20  23   43
#:&gt; D2     22  27   49
#:&gt; D3     21  16   37
#:&gt; D4     19  15   34
#:&gt; D5     25  12   37
#:&gt; All   107  93  200</code></pre>
<div class="sourceCode" id="cb924"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb924-1"><a href="pandas-1.html#cb924-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(</span>
<span id="cb924-2"><a href="pandas-1.html#cb924-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">'Row Sums:     </span><span class="ch">\n</span><span class="st">'</span>, tb.loc[:,<span class="st">'All'</span>],</span>
<span id="cb924-3"><a href="pandas-1.html#cb924-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">'</span><span class="ch">\n\n</span><span class="st">Column Sums:</span><span class="ch">\n</span><span class="st">'</span>, tb.loc[<span class="st">'All'</span>])</span></code></pre></div>
<pre><code>#:&gt; Row Sums:     
#:&gt;  dept
#:&gt; D1      43
#:&gt; D2      49
#:&gt; D3      37
#:&gt; D4      34
#:&gt; D5      37
#:&gt; All    200
#:&gt; Name: All, dtype: int64 
#:&gt; 
#:&gt; Column Sums:
#:&gt;  grp
#:&gt; G1     107
#:&gt; G2      93
#:&gt; All    200
#:&gt; Name: All, dtype: int64</code></pre>
</div>
<div id="getting-proportion" class="section level4" number="13.3.3.6">
<h4>
<span class="header-section-number">13.3.3.6</span> Getting Proportion<a class="anchor" aria-label="anchor" href="#getting-proportion"><i class="fas fa-link"></i></a>
</h4>
<p>Use matrix operation divide each row with its respective column sum.</p>
<div class="sourceCode" id="cb926"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb926-1"><a href="pandas-1.html#cb926-1" aria-hidden="true" tabindex="-1"></a>tb<span class="op">/</span>tb.loc[<span class="st">'All'</span>]</span></code></pre></div>
<pre><code>#:&gt; grp         G1        G2    All
#:&gt; dept                           
#:&gt; D1    0.186916  0.247312  0.215
#:&gt; D2    0.205607  0.290323  0.245
#:&gt; D3    0.196262  0.172043  0.185
#:&gt; D4    0.177570  0.161290  0.170
#:&gt; D5    0.233645  0.129032  0.185
#:&gt; All   1.000000  1.000000  1.000</code></pre>
</div>
</div>
<div id="concatination" class="section level3" number="13.3.4">
<h3>
<span class="header-section-number">13.3.4</span> Concatination<a class="anchor" aria-label="anchor" href="#concatination"><i class="fas fa-link"></i></a>
</h3>
<div id="sample-data-3" class="section level4" number="13.3.4.1">
<h4>
<span class="header-section-number">13.3.4.1</span> Sample Data<a class="anchor" aria-label="anchor" href="#sample-data-3"><i class="fas fa-link"></i></a>
</h4>
<div class="sourceCode" id="cb928"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb928-1"><a href="pandas-1.html#cb928-1" aria-hidden="true" tabindex="-1"></a>s1 <span class="op">=</span> pd.Series([<span class="st">'A1'</span>,<span class="st">'A2'</span>,<span class="st">'A3'</span>,<span class="st">'A4'</span>])</span>
<span id="cb928-2"><a href="pandas-1.html#cb928-2" aria-hidden="true" tabindex="-1"></a>s2 <span class="op">=</span> pd.Series([<span class="st">'B1'</span>,<span class="st">'B2'</span>,<span class="st">'B3'</span>,<span class="st">'B4'</span>], name<span class="op">=</span><span class="st">'B'</span>)</span>
<span id="cb928-3"><a href="pandas-1.html#cb928-3" aria-hidden="true" tabindex="-1"></a>s3 <span class="op">=</span> pd.Series([<span class="st">'C1'</span>,<span class="st">'C2'</span>,<span class="st">'C3'</span>,<span class="st">'C4'</span>], name<span class="op">=</span><span class="st">'C'</span>)</span></code></pre></div>
</div>
<div id="column-wise" class="section level4" number="13.3.4.2">
<h4>
<span class="header-section-number">13.3.4.2</span> Column-Wise<a class="anchor" aria-label="anchor" href="#column-wise"><i class="fas fa-link"></i></a>
</h4>
<p><strong>Combinining Multiple Series Into A New DataFrame</strong><br>
- Added series will have 0,1,2,… column names (if Series are not named originally)<br>
- None series will be ignored<br>
- <code>axis=1</code> means column-wise</p>
<div class="sourceCode" id="cb929"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb929-1"><a href="pandas-1.html#cb929-1" aria-hidden="true" tabindex="-1"></a>pd.concat([s1,s2,s3, <span class="va">None</span>], axis<span class="op">=</span><span class="dv">1</span>)</span></code></pre></div>
<pre><code>#:&gt;     0   B   C
#:&gt; 0  A1  B1  C1
#:&gt; 1  A2  B2  C2
#:&gt; 2  A3  B3  C3
#:&gt; 3  A4  B4  C4</code></pre>
<p><strong>Add Multiple Series Into An Existing DataFrame</strong><br>
- No change to original data frame column name<br>
- Added columns from series will have 0,1,2,3,.. column name</p>
<div class="sourceCode" id="cb931"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb931-1"><a href="pandas-1.html#cb931-1" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.DataFrame({ <span class="st">'A'</span>: s1, <span class="st">'B'</span>: s2})</span>
<span id="cb931-2"><a href="pandas-1.html#cb931-2" aria-hidden="true" tabindex="-1"></a>pd.concat([df,s3,s1, <span class="va">None</span>],axis<span class="op">=</span><span class="dv">1</span>)</span></code></pre></div>
<pre><code>#:&gt;     A   B   C   0
#:&gt; 0  A1  B1  C1  A1
#:&gt; 1  A2  B2  C2  A2
#:&gt; 2  A3  B3  C3  A3
#:&gt; 3  A4  B4  C4  A4</code></pre>
</div>
<div id="row-wise" class="section level4" number="13.3.4.3">
<h4>
<span class="header-section-number">13.3.4.3</span> Row-Wise<a class="anchor" aria-label="anchor" href="#row-wise"><i class="fas fa-link"></i></a>
</h4>
</div>
</div>
<div id="external-data" class="section level3" number="13.3.5">
<h3>
<span class="header-section-number">13.3.5</span> External Data<a class="anchor" aria-label="anchor" href="#external-data"><i class="fas fa-link"></i></a>
</h3>
<div id="html_table-parser" class="section level4" number="13.3.5.1">
<h4>
<span class="header-section-number">13.3.5.1</span> <code>html_table</code> Parser<a class="anchor" aria-label="anchor" href="#html_table-parser"><i class="fas fa-link"></i></a>
</h4>
<p>This method require <strong>html5lib</strong> library.<br>
- Read the web page, create a list: which contain one or more dataframes that maps to each html table found<br>
- Scrap all detectable html tables<br>
- Auto detect column header<br>
- Auto create index using number starting from 0</p>
<pre><code>read_html(url)  # return list of dataframe(s) that maps to web table(s) structure</code></pre>
<div class="sourceCode" id="cb934"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb934-1"><a href="pandas-1.html#cb934-1" aria-hidden="true" tabindex="-1"></a>df_list <span class="op">=</span> pd.read_html(<span class="st">'https://www.malaysiastock.biz/Listed-Companies.aspx?type=S&amp;s1=18'</span>)  <span class="co">## read all tables</span></span>
<span id="cb934-2"><a href="pandas-1.html#cb934-2" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> df_list[<span class="dv">6</span>]  <span class="co">## get the specific table</span></span>
<span id="cb934-3"><a href="pandas-1.html#cb934-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb934-4"><a href="pandas-1.html#cb934-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span> (<span class="st">'Total Table(s) Found : '</span>, <span class="bu">len</span>(df_list), <span class="st">'</span><span class="ch">\n</span><span class="st">'</span>,</span>
<span id="cb934-5"><a href="pandas-1.html#cb934-5" aria-hidden="true" tabindex="-1"></a>       <span class="st">'First Table Found:      '</span>,df)</span></code></pre></div>
<pre><code>#:&gt; Total Table(s) Found :  11 
#:&gt;  First Table Found:                0                                                  1
#:&gt; 0  Sector:  --- Filter by Sector ---  BOND ISLAMIC  CLOSED...</code></pre>
</div>
<div id="csv-writing" class="section level4" number="13.3.5.2">
<h4>
<span class="header-section-number">13.3.5.2</span> CSV Writing<a class="anchor" aria-label="anchor" href="#csv-writing"><i class="fas fa-link"></i></a>
</h4>
<p><strong>Syntax</strong></p>
<pre><code>DataFrame.to_csv(
  path_or_buf=None,   ## if not provided, result is returned as string
  sep=', ', 
  na_rep='', 
  float_format=None, 
  columns=None,       ## list of columns name to write, if not provided, all columns are written
  header=True,        ## write out column names
  index=True,         ## write row label
  index_label=None, 
  mode='w', 
  encoding=None,      ## if not provided, default to 'utf-8'
  quoting=None, quotechar='"', 
  line_terminator=None, 
  chunksize=None, 
  date_format=None, 
  doublequote=True, 
  escapechar=None, 
  decimal='.')
</code></pre>
<p>Example below shows column value containing different special character. Note that pandas handles these very well by default.</p>
<div class="sourceCode" id="cb937"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb937-1"><a href="pandas-1.html#cb937-1" aria-hidden="true" tabindex="-1"></a>mydf <span class="op">=</span> pd.DataFrame({<span class="st">'Id'</span>:[<span class="dv">10</span>,<span class="dv">20</span>,<span class="dv">30</span>,<span class="dv">40</span>], </span>
<span id="cb937-2"><a href="pandas-1.html#cb937-2" aria-hidden="true" tabindex="-1"></a>                     <span class="st">'Name'</span>:  [<span class="st">'Aaa'</span>,<span class="st">'Bbb'</span>,<span class="st">'Ccc'</span>,<span class="st">'Ddd'</span>],</span>
<span id="cb937-3"><a href="pandas-1.html#cb937-3" aria-hidden="true" tabindex="-1"></a>                     <span class="st">'Funny'</span>: [<span class="st">"world's most \clever"</span>, </span>
<span id="cb937-4"><a href="pandas-1.html#cb937-4" aria-hidden="true" tabindex="-1"></a>                     <span class="st">"Bloody, damn, good"</span>, </span>
<span id="cb937-5"><a href="pandas-1.html#cb937-5" aria-hidden="true" tabindex="-1"></a>                     <span class="st">"many</span><span class="ch">\n</span><span class="st">many</span><span class="ch">\n</span><span class="st">line"</span>, </span>
<span id="cb937-6"><a href="pandas-1.html#cb937-6" aria-hidden="true" tabindex="-1"></a>                     <span class="st">'Quoting "is" tough'</span>]})</span>
<span id="cb937-7"><a href="pandas-1.html#cb937-7" aria-hidden="true" tabindex="-1"></a>mydf.set_index(<span class="st">'Id'</span>, inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb937-8"><a href="pandas-1.html#cb937-8" aria-hidden="true" tabindex="-1"></a>mydf.to_csv(<span class="st">'data/csv_test.csv'</span>, index<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb937-9"><a href="pandas-1.html#cb937-9" aria-hidden="true" tabindex="-1"></a>mydf</span></code></pre></div>
<pre><code>#:&gt;    Name                 Funny
#:&gt; Id                           
#:&gt; 10  Aaa  world's most \clever
#:&gt; 20  Bbb    Bloody, damn, good
#:&gt; 30  Ccc      many\nmany\nline
#:&gt; 40  Ddd    Quoting "is" tough</code></pre>
<p><strong>This is the file saved</strong></p>
<div class="sourceCode" id="cb939"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># system('more data\\csv_test.csv')</span></code></pre></div>
<p><strong>All content retained when reading back by Pandas</strong></p>
<div class="sourceCode" id="cb940"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb940-1"><a href="pandas-1.html#cb940-1" aria-hidden="true" tabindex="-1"></a>pd.read_csv(<span class="st">'data/csv_test.csv'</span>, index_col<span class="op">=</span><span class="st">'Id'</span>)</span></code></pre></div>
<pre><code>#:&gt;    Name                 Funny
#:&gt; Id                           
#:&gt; 10  Aaa  world's most \clever
#:&gt; 20  Bbb    Bloody, damn, good
#:&gt; 30  Ccc      many\nmany\nline
#:&gt; 40  Ddd    Quoting "is" tough</code></pre>
</div>
<div id="csv-reading" class="section level4" number="13.3.5.3">
<h4>
<span class="header-section-number">13.3.5.3</span> CSV Reading<a class="anchor" aria-label="anchor" href="#csv-reading"><i class="fas fa-link"></i></a>
</h4>
<p><strong>Syntax</strong></p>
<pre><code>pandas.read_csv( 
    'url or filePath',                     # path to file or url 
    encoding    = 'utf_8',                 # optional: default is 'utf_8'
    index_col   = ['colName1', ...],       # optional: specify one or more index column
    parse_dates = ['dateCol1', ...],       # optional: specify multiple string column to convert to date
    na_values   = ['.','na','NA','N/A'],   # optional: values that is considered NA
    names       = ['newColName1', ... ],   # optional: overwrite column names
    thousands   = '.',                     # optional: thousand seperator symbol
    nrows       = n,                       # optional: load only first n rows
    skiprows    = 0,                       # optional: don't load first n rows
    parse_dates = False,                   # List of date column names
    infer_datetime_format = False          # automatically parse dates
)</code></pre>
<p>Refer to full codec <a href="https://docs.python.org/3/library/codecs.html#standard-encodings">Python Codec</a>.</p>
<p><strong>Default Import</strong></p>
<ul>
<li>index is sequence of integer 0,1,2…<br>
</li>
<li>only two data types detection; <strong>number (float64/int64) and string (object)</strong><br>
</li>
<li>
<strong>date is not parsed</strong>, hence stayed as string</li>
</ul>
<div class="sourceCode" id="cb943"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb943-1"><a href="pandas-1.html#cb943-1" aria-hidden="true" tabindex="-1"></a>goo <span class="op">=</span> pd.read_csv(<span class="st">'data/goog.csv'</span>, encoding<span class="op">=</span><span class="st">'utf_8'</span>)</span>
<span id="cb943-2"><a href="pandas-1.html#cb943-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(goo.head(), <span class="st">'</span><span class="ch">\n\n</span><span class="st">'</span>,</span>
<span id="cb943-3"><a href="pandas-1.html#cb943-3" aria-hidden="true" tabindex="-1"></a>      goo.info())</span></code></pre></div>
<pre><code>#:&gt; &lt;class 'pandas.core.frame.DataFrame'&gt;
#:&gt; RangeIndex: 61 entries, 0 to 60
#:&gt; Data columns (total 6 columns):
#:&gt;  #   Column  Non-Null Count  Dtype  
#:&gt; ---  ------  --------------  -----  
#:&gt;  0   Date    61 non-null     object 
#:&gt;  1   Open    61 non-null     float64
#:&gt;  2   High    61 non-null     float64
#:&gt;  3   Low     61 non-null     float64
#:&gt;  4   Close   61 non-null     float64
#:&gt;  5   Volume  61 non-null     int64  
#:&gt; dtypes: float64(4), int64(1), object(1)
#:&gt; memory usage: 3.0+ KB
#:&gt;          Date        Open        High         Low       Close   Volume
#:&gt; 0  12/19/2016  790.219971  797.659973  786.270020  794.200012  1225900
#:&gt; 1  12/20/2016  796.760010  798.650024  793.270020  796.419983   925100
#:&gt; 2  12/21/2016  795.840027  796.676025  787.099976  794.559998  1208700
#:&gt; 3  12/22/2016  792.359985  793.320007  788.580017  791.260010   969100
#:&gt; 4  12/23/2016  790.900024  792.739990  787.280029  789.909973   623400 
#:&gt; 
#:&gt;  None</code></pre>
<p><strong>Specify Data Types</strong></p>
<ul>
<li>To customize the data type, use <strong><code>dtype</code></strong> parameter with a <strong>dict</strong> of definition.</li>
</ul>
<div class="sourceCode" id="cb945"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb945-1"><a href="pandas-1.html#cb945-1" aria-hidden="true" tabindex="-1"></a>d_types <span class="op">=</span> {<span class="st">'Volume'</span>: <span class="bu">str</span>}</span>
<span id="cb945-2"><a href="pandas-1.html#cb945-2" aria-hidden="true" tabindex="-1"></a>pd.read_csv(<span class="st">'data/goog.csv'</span>, dtype<span class="op">=</span>d_types).info()</span></code></pre></div>
<pre><code>#:&gt; &lt;class 'pandas.core.frame.DataFrame'&gt;
#:&gt; RangeIndex: 61 entries, 0 to 60
#:&gt; Data columns (total 6 columns):
#:&gt;  #   Column  Non-Null Count  Dtype  
#:&gt; ---  ------  --------------  -----  
#:&gt;  0   Date    61 non-null     object 
#:&gt;  1   Open    61 non-null     float64
#:&gt;  2   High    61 non-null     float64
#:&gt;  3   Low     61 non-null     float64
#:&gt;  4   Close   61 non-null     float64
#:&gt;  5   Volume  61 non-null     object 
#:&gt; dtypes: float64(4), object(2)
#:&gt; memory usage: 3.0+ KB</code></pre>
<p><strong>Parse Datetime</strong></p>
<p>You can specify multiple date-alike column for parsing</p>
<div class="sourceCode" id="cb947"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb947-1"><a href="pandas-1.html#cb947-1" aria-hidden="true" tabindex="-1"></a>pd.read_csv(<span class="st">'data/goog.csv'</span>, parse_dates<span class="op">=</span>[<span class="st">'Date'</span>]).info()</span></code></pre></div>
<pre><code>#:&gt; &lt;class 'pandas.core.frame.DataFrame'&gt;
#:&gt; RangeIndex: 61 entries, 0 to 60
#:&gt; Data columns (total 6 columns):
#:&gt;  #   Column  Non-Null Count  Dtype         
#:&gt; ---  ------  --------------  -----         
#:&gt;  0   Date    61 non-null     datetime64[ns]
#:&gt;  1   Open    61 non-null     float64       
#:&gt;  2   High    61 non-null     float64       
#:&gt;  3   Low     61 non-null     float64       
#:&gt;  4   Close   61 non-null     float64       
#:&gt;  5   Volume  61 non-null     int64         
#:&gt; dtypes: datetime64[ns](1), float64(4), int64(1)
#:&gt; memory usage: 3.0 KB</code></pre>
<p><strong>Parse Datetime, Then Set as Index</strong><br>
- Specify names of date column in <code>parse_dates=</code><br>
- When date is set as index, the type is <strong><code>DateTimeIndex</code></strong></p>
<div class="sourceCode" id="cb949"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb949-1"><a href="pandas-1.html#cb949-1" aria-hidden="true" tabindex="-1"></a>goo3 <span class="op">=</span> pd.read_csv(<span class="st">'data/goog.csv'</span>,index_col<span class="op">=</span><span class="st">'Date'</span>, parse_dates<span class="op">=</span>[<span class="st">'Date'</span>])</span>
<span id="cb949-2"><a href="pandas-1.html#cb949-2" aria-hidden="true" tabindex="-1"></a>goo3.info()</span></code></pre></div>
<pre><code>#:&gt; &lt;class 'pandas.core.frame.DataFrame'&gt;
#:&gt; DatetimeIndex: 61 entries, 2016-12-19 to 2017-03-17
#:&gt; Data columns (total 5 columns):
#:&gt;  #   Column  Non-Null Count  Dtype  
#:&gt; ---  ------  --------------  -----  
#:&gt;  0   Open    61 non-null     float64
#:&gt;  1   High    61 non-null     float64
#:&gt;  2   Low     61 non-null     float64
#:&gt;  3   Close   61 non-null     float64
#:&gt;  4   Volume  61 non-null     int64  
#:&gt; dtypes: float64(4), int64(1)
#:&gt; memory usage: 2.9 KB</code></pre>
</div>
</div>
<div id="inspection" class="section level3" number="13.3.6">
<h3>
<span class="header-section-number">13.3.6</span> Inspection<a class="anchor" aria-label="anchor" href="#inspection"><i class="fas fa-link"></i></a>
</h3>
<div id="structure-info" class="section level4" number="13.3.6.1">
<h4>
<span class="header-section-number">13.3.6.1</span> Structure <code>info</code><a class="anchor" aria-label="anchor" href="#structure-info"><i class="fas fa-link"></i></a>
</h4>
<p><strong>info()</strong> is a function that print information to screen. It doesn’t return any object</p>
<pre><code>dataframe.info()  # display columns and number of rows (that has no missing data)</code></pre>
<div class="sourceCode" id="cb952"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb952-1"><a href="pandas-1.html#cb952-1" aria-hidden="true" tabindex="-1"></a>goo.info()</span></code></pre></div>
<pre><code>#:&gt; &lt;class 'pandas.core.frame.DataFrame'&gt;
#:&gt; RangeIndex: 61 entries, 0 to 60
#:&gt; Data columns (total 6 columns):
#:&gt;  #   Column  Non-Null Count  Dtype  
#:&gt; ---  ------  --------------  -----  
#:&gt;  0   Date    61 non-null     object 
#:&gt;  1   Open    61 non-null     float64
#:&gt;  2   High    61 non-null     float64
#:&gt;  3   Low     61 non-null     float64
#:&gt;  4   Close   61 non-null     float64
#:&gt;  5   Volume  61 non-null     int64  
#:&gt; dtypes: float64(4), int64(1), object(1)
#:&gt; memory usage: 3.0+ KB</code></pre>
</div>
<div id="head" class="section level4" number="13.3.6.2">
<h4>
<span class="header-section-number">13.3.6.2</span> <code>head</code><a class="anchor" aria-label="anchor" href="#head"><i class="fas fa-link"></i></a>
</h4>
<div class="sourceCode" id="cb954"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb954-1"><a href="pandas-1.html#cb954-1" aria-hidden="true" tabindex="-1"></a>goo.head()</span></code></pre></div>
<pre><code>#:&gt;          Date        Open        High         Low       Close   Volume
#:&gt; 0  12/19/2016  790.219971  797.659973  786.270020  794.200012  1225900
#:&gt; 1  12/20/2016  796.760010  798.650024  793.270020  796.419983   925100
#:&gt; 2  12/21/2016  795.840027  796.676025  787.099976  794.559998  1208700
#:&gt; 3  12/22/2016  792.359985  793.320007  788.580017  791.260010   969100
#:&gt; 4  12/23/2016  790.900024  792.739990  787.280029  789.909973   623400</code></pre>
</div>
</div>
</div>
<div id="class-timestamp" class="section level2" number="13.4">
<h2>
<span class="header-section-number">13.4</span> class: Timestamp<a class="anchor" aria-label="anchor" href="#class-timestamp"><i class="fas fa-link"></i></a>
</h2>
<p>This is an enhanced version to datetime standard library.<br><a href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Timestamp.html#pandas.Timestamp" class="uri">https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Timestamp.html#pandas.Timestamp</a></p>
<div id="constructor-8" class="section level3" number="13.4.1">
<h3>
<span class="header-section-number">13.4.1</span> Constructor<a class="anchor" aria-label="anchor" href="#constructor-8"><i class="fas fa-link"></i></a>
</h3>
<div id="from-number" class="section level4" number="13.4.1.1">
<h4>
<span class="header-section-number">13.4.1.1</span> From Number<a class="anchor" aria-label="anchor" href="#from-number"><i class="fas fa-link"></i></a>
</h4>
<div class="sourceCode" id="cb956"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb956-1"><a href="pandas-1.html#cb956-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>( pd.Timestamp(year<span class="op">=</span><span class="dv">2017</span>, month<span class="op">=</span><span class="dv">1</span>, day<span class="op">=</span><span class="dv">1</span>),<span class="st">'</span><span class="ch">\n</span><span class="st">'</span>,  <span class="co">#date-like numbers</span></span>
<span id="cb956-2"><a href="pandas-1.html#cb956-2" aria-hidden="true" tabindex="-1"></a>       pd.Timestamp(<span class="dv">2017</span>,<span class="dv">1</span>,<span class="dv">1</span>), <span class="st">'</span><span class="ch">\n</span><span class="st">'</span>,                  <span class="co"># date-like numbers</span></span>
<span id="cb956-3"><a href="pandas-1.html#cb956-3" aria-hidden="true" tabindex="-1"></a>       pd.Timestamp(<span class="dv">2017</span>,<span class="dv">12</span>,<span class="dv">11</span>,<span class="dv">5</span>,<span class="dv">45</span>),<span class="st">'</span><span class="ch">\n</span><span class="st">'</span>,            <span class="co"># datetime-like numbers</span></span>
<span id="cb956-4"><a href="pandas-1.html#cb956-4" aria-hidden="true" tabindex="-1"></a>       pd.Timestamp(<span class="dv">2017</span>,<span class="dv">12</span>,<span class="dv">11</span>,<span class="dv">5</span>,<span class="dv">45</span>,<span class="dv">55</span>,<span class="dv">999</span>),<span class="st">'</span><span class="ch">\n</span><span class="st">'</span>,     <span class="co"># + microseconds</span></span>
<span id="cb956-5"><a href="pandas-1.html#cb956-5" aria-hidden="true" tabindex="-1"></a>       pd.Timestamp(<span class="dv">2017</span>,<span class="dv">12</span>,<span class="dv">11</span>,<span class="dv">5</span>,<span class="dv">45</span>,<span class="dv">55</span>,<span class="dv">999</span>,<span class="dv">8</span>),<span class="st">'</span><span class="ch">\n</span><span class="st">'</span>,   <span class="co"># + nanoseconds</span></span>
<span id="cb956-6"><a href="pandas-1.html#cb956-6" aria-hidden="true" tabindex="-1"></a>       <span class="bu">type</span>(pd.Timestamp(<span class="dv">2017</span>,<span class="dv">12</span>,<span class="dv">11</span>,<span class="dv">5</span>,<span class="dv">45</span>,<span class="dv">55</span>,<span class="dv">999</span>,<span class="dv">8</span>)),<span class="st">'</span><span class="ch">\n</span><span class="st">'</span>)</span></code></pre></div>
<pre><code>#:&gt; 2017-01-01 00:00:00 
#:&gt;  2017-01-01 00:00:00 
#:&gt;  2017-12-11 05:45:00 
#:&gt;  2017-12-11 05:45:55.000999 
#:&gt;  2017-12-11 05:45:55.000999008 
#:&gt;  &lt;class 'pandas._libs.tslibs.timestamps.Timestamp'&gt;</code></pre>
</div>
<div id="from-string" class="section level4" number="13.4.1.2">
<h4>
<span class="header-section-number">13.4.1.2</span> From String<a class="anchor" aria-label="anchor" href="#from-string"><i class="fas fa-link"></i></a>
</h4>
<p>Observe that pandas support many string input format</p>
<p><strong>Year Month Day</strong>, default has no timezone</p>
<div class="sourceCode" id="cb958"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb958-1"><a href="pandas-1.html#cb958-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>( pd.Timestamp(<span class="st">'2017-12-11'</span>),<span class="st">'</span><span class="ch">\n</span><span class="st">'</span>,   <span class="co"># date-like string: year-month-day</span></span>
<span id="cb958-2"><a href="pandas-1.html#cb958-2" aria-hidden="true" tabindex="-1"></a>       pd.Timestamp(<span class="st">'2017 12 11'</span>),<span class="st">'</span><span class="ch">\n</span><span class="st">'</span>,   <span class="co"># date-like string: year-month-day</span></span>
<span id="cb958-3"><a href="pandas-1.html#cb958-3" aria-hidden="true" tabindex="-1"></a>       pd.Timestamp(<span class="st">'2017 Dec 11'</span>),<span class="st">'</span><span class="ch">\n</span><span class="st">'</span>,  <span class="co"># date-like string: year-month-day</span></span>
<span id="cb958-4"><a href="pandas-1.html#cb958-4" aria-hidden="true" tabindex="-1"></a>       pd.Timestamp(<span class="st">'Dec 11, 2017'</span>))      <span class="co"># date-like string: year-month-day</span></span></code></pre></div>
<pre><code>#:&gt; 2017-12-11 00:00:00 
#:&gt;  2017-12-11 00:00:00 
#:&gt;  2017-12-11 00:00:00 
#:&gt;  2017-12-11 00:00:00</code></pre>
<p><strong>YMD Hour Minute Second Ms</strong></p>
<div class="sourceCode" id="cb960"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb960-1"><a href="pandas-1.html#cb960-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>( pd.Timestamp(<span class="st">'2017-12-11 0545'</span>),<span class="st">'</span><span class="ch">\n</span><span class="st">'</span>,     <span class="co">## hour minute</span></span>
<span id="cb960-2"><a href="pandas-1.html#cb960-2" aria-hidden="true" tabindex="-1"></a>       pd.Timestamp(<span class="st">'2017-12-11-05:45'</span>),<span class="st">'</span><span class="ch">\n</span><span class="st">'</span>,</span>
<span id="cb960-3"><a href="pandas-1.html#cb960-3" aria-hidden="true" tabindex="-1"></a>       pd.Timestamp(<span class="st">'2017-12-11T0545'</span>),<span class="st">'</span><span class="ch">\n</span><span class="st">'</span>,</span>
<span id="cb960-4"><a href="pandas-1.html#cb960-4" aria-hidden="true" tabindex="-1"></a>       pd.Timestamp(<span class="st">'2017-12-11 054533'</span>),<span class="st">'</span><span class="ch">\n</span><span class="st">'</span>,   <span class="co">## hour minute seconds</span></span>
<span id="cb960-5"><a href="pandas-1.html#cb960-5" aria-hidden="true" tabindex="-1"></a>       pd.Timestamp(<span class="st">'2017-12-11 05:45:33'</span>))</span></code></pre></div>
<pre><code>#:&gt; 2017-12-11 05:45:00 
#:&gt;  2017-12-11 05:45:00 
#:&gt;  2017-12-11 05:45:00 
#:&gt;  2017-12-11 05:45:33 
#:&gt;  2017-12-11 05:45:33</code></pre>
<p><strong>With Timezone</strong> can be included in various ways.</p>
<div class="sourceCode" id="cb962"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb962-1"><a href="pandas-1.html#cb962-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>( pd.Timestamp(<span class="st">'2017-01-01T0545Z'</span>),<span class="st">'</span><span class="ch">\n</span><span class="st">'</span>,  <span class="co"># GMT </span></span>
<span id="cb962-2"><a href="pandas-1.html#cb962-2" aria-hidden="true" tabindex="-1"></a>       pd.Timestamp(<span class="st">'2017-01-01T0545+9'</span>),<span class="st">'</span><span class="ch">\n</span><span class="st">'</span>, <span class="co"># GMT+9</span></span>
<span id="cb962-3"><a href="pandas-1.html#cb962-3" aria-hidden="true" tabindex="-1"></a>       pd.Timestamp(<span class="st">'2017-01-01T0545+0800'</span>),<span class="st">'</span><span class="ch">\n</span><span class="st">'</span>,   <span class="co"># GMT+0800</span></span>
<span id="cb962-4"><a href="pandas-1.html#cb962-4" aria-hidden="true" tabindex="-1"></a>       pd.Timestamp(<span class="st">'2017-01-01 0545'</span>, tz<span class="op">=</span><span class="st">'Asia/Singapore'</span>),<span class="st">'</span><span class="ch">\n</span><span class="st">'</span>)</span></code></pre></div>
<pre><code>#:&gt; 2017-01-01 05:45:00+00:00 
#:&gt;  2017-01-01 05:45:00+09:00 
#:&gt;  2017-01-01 05:45:00+08:00 
#:&gt;  2017-01-01 05:45:00+08:00</code></pre>
</div>
<div id="from-standard-library-datetime-and-date-object" class="section level4" number="13.4.1.3">
<h4>
<span class="header-section-number">13.4.1.3</span> From Standard Library <code>datetime</code> and <code>date</code> Object<a class="anchor" aria-label="anchor" href="#from-standard-library-datetime-and-date-object"><i class="fas fa-link"></i></a>
</h4>
<div class="sourceCode" id="cb964"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb964-1"><a href="pandas-1.html#cb964-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>( pd.Timestamp(date(<span class="dv">2017</span>,<span class="dv">3</span>,<span class="dv">5</span>)),<span class="st">'</span><span class="ch">\n</span><span class="st">'</span>,           <span class="co"># from date</span></span>
<span id="cb964-2"><a href="pandas-1.html#cb964-2" aria-hidden="true" tabindex="-1"></a>       pd.Timestamp(datetime(<span class="dv">2017</span>,<span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">4</span>,<span class="dv">30</span>)),<span class="st">'</span><span class="ch">\n</span><span class="st">'</span>,  <span class="co"># from datetime</span></span>
<span id="cb964-3"><a href="pandas-1.html#cb964-3" aria-hidden="true" tabindex="-1"></a>       pd.Timestamp(datetime(<span class="dv">2017</span>,<span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">4</span>,<span class="dv">30</span>), tz<span class="op">=</span><span class="st">'Asia/Kuala_Lumpur'</span>)) <span class="co"># from datetime, + tz</span></span></code></pre></div>
<pre><code>#:&gt; 2017-03-05 00:00:00 
#:&gt;  2017-03-05 04:30:00 
#:&gt;  2017-03-05 04:30:00+08:00</code></pre>
</div>
</div>
<div id="attributes-4" class="section level3" number="13.4.2">
<h3>
<span class="header-section-number">13.4.2</span> Attributes<a class="anchor" aria-label="anchor" href="#attributes-4"><i class="fas fa-link"></i></a>
</h3>
<p>We can tell many things about a Timestamp object.</p>
<div class="sourceCode" id="cb966"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb966-1"><a href="pandas-1.html#cb966-1" aria-hidden="true" tabindex="-1"></a>ts <span class="op">=</span> pd.Timestamp(<span class="st">'2017-01-01T054533+0800'</span>) <span class="co"># GMT+0800</span></span>
<span id="cb966-2"><a href="pandas-1.html#cb966-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>( ts.month, <span class="st">'</span><span class="ch">\n</span><span class="st">'</span>,</span>
<span id="cb966-3"><a href="pandas-1.html#cb966-3" aria-hidden="true" tabindex="-1"></a>       ts.day, <span class="st">'</span><span class="ch">\n</span><span class="st">'</span>,</span>
<span id="cb966-4"><a href="pandas-1.html#cb966-4" aria-hidden="true" tabindex="-1"></a>       ts.year, <span class="st">'</span><span class="ch">\n</span><span class="st">'</span>,</span>
<span id="cb966-5"><a href="pandas-1.html#cb966-5" aria-hidden="true" tabindex="-1"></a>       ts.hour, <span class="st">'</span><span class="ch">\n</span><span class="st">'</span>,</span>
<span id="cb966-6"><a href="pandas-1.html#cb966-6" aria-hidden="true" tabindex="-1"></a>       ts.minute, <span class="st">'</span><span class="ch">\n</span><span class="st">'</span>,</span>
<span id="cb966-7"><a href="pandas-1.html#cb966-7" aria-hidden="true" tabindex="-1"></a>       ts.second, <span class="st">'</span><span class="ch">\n</span><span class="st">'</span>,</span>
<span id="cb966-8"><a href="pandas-1.html#cb966-8" aria-hidden="true" tabindex="-1"></a>       ts.microsecond, <span class="st">'</span><span class="ch">\n</span><span class="st">'</span>,</span>
<span id="cb966-9"><a href="pandas-1.html#cb966-9" aria-hidden="true" tabindex="-1"></a>       ts.nanosecond, <span class="st">'</span><span class="ch">\n</span><span class="st">'</span>,</span>
<span id="cb966-10"><a href="pandas-1.html#cb966-10" aria-hidden="true" tabindex="-1"></a>       ts.tz, <span class="st">'</span><span class="ch">\n</span><span class="st">'</span>,</span>
<span id="cb966-11"><a href="pandas-1.html#cb966-11" aria-hidden="true" tabindex="-1"></a>       ts.daysinmonth,<span class="st">'</span><span class="ch">\n</span><span class="st">'</span>,</span>
<span id="cb966-12"><a href="pandas-1.html#cb966-12" aria-hidden="true" tabindex="-1"></a>       ts.dayofyear, <span class="st">'</span><span class="ch">\n</span><span class="st">'</span>,</span>
<span id="cb966-13"><a href="pandas-1.html#cb966-13" aria-hidden="true" tabindex="-1"></a>       ts.is_leap_year, <span class="st">'</span><span class="ch">\n</span><span class="st">'</span>,</span>
<span id="cb966-14"><a href="pandas-1.html#cb966-14" aria-hidden="true" tabindex="-1"></a>       ts.is_month_end, <span class="st">'</span><span class="ch">\n</span><span class="st">'</span>,</span>
<span id="cb966-15"><a href="pandas-1.html#cb966-15" aria-hidden="true" tabindex="-1"></a>       ts.is_month_start, <span class="st">'</span><span class="ch">\n</span><span class="st">'</span>,</span>
<span id="cb966-16"><a href="pandas-1.html#cb966-16" aria-hidden="true" tabindex="-1"></a>       ts.dayofweek)</span></code></pre></div>
<pre><code>#:&gt; 1 
#:&gt;  1 
#:&gt;  2017 
#:&gt;  5 
#:&gt;  45 
#:&gt;  33 
#:&gt;  0 
#:&gt;  0 
#:&gt;  pytz.FixedOffset(480) 
#:&gt;  31 
#:&gt;  1 
#:&gt;  False 
#:&gt;  False 
#:&gt;  True 
#:&gt;  6</code></pre>
<p>Note that timezone (tz) is a <strong>pytz object</strong>.</p>
<div class="sourceCode" id="cb968"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb968-1"><a href="pandas-1.html#cb968-1" aria-hidden="true" tabindex="-1"></a>ts1 <span class="op">=</span> pd.Timestamp(datetime(<span class="dv">2017</span>,<span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">4</span>,<span class="dv">30</span>), tz<span class="op">=</span><span class="st">'Asia/Kuala_Lumpur'</span>)   <span class="co"># from datetime, + tz</span></span>
<span id="cb968-2"><a href="pandas-1.html#cb968-2" aria-hidden="true" tabindex="-1"></a>ts2 <span class="op">=</span> pd.Timestamp(<span class="st">'2017-01-01T054533+0800'</span>) <span class="co"># GMT+0800</span></span>
<span id="cb968-3"><a href="pandas-1.html#cb968-3" aria-hidden="true" tabindex="-1"></a>ts3 <span class="op">=</span> pd.Timestamp(<span class="st">'2017-01-01T0545'</span>)</span>
<span id="cb968-4"><a href="pandas-1.html#cb968-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb968-5"><a href="pandas-1.html#cb968-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>( ts1.tz, <span class="st">'Type:'</span>, <span class="bu">type</span>(ts1.tz), <span class="st">'</span><span class="ch">\n</span><span class="st">'</span>,</span>
<span id="cb968-6"><a href="pandas-1.html#cb968-6" aria-hidden="true" tabindex="-1"></a>       ts2.tz, <span class="st">'Type:'</span>, <span class="bu">type</span>(ts2.tz), <span class="st">'</span><span class="ch">\n</span><span class="st">'</span>,</span>
<span id="cb968-7"><a href="pandas-1.html#cb968-7" aria-hidden="true" tabindex="-1"></a>       ts3.tz, <span class="st">'Type:'</span>, <span class="bu">type</span>(ts3.tz)  )</span></code></pre></div>
<pre><code>#:&gt; Asia/Kuala_Lumpur Type: &lt;class 'pytz.tzfile.Asia/Kuala_Lumpur'&gt; 
#:&gt;  pytz.FixedOffset(480) Type: &lt;class 'pytz._FixedOffset'&gt; 
#:&gt;  None Type: &lt;class 'NoneType'&gt;</code></pre>
</div>
<div id="instance-methods-1" class="section level3" number="13.4.3">
<h3>
<span class="header-section-number">13.4.3</span> Instance Methods<a class="anchor" aria-label="anchor" href="#instance-methods-1"><i class="fas fa-link"></i></a>
</h3>
<div id="atribute-like-methods" class="section level4" number="13.4.3.1">
<h4>
<span class="header-section-number">13.4.3.1</span> Atribute-like Methods<a class="anchor" aria-label="anchor" href="#atribute-like-methods"><i class="fas fa-link"></i></a>
</h4>
<div class="sourceCode" id="cb970"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb970-1"><a href="pandas-1.html#cb970-1" aria-hidden="true" tabindex="-1"></a>ts <span class="op">=</span> pd.Timestamp(<span class="dv">2017</span>,<span class="dv">1</span>,<span class="dv">1</span>)</span>
<span id="cb970-2"><a href="pandas-1.html#cb970-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>( <span class="st">' Weekday:    '</span>, ts.weekday(), <span class="st">'</span><span class="ch">\n</span><span class="st">'</span>,</span>
<span id="cb970-3"><a href="pandas-1.html#cb970-3" aria-hidden="true" tabindex="-1"></a>       <span class="st">'ISO Weekday:'</span>,  ts.isoweekday(), <span class="st">'</span><span class="ch">\n</span><span class="st">'</span>,</span>
<span id="cb970-4"><a href="pandas-1.html#cb970-4" aria-hidden="true" tabindex="-1"></a>       <span class="st">'Day Name:   '</span>,  ts.day_name(), <span class="st">'</span><span class="ch">\n</span><span class="st">'</span>,</span>
<span id="cb970-5"><a href="pandas-1.html#cb970-5" aria-hidden="true" tabindex="-1"></a>       <span class="st">'ISO Calendar:'</span>,  ts.isocalendar()</span>
<span id="cb970-6"><a href="pandas-1.html#cb970-6" aria-hidden="true" tabindex="-1"></a>       )</span></code></pre></div>
<pre><code>#:&gt;  Weekday:     6 
#:&gt;  ISO Weekday: 7 
#:&gt;  Day Name:    Sunday 
#:&gt;  ISO Calendar: (2016, 52, 7)</code></pre>
</div>
<div id="timezones" class="section level4" number="13.4.3.2">
<h4>
<span class="header-section-number">13.4.3.2</span> Timezones<a class="anchor" aria-label="anchor" href="#timezones"><i class="fas fa-link"></i></a>
</h4>
<p><strong>Adding Timezones and Clock Shifting</strong></p>
<ul>
<li>
<code>tz_localize</code> will add the timezone, however will not shift the clock.<br>
</li>
<li>Once a timestamp had gotten a timezone, you can easily shift the clock to another timezone using <code>tz_convert()</code>
</li>
</ul>
<div class="sourceCode" id="cb972"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb972-1"><a href="pandas-1.html#cb972-1" aria-hidden="true" tabindex="-1"></a>ts <span class="op">=</span> pd.Timestamp(<span class="dv">2017</span>,<span class="dv">1</span>,<span class="dv">10</span>,<span class="dv">10</span>,<span class="dv">34</span>)        <span class="co">## No timezone</span></span>
<span id="cb972-2"><a href="pandas-1.html#cb972-2" aria-hidden="true" tabindex="-1"></a>ts1 <span class="op">=</span> ts.tz_localize(<span class="st">'Asia/Kuala_Lumpur'</span>)  <span class="co">## Add timezone</span></span>
<span id="cb972-3"><a href="pandas-1.html#cb972-3" aria-hidden="true" tabindex="-1"></a>ts2 <span class="op">=</span> ts1.tz_convert(<span class="st">'UTC'</span>)                 <span class="co">## Convert timezone</span></span>
<span id="cb972-4"><a href="pandas-1.html#cb972-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">' Origininal Timestamp           :'</span>, ts,  <span class="st">'</span><span class="ch">\n</span><span class="st">'</span>,</span>
<span id="cb972-5"><a href="pandas-1.html#cb972-5" aria-hidden="true" tabindex="-1"></a>      <span class="st">'Loacalized Timestamp (added TZ):'</span>, ts1, <span class="st">'</span><span class="ch">\n</span><span class="st">'</span>,</span>
<span id="cb972-6"><a href="pandas-1.html#cb972-6" aria-hidden="true" tabindex="-1"></a>      <span class="st">'Converted Timestamp (shifted)  :'</span>,ts2)</span></code></pre></div>
<pre><code>#:&gt;  Origininal Timestamp           : 2017-01-10 10:34:00 
#:&gt;  Loacalized Timestamp (added TZ): 2017-01-10 10:34:00+08:00 
#:&gt;  Converted Timestamp (shifted)  : 2017-01-10 02:34:00+00:00</code></pre>
<p><strong>Removing Timezone</strong></p>
<p>Just apply <strong>None with <code>tz_localize</code></strong> to remove TZ infomration.</p>
<div class="sourceCode" id="cb974"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb974-1"><a href="pandas-1.html#cb974-1" aria-hidden="true" tabindex="-1"></a>ts <span class="op">=</span> pd.Timestamp(<span class="dv">2017</span>,<span class="dv">1</span>,<span class="dv">10</span>,<span class="dv">10</span>,<span class="dv">34</span>)        <span class="co">## No timezone</span></span>
<span id="cb974-2"><a href="pandas-1.html#cb974-2" aria-hidden="true" tabindex="-1"></a>ts <span class="op">=</span> ts.tz_localize(<span class="st">'Asia/Kuala_Lumpur'</span>)  <span class="co">## Add timezone</span></span>
<span id="cb974-3"><a href="pandas-1.html#cb974-3" aria-hidden="true" tabindex="-1"></a>ts <span class="op">=</span> ts.tz_localize(<span class="va">None</span>)                 <span class="co">## Convert timezone</span></span>
<span id="cb974-4"><a href="pandas-1.html#cb974-4" aria-hidden="true" tabindex="-1"></a>ts</span></code></pre></div>
<pre><code>#:&gt; Timestamp('2017-01-10 10:34:00')</code></pre>
</div>
<div id="formatting" class="section level4" number="13.4.3.3">
<h4>
<span class="header-section-number">13.4.3.3</span> Formatting<a class="anchor" aria-label="anchor" href="#formatting"><i class="fas fa-link"></i></a>
</h4>
<p><strong><code>strftime</code></strong></p>
<p>Use <strong><code><a href="https://rdrr.io/r/base/strptime.html">strftime()</a></code></strong> to customize string format. For complete directive, see below: <a href="https://docs.python.org/3/library/datetime.html#strftime-strptime-behavior" class="uri">https://docs.python.org/3/library/datetime.html#strftime-strptime-behavior</a></p>
<div class="sourceCode" id="cb976"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb976-1"><a href="pandas-1.html#cb976-1" aria-hidden="true" tabindex="-1"></a>ts <span class="op">=</span> pd.Timestamp(<span class="dv">2017</span>,<span class="dv">1</span>,<span class="dv">10</span>,<span class="dv">10</span>,<span class="dv">34</span>)        <span class="co">## No timezone</span></span>
<span id="cb976-2"><a href="pandas-1.html#cb976-2" aria-hidden="true" tabindex="-1"></a>ts <span class="op">=</span> ts.tz_localize(<span class="st">'Asia/Kuala_Lumpur'</span>)  <span class="co">## Add timezone</span></span>
<span id="cb976-3"><a href="pandas-1.html#cb976-3" aria-hidden="true" tabindex="-1"></a>ts.strftime(<span class="st">"%m/</span><span class="sc">%d</span><span class="st">"</span>)</span></code></pre></div>
<pre><code>#:&gt; '01/10'</code></pre>
<p><strong><code>isoformat</code></strong></p>
<p>Use <strong><code>isoformat()</code></strong> to format ISO string (<strong>without timezone</strong>)</p>
<div class="sourceCode" id="cb978"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb978-1"><a href="pandas-1.html#cb978-1" aria-hidden="true" tabindex="-1"></a>ts <span class="op">=</span> pd.Timestamp(<span class="dv">2017</span>,<span class="dv">1</span>,<span class="dv">10</span>,<span class="dv">10</span>,<span class="dv">34</span>)        </span>
<span id="cb978-2"><a href="pandas-1.html#cb978-2" aria-hidden="true" tabindex="-1"></a>ts1 <span class="op">=</span> ts.tz_localize(<span class="st">'Asia/Kuala_Lumpur'</span>) </span>
<span id="cb978-3"><a href="pandas-1.html#cb978-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>( <span class="st">' ISO Format without TZ:'</span>, ts.isoformat(), <span class="st">'</span><span class="ch">\n</span><span class="st">'</span>,</span>
<span id="cb978-4"><a href="pandas-1.html#cb978-4" aria-hidden="true" tabindex="-1"></a>       <span class="st">'ISO Format with TZ   :'</span>, ts1.isoformat())</span></code></pre></div>
<pre><code>#:&gt;  ISO Format without TZ: 2017-01-10T10:34:00 
#:&gt;  ISO Format with TZ   : 2017-01-10T10:34:00+08:00</code></pre>
</div>
<div id="type-conversion" class="section level4" number="13.4.3.4">
<h4>
<span class="header-section-number">13.4.3.4</span> Type Conversion<a class="anchor" aria-label="anchor" href="#type-conversion"><i class="fas fa-link"></i></a>
</h4>
<p><strong>Convert To <code>datetime.datetime/date</code></strong></p>
<p>Use <code>to_pydatetime()</code> to convert into standard library <strong><code>datetime.datetime</code></strong>. From the ‘datetime’ object, apply <code><a href="https://rdrr.io/r/base/date.html">date()</a></code> to get <strong><code>datetime.date</code></strong></p>
<div class="sourceCode" id="cb980"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb980-1"><a href="pandas-1.html#cb980-1" aria-hidden="true" tabindex="-1"></a>ts <span class="op">=</span> pd.Timestamp(<span class="dv">2017</span>,<span class="dv">1</span>,<span class="dv">10</span>,<span class="dv">7</span>,<span class="dv">30</span>,<span class="dv">52</span>)</span>
<span id="cb980-2"><a href="pandas-1.html#cb980-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(</span>
<span id="cb980-3"><a href="pandas-1.html#cb980-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">'Datetime:'</span>,  ts.to_pydatetime(), <span class="st">'</span><span class="ch">\n</span><span class="st">'</span>,</span>
<span id="cb980-4"><a href="pandas-1.html#cb980-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">'Date Only:'</span>, ts.to_pydatetime().date())</span></code></pre></div>
<pre><code>#:&gt; Datetime: 2017-01-10 07:30:52 
#:&gt;  Date Only: 2017-01-10</code></pre>
<p><strong>Convert To <code>numpy.datetime64</code></strong></p>
<p>Use <code>to_datetime64()</code> to convert into <code>numpy.datetime64</code></p>
<div class="sourceCode" id="cb982"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb982-1"><a href="pandas-1.html#cb982-1" aria-hidden="true" tabindex="-1"></a>ts <span class="op">=</span> pd.Timestamp(<span class="dv">2017</span>,<span class="dv">1</span>,<span class="dv">10</span>,<span class="dv">7</span>,<span class="dv">30</span>,<span class="dv">52</span>)</span>
<span id="cb982-2"><a href="pandas-1.html#cb982-2" aria-hidden="true" tabindex="-1"></a>ts.to_datetime64()</span></code></pre></div>
<pre><code>#:&gt; numpy.datetime64('2017-01-10T07:30:52.000000000')</code></pre>
</div>
<div id="ceil" class="section level4" number="13.4.3.5">
<h4>
<span class="header-section-number">13.4.3.5</span> <code>ceil</code><a class="anchor" aria-label="anchor" href="#ceil"><i class="fas fa-link"></i></a>
</h4>
<div class="sourceCode" id="cb984"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb984-1"><a href="pandas-1.html#cb984-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>( ts.ceil(freq<span class="op">=</span><span class="st">'D'</span>) ) <span class="co"># ceiling to day</span></span></code></pre></div>
<pre><code>#:&gt; 2017-01-11 00:00:00</code></pre>
</div>
<div id="updating" class="section level4" number="13.4.3.6">
<h4>
<span class="header-section-number">13.4.3.6</span> Updating<a class="anchor" aria-label="anchor" href="#updating"><i class="fas fa-link"></i></a>
</h4>
<p><code><a href="https://rdrr.io/r/base/replace.html">replace()</a></code></p>
<div class="sourceCode" id="cb986"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb986-1"><a href="pandas-1.html#cb986-1" aria-hidden="true" tabindex="-1"></a>ts.replace(year<span class="op">=</span><span class="dv">2000</span>, month<span class="op">=</span><span class="dv">1</span>,day<span class="op">=</span><span class="dv">1</span>)</span></code></pre></div>
<pre><code>#:&gt; Timestamp('2000-01-01 07:30:52')</code></pre>
</div>
</div>
</div>
<div id="class-datetimeindex" class="section level2" number="13.5">
<h2>
<span class="header-section-number">13.5</span> class: DateTimeIndex<a class="anchor" aria-label="anchor" href="#class-datetimeindex"><i class="fas fa-link"></i></a>
</h2>
<div id="creating-1" class="section level3" number="13.5.1">
<h3>
<span class="header-section-number">13.5.1</span> Creating<a class="anchor" aria-label="anchor" href="#creating-1"><i class="fas fa-link"></i></a>
</h3>
<p>Refer to Pandas class method above.</p>
</div>
<div id="instance-method-4" class="section level3" number="13.5.2">
<h3>
<span class="header-section-number">13.5.2</span> Instance Method<a class="anchor" aria-label="anchor" href="#instance-method-4"><i class="fas fa-link"></i></a>
</h3>
<div id="data-type-conversion" class="section level4" number="13.5.2.1">
<h4>
<span class="header-section-number">13.5.2.1</span> Data Type Conversion<a class="anchor" aria-label="anchor" href="#data-type-conversion"><i class="fas fa-link"></i></a>
</h4>
<p><strong>Convert To datetime.datetime</strong><br>
Use <strong><code>to_pydatetime</code></strong> to convert into python standard <strong>datetime.datetime</strong> object</p>
<div class="sourceCode" id="cb988"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb988-1"><a href="pandas-1.html#cb988-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'Converted to List:'</span>, dti.to_pydatetime(), <span class="st">'</span><span class="ch">\n\n</span><span class="st">'</span>,</span>
<span id="cb988-2"><a href="pandas-1.html#cb988-2" aria-hidden="true" tabindex="-1"></a>      <span class="st">'Converted Type:'</span>,    <span class="bu">type</span>(dti.to_pydatetime()))</span></code></pre></div>
<pre><code>#:&gt; Converted to List: [datetime.datetime(2011, 1, 3, 0, 0) datetime.datetime(2018, 4, 13, 0, 0)
#:&gt;  datetime.datetime(2018, 3, 1, 7, 30)] 
#:&gt; 
#:&gt;  Converted Type: &lt;class 'numpy.ndarray'&gt;</code></pre>
</div>
<div id="structure-conversion" class="section level4" number="13.5.2.2">
<h4>
<span class="header-section-number">13.5.2.2</span> Structure Conversion<a class="anchor" aria-label="anchor" href="#structure-conversion"><i class="fas fa-link"></i></a>
</h4>
<p><strong>Convert To Series: <code>to_series</code></strong><br>
This creates a Series where <strong>index and data</strong> with the same value</p>
<div class="sourceCode" id="cb990"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb990-1"><a href="pandas-1.html#cb990-1" aria-hidden="true" tabindex="-1"></a><span class="co">#dti = pd.date_range('2018-02', periods=4, freq='M')</span></span>
<span id="cb990-2"><a href="pandas-1.html#cb990-2" aria-hidden="true" tabindex="-1"></a>dti.to_series()</span></code></pre></div>
<pre><code>#:&gt; 2011-01-03 00:00:00   2011-01-03 00:00:00
#:&gt; 2018-04-13 00:00:00   2018-04-13 00:00:00
#:&gt; 2018-03-01 07:30:00   2018-03-01 07:30:00
#:&gt; dtype: datetime64[ns]</code></pre>
<p><strong>Convert To DataFrame: <code>to_frame()</code></strong><br>
This convert to <strong>single column DataFrame</strong> with index as the same value</p>
<div class="sourceCode" id="cb992"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb992-1"><a href="pandas-1.html#cb992-1" aria-hidden="true" tabindex="-1"></a>dti.to_frame()</span></code></pre></div>
<pre><code>#:&gt;                                       0
#:&gt; 2011-01-03 00:00:00 2011-01-03 00:00:00
#:&gt; 2018-04-13 00:00:00 2018-04-13 00:00:00
#:&gt; 2018-03-01 07:30:00 2018-03-01 07:30:00</code></pre>
</div>
</div>
<div id="attributes-5" class="section level3" number="13.5.3">
<h3>
<span class="header-section-number">13.5.3</span> Attributes<a class="anchor" aria-label="anchor" href="#attributes-5"><i class="fas fa-link"></i></a>
</h3>
<p><strong>All Timestamp Attributes</strong> can be used upon DateTimeIndex.</p>
<div class="sourceCode" id="cb994"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb994-1"><a href="pandas-1.html#cb994-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>( dti.weekday, <span class="st">'</span><span class="ch">\n</span><span class="st">'</span>,</span>
<span id="cb994-2"><a href="pandas-1.html#cb994-2" aria-hidden="true" tabindex="-1"></a>       dti.month, <span class="st">'</span><span class="ch">\n</span><span class="st">'</span>,</span>
<span id="cb994-3"><a href="pandas-1.html#cb994-3" aria-hidden="true" tabindex="-1"></a>       dti.daysinmonth)</span></code></pre></div>
<pre><code>#:&gt; Int64Index([0, 4, 3], dtype='int64') 
#:&gt;  Int64Index([1, 4, 3], dtype='int64') 
#:&gt;  Int64Index([31, 30, 31], dtype='int64')</code></pre>
</div>
</div>
<div id="class-series" class="section level2" number="13.6">
<h2>
<span class="header-section-number">13.6</span> class: Series<a class="anchor" aria-label="anchor" href="#class-series"><i class="fas fa-link"></i></a>
</h2>
<p>Series allows different data types (object class) as its element</p>
<pre><code>pandas.Series(data=None, index=None, dtype=None, name=None, copy=False, fastpath=False)
- data array-like, iterable, dict or scalar
- If dtype not specified, it will infer from data.</code></pre>
<div id="constructor-9" class="section level3" number="13.6.1">
<h3>
<span class="header-section-number">13.6.1</span> Constructor<a class="anchor" aria-label="anchor" href="#constructor-9"><i class="fas fa-link"></i></a>
</h3>
<div id="empty-series" class="section level4" number="13.6.1.1">
<h4>
<span class="header-section-number">13.6.1.1</span> Empty Series<a class="anchor" aria-label="anchor" href="#empty-series"><i class="fas fa-link"></i></a>
</h4>
<p>Passing no data to constructor will result in empty series. By default, empty series dtype is float.</p>
<div class="sourceCode" id="cb997"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb997-1"><a href="pandas-1.html#cb997-1" aria-hidden="true" tabindex="-1"></a>s <span class="op">=</span> pd.Series(dtype<span class="op">=</span><span class="st">'object'</span>)</span>
<span id="cb997-2"><a href="pandas-1.html#cb997-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span> (s, <span class="st">'</span><span class="ch">\n</span><span class="st">'</span>,</span>
<span id="cb997-3"><a href="pandas-1.html#cb997-3" aria-hidden="true" tabindex="-1"></a>       <span class="bu">type</span>(s))</span></code></pre></div>
<pre><code>#:&gt; Series([], dtype: object) 
#:&gt;  &lt;class 'pandas.core.series.Series'&gt;</code></pre>
</div>
<div id="from-scalar" class="section level4" number="13.6.1.2">
<h4>
<span class="header-section-number">13.6.1.2</span> From Scalar<a class="anchor" aria-label="anchor" href="#from-scalar"><i class="fas fa-link"></i></a>
</h4>
<p>If data is a scalar value, an <strong>index must be provided</strong>. The <strong>value will be repeated</strong> to match the length of index</p>
<div class="sourceCode" id="cb999"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb999-1"><a href="pandas-1.html#cb999-1" aria-hidden="true" tabindex="-1"></a>pd.Series( <span class="dv">99</span>, index <span class="op">=</span> [<span class="st">'a'</span>,<span class="st">'b'</span>,<span class="st">'c'</span>,<span class="st">'d'</span>])</span></code></pre></div>
<pre><code>#:&gt; a    99
#:&gt; b    99
#:&gt; c    99
#:&gt; d    99
#:&gt; dtype: int64</code></pre>
</div>
<div id="from-array-like" class="section level4" number="13.6.1.3">
<h4>
<span class="header-section-number">13.6.1.3</span> From array-like<a class="anchor" aria-label="anchor" href="#from-array-like"><i class="fas fa-link"></i></a>
</h4>
<p><strong>From list</strong></p>
<div class="sourceCode" id="cb1001"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1001-1"><a href="pandas-1.html#cb1001-1" aria-hidden="true" tabindex="-1"></a>pd.Series([<span class="st">'a'</span>,<span class="st">'b'</span>,<span class="st">'c'</span>,<span class="st">'d'</span>,<span class="st">'e'</span>])           <span class="co"># from Python list</span></span></code></pre></div>
<pre><code>#:&gt; 0    a
#:&gt; 1    b
#:&gt; 2    c
#:&gt; 3    d
#:&gt; 4    e
#:&gt; dtype: object</code></pre>
<p><strong>From numpy.array</strong><br>
If index is not specified, default to 0 and continue incrementally</p>
<div class="sourceCode" id="cb1003"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1003-1"><a href="pandas-1.html#cb1003-1" aria-hidden="true" tabindex="-1"></a>pd.Series(np.array([<span class="st">'a'</span>,<span class="st">'b'</span>,<span class="st">'c'</span>,<span class="st">'d'</span>,<span class="st">'e'</span>]))</span></code></pre></div>
<pre><code>#:&gt; 0    a
#:&gt; 1    b
#:&gt; 2    c
#:&gt; 3    d
#:&gt; 4    e
#:&gt; dtype: object</code></pre>
<p><strong>From DateTimeIndex</strong></p>
<div class="sourceCode" id="cb1005"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1005-1"><a href="pandas-1.html#cb1005-1" aria-hidden="true" tabindex="-1"></a>pd.Series(pd.date_range(<span class="st">'2011-1-1'</span>,<span class="st">'2011-1-3'</span>))</span></code></pre></div>
<pre><code>#:&gt; 0   2011-01-01
#:&gt; 1   2011-01-02
#:&gt; 2   2011-01-03
#:&gt; dtype: datetime64[ns]</code></pre>
</div>
<div id="from-dictionary" class="section level4" number="13.6.1.4">
<h4>
<span class="header-section-number">13.6.1.4</span> From Dictionary<a class="anchor" aria-label="anchor" href="#from-dictionary"><i class="fas fa-link"></i></a>
</h4>
<p>The <strong>dictionary key</strong> will be the index. Order is <strong>not sorted</strong>.</p>
<div class="sourceCode" id="cb1007"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1007-1"><a href="pandas-1.html#cb1007-1" aria-hidden="true" tabindex="-1"></a>pd.Series({<span class="st">'a'</span> : <span class="fl">0.</span>, <span class="st">'c'</span> : <span class="fl">5.</span>, <span class="st">'b'</span> : <span class="fl">2.</span>})</span></code></pre></div>
<pre><code>#:&gt; a    0.0
#:&gt; c    5.0
#:&gt; b    2.0
#:&gt; dtype: float64</code></pre>
<p>If <strong>index sequence</strong> is specifeid, then Series will forllow the index order<br>
Objerve that <strong>missing data</strong> (index without value) will be marked as NaN</p>
<div class="sourceCode" id="cb1009"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1009-1"><a href="pandas-1.html#cb1009-1" aria-hidden="true" tabindex="-1"></a>pd.Series({<span class="st">'a'</span> : <span class="fl">0.</span>, <span class="st">'c'</span> : <span class="fl">1.</span>, <span class="st">'b'</span> : <span class="fl">2.</span>},index <span class="op">=</span> [<span class="st">'a'</span>,<span class="st">'b'</span>,<span class="st">'c'</span>,<span class="st">'d'</span>])</span></code></pre></div>
<pre><code>#:&gt; a    0.0
#:&gt; b    2.0
#:&gt; c    1.0
#:&gt; d    NaN
#:&gt; dtype: float64</code></pre>
</div>
<div id="specify-index" class="section level4" number="13.6.1.5">
<h4>
<span class="header-section-number">13.6.1.5</span> Specify Index<a class="anchor" aria-label="anchor" href="#specify-index"><i class="fas fa-link"></i></a>
</h4>
<div class="sourceCode" id="cb1011"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1011-1"><a href="pandas-1.html#cb1011-1" aria-hidden="true" tabindex="-1"></a>pd.Series([<span class="st">'a'</span>,<span class="st">'b'</span>,<span class="st">'c'</span>,<span class="st">'d'</span>,<span class="st">'e'</span>], index<span class="op">=</span>[<span class="dv">10</span>,<span class="dv">20</span>,<span class="dv">30</span>,<span class="dv">40</span>,<span class="dv">50</span>])</span></code></pre></div>
<pre><code>#:&gt; 10    a
#:&gt; 20    b
#:&gt; 30    c
#:&gt; 40    d
#:&gt; 50    e
#:&gt; dtype: object</code></pre>
</div>
<div id="mix-element-types" class="section level4" number="13.6.1.6">
<h4>
<span class="header-section-number">13.6.1.6</span> Mix Element Types<a class="anchor" aria-label="anchor" href="#mix-element-types"><i class="fas fa-link"></i></a>
</h4>
<p>dType will be <strong>‘object’</strong> when there were mixture of classes</p>
<div class="sourceCode" id="cb1013"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1013-1"><a href="pandas-1.html#cb1013-1" aria-hidden="true" tabindex="-1"></a>ser <span class="op">=</span> pd.Series([<span class="st">'a'</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>])</span>
<span id="cb1013-2"><a href="pandas-1.html#cb1013-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'Object Type :  '</span>, <span class="bu">type</span>(ser),<span class="st">'</span><span class="ch">\n</span><span class="st">'</span>,</span>
<span id="cb1013-3"><a href="pandas-1.html#cb1013-3" aria-hidden="true" tabindex="-1"></a>      <span class="st">'Object dType:  '</span>, ser.dtype,<span class="st">'</span><span class="ch">\n</span><span class="st">'</span>,</span>
<span id="cb1013-4"><a href="pandas-1.html#cb1013-4" aria-hidden="true" tabindex="-1"></a>      <span class="st">'Element 1 Type: '</span>,<span class="bu">type</span>(ser[<span class="dv">0</span>]),<span class="st">'</span><span class="ch">\n</span><span class="st">'</span>,</span>
<span id="cb1013-5"><a href="pandas-1.html#cb1013-5" aria-hidden="true" tabindex="-1"></a>      <span class="st">'Elmeent 2 Type: '</span>,<span class="bu">type</span>(ser[<span class="dv">1</span>]))</span></code></pre></div>
<pre><code>#:&gt; Object Type :   &lt;class 'pandas.core.series.Series'&gt; 
#:&gt;  Object dType:   object 
#:&gt;  Element 1 Type:  &lt;class 'str'&gt; 
#:&gt;  Elmeent 2 Type:  &lt;class 'int'&gt;</code></pre>
</div>
<div id="specify-data-types" class="section level4" number="13.6.1.7">
<h4>
<span class="header-section-number">13.6.1.7</span> Specify Data Types<a class="anchor" aria-label="anchor" href="#specify-data-types"><i class="fas fa-link"></i></a>
</h4>
<p>By default, dtype is <strong>inferred</strong> from data.</p>
<div class="sourceCode" id="cb1015"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1015-1"><a href="pandas-1.html#cb1015-1" aria-hidden="true" tabindex="-1"></a>ser1 <span class="op">=</span> pd.Series([<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>])</span>
<span id="cb1015-2"><a href="pandas-1.html#cb1015-2" aria-hidden="true" tabindex="-1"></a>ser2 <span class="op">=</span> pd.Series([<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>], dtype<span class="op">=</span><span class="st">"int8"</span>)</span>
<span id="cb1015-3"><a href="pandas-1.html#cb1015-3" aria-hidden="true" tabindex="-1"></a>ser3 <span class="op">=</span> pd.Series([<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>], dtype<span class="op">=</span><span class="st">"object"</span>)</span>
<span id="cb1015-4"><a href="pandas-1.html#cb1015-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1015-5"><a href="pandas-1.html#cb1015-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">' Inferred:        '</span>,ser1.dtype, <span class="st">'</span><span class="ch">\n</span><span class="st">'</span>,</span>
<span id="cb1015-6"><a href="pandas-1.html#cb1015-6" aria-hidden="true" tabindex="-1"></a>      <span class="st">'Specified int8:  '</span>,ser2.dtype, <span class="st">'</span><span class="ch">\n</span><span class="st">'</span>,</span>
<span id="cb1015-7"><a href="pandas-1.html#cb1015-7" aria-hidden="true" tabindex="-1"></a>      <span class="st">'Specified object:'</span>,ser3.dtype)</span></code></pre></div>
<pre><code>#:&gt;  Inferred:         int64 
#:&gt;  Specified int8:   int8 
#:&gt;  Specified object: object</code></pre>
</div>
</div>
<div id="accessing-series" class="section level3" number="13.6.2">
<h3>
<span class="header-section-number">13.6.2</span> Accessing Series<a class="anchor" aria-label="anchor" href="#accessing-series"><i class="fas fa-link"></i></a>
</h3>
<pre><code>series     ( single/list/range_of_row_label/number ) # can cause confusion
series.loc ( single/list/range_of_row_label )
series.iloc( single/list/range_of_row_number )</code></pre>
<div id="sample-data-4" class="section level4" number="13.6.2.1">
<h4>
<span class="header-section-number">13.6.2.1</span> Sample Data<a class="anchor" aria-label="anchor" href="#sample-data-4"><i class="fas fa-link"></i></a>
</h4>
<div class="sourceCode" id="cb1018"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1018-1"><a href="pandas-1.html#cb1018-1" aria-hidden="true" tabindex="-1"></a>s <span class="op">=</span> pd.Series([<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>],index<span class="op">=</span>[<span class="st">'a'</span>,<span class="st">'b'</span>,<span class="st">'c'</span>,<span class="st">'d'</span>,<span class="st">'e'</span>]) </span>
<span id="cb1018-2"><a href="pandas-1.html#cb1018-2" aria-hidden="true" tabindex="-1"></a>s</span></code></pre></div>
<pre><code>#:&gt; a    1
#:&gt; b    2
#:&gt; c    3
#:&gt; d    4
#:&gt; e    5
#:&gt; dtype: int64</code></pre>
</div>
<div id="by-row-numbers" class="section level4" number="13.6.2.2">
<h4>
<span class="header-section-number">13.6.2.2</span> by Row Number(s)<a class="anchor" aria-label="anchor" href="#by-row-numbers"><i class="fas fa-link"></i></a>
</h4>
<p><strong>Single Item</strong>.
Notice that inputing a number and list of number give different result.</p>
<div class="sourceCode" id="cb1020"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1020-1"><a href="pandas-1.html#cb1020-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>( <span class="st">'Referencing by number:'</span>,s.iloc[<span class="dv">1</span>],<span class="st">'</span><span class="ch">\n\n</span><span class="st">'</span>,</span>
<span id="cb1020-2"><a href="pandas-1.html#cb1020-2" aria-hidden="true" tabindex="-1"></a>       <span class="st">'</span><span class="ch">\n</span><span class="st">Referencing by list of number:</span><span class="ch">\n</span><span class="st">'</span>,s.iloc[[<span class="dv">1</span>]])</span></code></pre></div>
<pre><code>#:&gt; Referencing by number: 2 
#:&gt; 
#:&gt;  
#:&gt; Referencing by list of number:
#:&gt;  b    2
#:&gt; dtype: int64</code></pre>
<p><strong>Multiple Items</strong></p>
<div class="sourceCode" id="cb1022"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1022-1"><a href="pandas-1.html#cb1022-1" aria-hidden="true" tabindex="-1"></a>s.iloc[[<span class="dv">1</span>,<span class="dv">3</span>]] </span></code></pre></div>
<pre><code>#:&gt; b    2
#:&gt; d    4
#:&gt; dtype: int64</code></pre>
<p><strong>Range (First 3)</strong></p>
<div class="sourceCode" id="cb1024"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1024-1"><a href="pandas-1.html#cb1024-1" aria-hidden="true" tabindex="-1"></a>s.iloc[:<span class="dv">3</span>]</span></code></pre></div>
<pre><code>#:&gt; a    1
#:&gt; b    2
#:&gt; c    3
#:&gt; dtype: int64</code></pre>
<p><strong>Range (Last 3)</strong></p>
<div class="sourceCode" id="cb1026"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1026-1"><a href="pandas-1.html#cb1026-1" aria-hidden="true" tabindex="-1"></a>s.iloc[<span class="op">-</span><span class="dv">3</span>:]</span></code></pre></div>
<pre><code>#:&gt; c    3
#:&gt; d    4
#:&gt; e    5
#:&gt; dtype: int64</code></pre>
<p><strong>Range (in between)</strong></p>
<div class="sourceCode" id="cb1028"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1028-1"><a href="pandas-1.html#cb1028-1" aria-hidden="true" tabindex="-1"></a>s.iloc[<span class="dv">2</span>:<span class="dv">3</span>]</span></code></pre></div>
<pre><code>#:&gt; c    3
#:&gt; dtype: int64</code></pre>
</div>
<div id="by-indexes" class="section level4" number="13.6.2.3">
<h4>
<span class="header-section-number">13.6.2.3</span> by Index(es)<a class="anchor" aria-label="anchor" href="#by-indexes"><i class="fas fa-link"></i></a>
</h4>
<p><strong>Single Label</strong>. Notice the difference referencing input: single index and list of index.<br><strong>Warning</strong>: if index is invalid, this will result in error.</p>
<div class="sourceCode" id="cb1030"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1030-1"><a href="pandas-1.html#cb1030-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>( s.loc[<span class="st">'c'</span>], <span class="st">'</span><span class="ch">\n</span><span class="st">'</span>,</span>
<span id="cb1030-2"><a href="pandas-1.html#cb1030-2" aria-hidden="true" tabindex="-1"></a>       s[[<span class="st">'c'</span>]])</span></code></pre></div>
<pre><code>#:&gt; 3 
#:&gt;  c    3
#:&gt; dtype: int64</code></pre>
<p><strong>Multiple Labels</strong></p>
<p>If index is not found, it will return <strong>NaN</strong></p>
<div class="sourceCode" id="cb1032"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1032-1"><a href="pandas-1.html#cb1032-1" aria-hidden="true" tabindex="-1"></a><span class="co"># error: missing labels no longer supported</span></span>
<span id="cb1032-2"><a href="pandas-1.html#cb1032-2" aria-hidden="true" tabindex="-1"></a>s.loc[[<span class="st">'k'</span>,<span class="st">'c'</span>]]</span></code></pre></div>
<p>** Range of Labels **</p>
<div class="sourceCode" id="cb1033"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1033-1"><a href="pandas-1.html#cb1033-1" aria-hidden="true" tabindex="-1"></a>s.loc[<span class="st">'b'</span>:<span class="st">'d'</span>]</span></code></pre></div>
<pre><code>#:&gt; b    2
#:&gt; c    3
#:&gt; d    4
#:&gt; dtype: int64</code></pre>
</div>
<div id="filtering" class="section level4" number="13.6.2.4">
<h4>
<span class="header-section-number">13.6.2.4</span> Filtering<a class="anchor" aria-label="anchor" href="#filtering"><i class="fas fa-link"></i></a>
</h4>
<p>Use <strong>logical array</strong> to filter</p>
<div class="sourceCode" id="cb1035"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1035-1"><a href="pandas-1.html#cb1035-1" aria-hidden="true" tabindex="-1"></a>s <span class="op">=</span> pd.Series(<span class="bu">range</span>(<span class="dv">1</span>,<span class="dv">8</span>))</span>
<span id="cb1035-2"><a href="pandas-1.html#cb1035-2" aria-hidden="true" tabindex="-1"></a>s[s<span class="op">&lt;</span><span class="dv">5</span>]</span></code></pre></div>
<pre><code>#:&gt; 0    1
#:&gt; 1    2
#:&gt; 2    3
#:&gt; 3    4
#:&gt; dtype: int64</code></pre>
<p>Use <strong>where</strong><br>
The where method is an application of the if-then idiom. For each element in the calling Series, if <code>cond</code> is True the element is used; otherwise <code>other</code> is used.</p>
<pre><code>.where(cond, other=nan, inplace=False)</code></pre>
<div class="sourceCode" id="cb1038"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1038-1"><a href="pandas-1.html#cb1038-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(s.where(s<span class="op">&lt;</span><span class="dv">4</span>),<span class="st">'</span><span class="ch">\n\n</span><span class="st">'</span>,</span>
<span id="cb1038-2"><a href="pandas-1.html#cb1038-2" aria-hidden="true" tabindex="-1"></a>      s.where(s<span class="op">&lt;</span><span class="dv">4</span>,other<span class="op">=</span><span class="va">None</span>) )</span></code></pre></div>
<pre><code>#:&gt; 0    1.0
#:&gt; 1    2.0
#:&gt; 2    3.0
#:&gt; 3    NaN
#:&gt; 4    NaN
#:&gt; 5    NaN
#:&gt; 6    NaN
#:&gt; dtype: float64 
#:&gt; 
#:&gt;  0       1
#:&gt; 1       2
#:&gt; 2       3
#:&gt; 3    None
#:&gt; 4    None
#:&gt; 5    None
#:&gt; 6    None
#:&gt; dtype: object</code></pre>
</div>
</div>
<div id="updating-series" class="section level3" number="13.6.3">
<h3>
<span class="header-section-number">13.6.3</span> Updating Series<a class="anchor" aria-label="anchor" href="#updating-series"><i class="fas fa-link"></i></a>
</h3>
<div id="by-row-numbers-1" class="section level4" number="13.6.3.1">
<h4>
<span class="header-section-number">13.6.3.1</span> by Row Number(s)<a class="anchor" aria-label="anchor" href="#by-row-numbers-1"><i class="fas fa-link"></i></a>
</h4>
<div class="sourceCode" id="cb1040"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1040-1"><a href="pandas-1.html#cb1040-1" aria-hidden="true" tabindex="-1"></a>s <span class="op">=</span> pd.Series(<span class="bu">range</span>(<span class="dv">1</span>,<span class="dv">7</span>), index<span class="op">=</span>[<span class="st">'a'</span>,<span class="st">'b'</span>,<span class="st">'c'</span>,<span class="st">'d'</span>,<span class="st">'e'</span>,<span class="st">'f'</span>])</span>
<span id="cb1040-2"><a href="pandas-1.html#cb1040-2" aria-hidden="true" tabindex="-1"></a>s[<span class="dv">2</span>] <span class="op">=</span> <span class="dv">999</span></span>
<span id="cb1040-3"><a href="pandas-1.html#cb1040-3" aria-hidden="true" tabindex="-1"></a>s[[<span class="dv">3</span>,<span class="dv">4</span>]] <span class="op">=</span> <span class="dv">888</span>,<span class="dv">777</span></span>
<span id="cb1040-4"><a href="pandas-1.html#cb1040-4" aria-hidden="true" tabindex="-1"></a>s</span></code></pre></div>
<pre><code>#:&gt; a      1
#:&gt; b      2
#:&gt; c    999
#:&gt; d    888
#:&gt; e    777
#:&gt; f      6
#:&gt; dtype: int64</code></pre>
</div>
<div id="by-indexes-1" class="section level4" number="13.6.3.2">
<h4>
<span class="header-section-number">13.6.3.2</span> by Index(es)<a class="anchor" aria-label="anchor" href="#by-indexes-1"><i class="fas fa-link"></i></a>
</h4>
<div class="sourceCode" id="cb1042"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1042-1"><a href="pandas-1.html#cb1042-1" aria-hidden="true" tabindex="-1"></a>s <span class="op">=</span> pd.Series(<span class="bu">range</span>(<span class="dv">1</span>,<span class="dv">7</span>), index<span class="op">=</span>[<span class="st">'a'</span>,<span class="st">'b'</span>,<span class="st">'c'</span>,<span class="st">'d'</span>,<span class="st">'e'</span>,<span class="st">'f'</span>])</span>
<span id="cb1042-2"><a href="pandas-1.html#cb1042-2" aria-hidden="true" tabindex="-1"></a>s[<span class="st">'e'</span>] <span class="op">=</span> <span class="dv">888</span></span>
<span id="cb1042-3"><a href="pandas-1.html#cb1042-3" aria-hidden="true" tabindex="-1"></a>s[[<span class="st">'c'</span>,<span class="st">'d'</span>]] <span class="op">=</span> <span class="dv">777</span>,<span class="dv">888</span></span>
<span id="cb1042-4"><a href="pandas-1.html#cb1042-4" aria-hidden="true" tabindex="-1"></a>s</span></code></pre></div>
<pre><code>#:&gt; a      1
#:&gt; b      2
#:&gt; c    777
#:&gt; d    888
#:&gt; e    888
#:&gt; f      6
#:&gt; dtype: int64</code></pre>
</div>
</div>
<div id="series-attributes" class="section level3" number="13.6.4">
<h3>
<span class="header-section-number">13.6.4</span> Series Attributes<a class="anchor" aria-label="anchor" href="#series-attributes"><i class="fas fa-link"></i></a>
</h3>
<div id="the-data" class="section level4" number="13.6.4.1">
<h4>
<span class="header-section-number">13.6.4.1</span> The Data<a class="anchor" aria-label="anchor" href="#the-data"><i class="fas fa-link"></i></a>
</h4>
<div class="sourceCode" id="cb1044"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1044-1"><a href="pandas-1.html#cb1044-1" aria-hidden="true" tabindex="-1"></a>s <span class="op">=</span> pd.Series([<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>],index<span class="op">=</span>[<span class="st">'a'</span>,<span class="st">'b'</span>,<span class="st">'c'</span>,<span class="st">'d'</span>,<span class="st">'e'</span>],name<span class="op">=</span><span class="st">'SuperHero'</span>) </span>
<span id="cb1044-2"><a href="pandas-1.html#cb1044-2" aria-hidden="true" tabindex="-1"></a>s</span></code></pre></div>
<pre><code>#:&gt; a    1
#:&gt; b    2
#:&gt; c    3
#:&gt; d    4
#:&gt; e    5
#:&gt; Name: SuperHero, dtype: int64</code></pre>
</div>
<div id="the-attributes" class="section level4" number="13.6.4.2">
<h4>
<span class="header-section-number">13.6.4.2</span> The Attributes<a class="anchor" aria-label="anchor" href="#the-attributes"><i class="fas fa-link"></i></a>
</h4>
<div class="sourceCode" id="cb1046"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1046-1"><a href="pandas-1.html#cb1046-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>( <span class="st">' Series Index:    '</span>,s.index, <span class="st">'</span><span class="ch">\n</span><span class="st">'</span>,</span>
<span id="cb1046-2"><a href="pandas-1.html#cb1046-2" aria-hidden="true" tabindex="-1"></a>       <span class="st">'Series dType:    '</span>, s.dtype, <span class="st">'</span><span class="ch">\n</span><span class="st">'</span>,</span>
<span id="cb1046-3"><a href="pandas-1.html#cb1046-3" aria-hidden="true" tabindex="-1"></a>       <span class="st">'Series Size:     '</span>, s.size, <span class="st">'</span><span class="ch">\n</span><span class="st">'</span>,</span>
<span id="cb1046-4"><a href="pandas-1.html#cb1046-4" aria-hidden="true" tabindex="-1"></a>       <span class="st">'Series Shape:    '</span>, s.shape, <span class="st">'</span><span class="ch">\n</span><span class="st">'</span>,</span>
<span id="cb1046-5"><a href="pandas-1.html#cb1046-5" aria-hidden="true" tabindex="-1"></a>       <span class="st">'Series Dimension:'</span>, s.ndim)</span></code></pre></div>
<pre><code>#:&gt;  Series Index:     Index(['a', 'b', 'c', 'd', 'e'], dtype='object') 
#:&gt;  Series dType:     int64 
#:&gt;  Series Size:      5 
#:&gt;  Series Shape:     (5,) 
#:&gt;  Series Dimension: 1</code></pre>
</div>
</div>
<div id="instance-methods-2" class="section level3" number="13.6.5">
<h3>
<span class="header-section-number">13.6.5</span> Instance Methods<a class="anchor" aria-label="anchor" href="#instance-methods-2"><i class="fas fa-link"></i></a>
</h3>
<div id="index-manipulation" class="section level4" number="13.6.5.1">
<h4>
<span class="header-section-number">13.6.5.1</span> Index Manipulation<a class="anchor" aria-label="anchor" href="#index-manipulation"><i class="fas fa-link"></i></a>
</h4>
<p><strong><code>.rename_axis()</code></strong></p>
<div class="sourceCode" id="cb1048"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1048-1"><a href="pandas-1.html#cb1048-1" aria-hidden="true" tabindex="-1"></a>s.rename_axis(<span class="st">'haribulan'</span>)</span></code></pre></div>
<pre><code>#:&gt; haribulan
#:&gt; a    1
#:&gt; b    2
#:&gt; c    3
#:&gt; d    4
#:&gt; e    5
#:&gt; Name: SuperHero, dtype: int64</code></pre>
<p><strong><code>.reset_index()</code></strong></p>
<p>Resetting index will:<br>
- Convert index to a normal column, with column named as <strong>‘index’</strong><br>
- Index renumbered to 1,2,3<br>
- Return <strong>DataFrame</strong> (became two columns)</p>
<div class="sourceCode" id="cb1050"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1050-1"><a href="pandas-1.html#cb1050-1" aria-hidden="true" tabindex="-1"></a>s.reset_index()</span></code></pre></div>
<pre><code>#:&gt;   index  SuperHero
#:&gt; 0     a          1
#:&gt; 1     b          2
#:&gt; 2     c          3
#:&gt; 3     d          4
#:&gt; 4     e          5</code></pre>
</div>
<div id="structure-conversion-1" class="section level4" number="13.6.5.2">
<h4>
<span class="header-section-number">13.6.5.2</span> Structure Conversion<a class="anchor" aria-label="anchor" href="#structure-conversion-1"><i class="fas fa-link"></i></a>
</h4>
<ul>
<li>A series structure contain <strong><code>value</code></strong> (in numpy array), its <strong><code>dtype</code></strong> (data type of the numpy array).<br>
</li>
<li>Use <strong><code>values</code></strong> to retrieve into `<code>numpy.ndarray</code>. Use <strong><code>dtype</code></strong> to understand the data type.</li>
</ul>
<div class="sourceCode" id="cb1052"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1052-1"><a href="pandas-1.html#cb1052-1" aria-hidden="true" tabindex="-1"></a>s <span class="op">=</span> pd.Series([<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>])</span>
<span id="cb1052-2"><a href="pandas-1.html#cb1052-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">' Series value:      '</span>, s.values, <span class="st">'</span><span class="ch">\n</span><span class="st">'</span>, </span>
<span id="cb1052-3"><a href="pandas-1.html#cb1052-3" aria-hidden="true" tabindex="-1"></a>      <span class="st">'Series value type: '</span>,  <span class="bu">type</span>(s.values), <span class="st">'</span><span class="ch">\n</span><span class="st">'</span>,</span>
<span id="cb1052-4"><a href="pandas-1.html#cb1052-4" aria-hidden="true" tabindex="-1"></a>      <span class="st">'Series dtype:      '</span>,  s.dtype)</span></code></pre></div>
<pre><code>#:&gt;  Series value:       [1 2 3 4 5] 
#:&gt;  Series value type:  &lt;class 'numpy.ndarray'&gt; 
#:&gt;  Series dtype:       int64</code></pre>
<p>Convert To List using <strong><code>.tolist()</code></strong></p>
<div class="sourceCode" id="cb1054"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1054-1"><a href="pandas-1.html#cb1054-1" aria-hidden="true" tabindex="-1"></a>pd.Series.tolist(s)</span></code></pre></div>
<pre><code>#:&gt; [1, 2, 3, 4, 5]</code></pre>
</div>
<div id="datatype-conversion" class="section level4" number="13.6.5.3">
<h4>
<span class="header-section-number">13.6.5.3</span> DataType Conversion<a class="anchor" aria-label="anchor" href="#datatype-conversion"><i class="fas fa-link"></i></a>
</h4>
<p>Use <strong><code>astype()</code></strong> to convert to another numpy supproted datatypes, results in a new Series.<br><strong>Warning</strong>: casting to incompatible type will result in <strong>error</strong></p>
<div class="sourceCode" id="cb1056"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1056-1"><a href="pandas-1.html#cb1056-1" aria-hidden="true" tabindex="-1"></a>s.astype(<span class="st">'int8'</span>)</span></code></pre></div>
<pre><code>#:&gt; 0    1
#:&gt; 1    2
#:&gt; 2    3
#:&gt; 3    4
#:&gt; 4    5
#:&gt; dtype: int8</code></pre>
</div>
</div>
<div id="series-operators" class="section level3" number="13.6.6">
<h3>
<span class="header-section-number">13.6.6</span> Series Operators<a class="anchor" aria-label="anchor" href="#series-operators"><i class="fas fa-link"></i></a>
</h3>
<p>The result of applying operator (arithmetic or logic) to Series object <strong>returns a new Series object</strong></p>
<div id="arithmetic-operator" class="section level4" number="13.6.6.1">
<h4>
<span class="header-section-number">13.6.6.1</span> Arithmetic Operator<a class="anchor" aria-label="anchor" href="#arithmetic-operator"><i class="fas fa-link"></i></a>
</h4>
<div class="sourceCode" id="cb1058"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1058-1"><a href="pandas-1.html#cb1058-1" aria-hidden="true" tabindex="-1"></a>s1 <span class="op">=</span> pd.Series( [<span class="dv">100</span>,<span class="dv">200</span>,<span class="dv">300</span>,<span class="dv">400</span>,<span class="dv">500</span>] )</span>
<span id="cb1058-2"><a href="pandas-1.html#cb1058-2" aria-hidden="true" tabindex="-1"></a>s2 <span class="op">=</span> pd.Series( [<span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">30</span>, <span class="dv">40</span>, <span class="dv">50</span>] )</span></code></pre></div>
<p><strong>Apply To One Series Object</strong></p>
<div class="sourceCode" id="cb1059"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1059-1"><a href="pandas-1.html#cb1059-1" aria-hidden="true" tabindex="-1"></a>s1 <span class="op">-</span> <span class="dv">100</span></span></code></pre></div>
<pre><code>#:&gt; 0      0
#:&gt; 1    100
#:&gt; 2    200
#:&gt; 3    300
#:&gt; 4    400
#:&gt; dtype: int64</code></pre>
<p><strong>Apply To Two Series Objects</strong></p>
<div class="sourceCode" id="cb1061"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1061-1"><a href="pandas-1.html#cb1061-1" aria-hidden="true" tabindex="-1"></a>s1 <span class="op">-</span> s2</span></code></pre></div>
<pre><code>#:&gt; 0     90
#:&gt; 1    180
#:&gt; 2    270
#:&gt; 3    360
#:&gt; 4    450
#:&gt; dtype: int64</code></pre>
</div>
<div id="logic-operator" class="section level4" number="13.6.6.2">
<h4>
<span class="header-section-number">13.6.6.2</span> Logic Operator<a class="anchor" aria-label="anchor" href="#logic-operator"><i class="fas fa-link"></i></a>
</h4>
<ul>
<li>Apply logic operator to a Series return a <strong>new Series</strong> of boolean result<br>
</li>
<li>This can be used for <strong>Series or DataFrame filtering</strong>
</li>
</ul>
<div class="sourceCode" id="cb1063"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1063-1"><a href="pandas-1.html#cb1063-1" aria-hidden="true" tabindex="-1"></a>bs <span class="op">=</span> pd.Series(<span class="bu">range</span>(<span class="dv">0</span>,<span class="dv">10</span>))</span>
<span id="cb1063-2"><a href="pandas-1.html#cb1063-2" aria-hidden="true" tabindex="-1"></a>bs<span class="op">&gt;</span><span class="dv">3</span></span></code></pre></div>
<pre><code>#:&gt; 0    False
#:&gt; 1    False
#:&gt; 2    False
#:&gt; 3    False
#:&gt; 4     True
#:&gt; 5     True
#:&gt; 6     True
#:&gt; 7     True
#:&gt; 8     True
#:&gt; 9     True
#:&gt; dtype: bool</code></pre>
<div class="sourceCode" id="cb1065"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1065-1"><a href="pandas-1.html#cb1065-1" aria-hidden="true" tabindex="-1"></a><span class="op">~</span>((bs<span class="op">&gt;</span><span class="dv">3</span>) <span class="op">&amp;</span> (bs<span class="op">&lt;</span><span class="dv">8</span>) <span class="op">|</span> (bs<span class="op">&gt;</span><span class="dv">7</span>))</span></code></pre></div>
<pre><code>#:&gt; 0     True
#:&gt; 1     True
#:&gt; 2     True
#:&gt; 3     True
#:&gt; 4    False
#:&gt; 5    False
#:&gt; 6    False
#:&gt; 7    False
#:&gt; 8    False
#:&gt; 9    False
#:&gt; dtype: bool</code></pre>
</div>
</div>
<div id="series-.str-accesor" class="section level3" number="13.6.7">
<h3>
<span class="header-section-number">13.6.7</span> Series <code>.str</code> Accesor<a class="anchor" aria-label="anchor" href="#series-.str-accesor"><i class="fas fa-link"></i></a>
</h3>
<p>If the underlying data is <strong>str</strong> type, then pandas exposed various properties and methos through <strong><code>str</code> accessor</strong>.</p>
<pre><code>SeriesObj.str.operatorFunction()</code></pre>
<p><strong>Available Functions</strong></p>
<p>Nearly all Python’s built-in string methods are mirrored by a Pandas vectorized string method. Here is a list of Pandas str methods that mirror Python string methods:</p>
<p>len() lower() translate() islower()
ljust() upper() startswith() isupper()
rjust() find() endswith() isnumeric()
center() rfind() isalnum() isdecimal()
zfill() index() isalpha() split()
strip() rindex() isdigit() rsplit()
rstrip() capitalize() isspace() partition()
lstrip() swapcase() istitle() rpartition()</p>
<div id="regex-extractor" class="section level4" number="13.6.7.1">
<h4>
<span class="header-section-number">13.6.7.1</span> Regex Extractor<a class="anchor" aria-label="anchor" href="#regex-extractor"><i class="fas fa-link"></i></a>
</h4>
<p>Extract capture <strong>groups</strong> in the regex pattern, by default in DataFrame (<code>expand=True</code>).</p>
<pre><code>Series.str.extract(self, pat, flags=0, expand=True)
- expand=True: if result is single column, make it a Series instead of Dataframe.</code></pre>
<div class="sourceCode" id="cb1069"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1069-1"><a href="pandas-1.html#cb1069-1" aria-hidden="true" tabindex="-1"></a>s <span class="op">=</span> pd.Series([<span class="st">'a1'</span>, <span class="st">'b2'</span>, <span class="st">'c3'</span>])</span>
<span id="cb1069-2"><a href="pandas-1.html#cb1069-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>( </span>
<span id="cb1069-3"><a href="pandas-1.html#cb1069-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">' Extracted Dataframe:</span><span class="ch">\n</span><span class="st">'</span>, s.<span class="bu">str</span>.extract(<span class="vs">r'([ab])(\d)'</span>),<span class="st">'</span><span class="ch">\n\n</span><span class="st">'</span>,</span>
<span id="cb1069-4"><a href="pandas-1.html#cb1069-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">'Extracted Dataframe witn Names:</span><span class="ch">\n</span><span class="st">'</span>, s.<span class="bu">str</span>.extract(<span class="vs">r'(?P&lt;Letter&gt;[ab])(\d)'</span>))</span></code></pre></div>
<pre><code>#:&gt;  Extracted Dataframe:
#:&gt;       0    1
#:&gt; 0    a    1
#:&gt; 1    b    2
#:&gt; 2  NaN  NaN 
#:&gt; 
#:&gt;  Extracted Dataframe witn Names:
#:&gt;    Letter    1
#:&gt; 0      a    1
#:&gt; 1      b    2
#:&gt; 2    NaN  NaN</code></pre>
<p>Below ouptut single columne, use <strong><code>expand=False</code></strong> to make the result a <strong>Series</strong>, instead of DataFrame.</p>
<div class="sourceCode" id="cb1071"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1071-1"><a href="pandas-1.html#cb1071-1" aria-hidden="true" tabindex="-1"></a>r <span class="op">=</span> s.<span class="bu">str</span>.extract(<span class="vs">r'[ab](\d)'</span>, expand<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb1071-2"><a href="pandas-1.html#cb1071-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>( r, <span class="st">'</span><span class="ch">\n\n</span><span class="st">'</span>, <span class="bu">type</span>(r) )</span></code></pre></div>
<pre><code>#:&gt; 0      1
#:&gt; 1      2
#:&gt; 2    NaN
#:&gt; dtype: object 
#:&gt; 
#:&gt;  &lt;class 'pandas.core.series.Series'&gt;</code></pre>
</div>
<div id="character-extractor" class="section level4" number="13.6.7.2">
<h4>
<span class="header-section-number">13.6.7.2</span> Character Extractor<a class="anchor" aria-label="anchor" href="#character-extractor"><i class="fas fa-link"></i></a>
</h4>
<div class="sourceCode" id="cb1073"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1073-1"><a href="pandas-1.html#cb1073-1" aria-hidden="true" tabindex="-1"></a>monte <span class="op">=</span> pd.Series([<span class="st">'Graham Chapman'</span>, <span class="st">'John Cleese'</span>, <span class="st">'Terry Gilliam'</span>,</span>
<span id="cb1073-2"><a href="pandas-1.html#cb1073-2" aria-hidden="true" tabindex="-1"></a>                   <span class="st">'Eric Idle'</span>, <span class="st">'Terry Jones'</span>, <span class="st">'Michael Palin'</span>])</span>
<span id="cb1073-3"><a href="pandas-1.html#cb1073-3" aria-hidden="true" tabindex="-1"></a>monte</span></code></pre></div>
<pre><code>#:&gt; 0    Graham Chapman
#:&gt; 1       John Cleese
#:&gt; 2     Terry Gilliam
#:&gt; 3         Eric Idle
#:&gt; 4       Terry Jones
#:&gt; 5     Michael Palin
#:&gt; dtype: object</code></pre>
<p><strong><code>startwith</code></strong></p>
<div class="sourceCode" id="cb1075"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1075-1"><a href="pandas-1.html#cb1075-1" aria-hidden="true" tabindex="-1"></a>monte.<span class="bu">str</span>.startswith(<span class="st">'T'</span>)</span></code></pre></div>
<pre><code>#:&gt; 0    False
#:&gt; 1    False
#:&gt; 2     True
#:&gt; 3    False
#:&gt; 4     True
#:&gt; 5    False
#:&gt; dtype: bool</code></pre>
<p><strong><code>Slicing</code></strong></p>
<div class="sourceCode" id="cb1077"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1077-1"><a href="pandas-1.html#cb1077-1" aria-hidden="true" tabindex="-1"></a>monte.<span class="bu">str</span>[<span class="dv">0</span>:<span class="dv">3</span>]</span></code></pre></div>
<pre><code>#:&gt; 0    Gra
#:&gt; 1    Joh
#:&gt; 2    Ter
#:&gt; 3    Eri
#:&gt; 4    Ter
#:&gt; 5    Mic
#:&gt; dtype: object</code></pre>
</div>
<div id="splitting" class="section level4" number="13.6.7.3">
<h4>
<span class="header-section-number">13.6.7.3</span> Splitting<a class="anchor" aria-label="anchor" href="#splitting"><i class="fas fa-link"></i></a>
</h4>
<p>Split strings around given separator/delimiter in either string or regex.</p>
<pre><code>Series.str.split(self, pat=None, n=-1, expand=False)
- pat: can be string or regex</code></pre>
<div class="sourceCode" id="cb1080"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1080-1"><a href="pandas-1.html#cb1080-1" aria-hidden="true" tabindex="-1"></a>s <span class="op">=</span> pd.Series([<span class="st">'a_b_c'</span>, <span class="st">'c_d_e'</span>, np.nan, <span class="st">'f_g_h_i_j'</span>])</span>
<span id="cb1080-2"><a href="pandas-1.html#cb1080-2" aria-hidden="true" tabindex="-1"></a>s</span></code></pre></div>
<pre><code>#:&gt; 0        a_b_c
#:&gt; 1        c_d_e
#:&gt; 2          NaN
#:&gt; 3    f_g_h_i_j
#:&gt; dtype: object</code></pre>
<p><strong><code>str.split()</code></strong> by default, split will split each item into <strong>array</strong></p>
<div class="sourceCode" id="cb1082"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1082-1"><a href="pandas-1.html#cb1082-1" aria-hidden="true" tabindex="-1"></a>s.<span class="bu">str</span>.split(<span class="st">'_'</span>)</span></code></pre></div>
<pre><code>#:&gt; 0          [a, b, c]
#:&gt; 1          [c, d, e]
#:&gt; 2                NaN
#:&gt; 3    [f, g, h, i, j]
#:&gt; dtype: object</code></pre>
<p><strong><code>expand=True</code></strong> will return a <strong>dataframe</strong> instead of series. By default, expand split into all possible columns.</p>
<div class="sourceCode" id="cb1084"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1084-1"><a href="pandas-1.html#cb1084-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>( s.<span class="bu">str</span>.split(<span class="st">'_'</span>, expand<span class="op">=</span><span class="va">True</span>) )</span></code></pre></div>
<pre><code>#:&gt;      0    1    2     3     4
#:&gt; 0    a    b    c  None  None
#:&gt; 1    c    d    e  None  None
#:&gt; 2  NaN  NaN  NaN   NaN   NaN
#:&gt; 3    f    g    h     i     j</code></pre>
<p>It is possible to limit the number of columns splitted</p>
<div class="sourceCode" id="cb1086"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1086-1"><a href="pandas-1.html#cb1086-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>( s.<span class="bu">str</span>.split(<span class="st">'_'</span>, expand<span class="op">=</span><span class="va">True</span>, n<span class="op">=</span><span class="dv">1</span>) )</span></code></pre></div>
<pre><code>#:&gt;      0        1
#:&gt; 0    a      b_c
#:&gt; 1    c      d_e
#:&gt; 2  NaN      NaN
#:&gt; 3    f  g_h_i_j</code></pre>
<p><strong><code>str.rsplit()</code></strong></p>
<p><strong><code>rsplit</code></strong> stands for <strong>reverse split</strong>, it works the same way, except it is reversed</p>
<div class="sourceCode" id="cb1088"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1088-1"><a href="pandas-1.html#cb1088-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>( s.<span class="bu">str</span>.rsplit(<span class="st">'_'</span>, expand<span class="op">=</span><span class="va">True</span>, n<span class="op">=</span><span class="dv">1</span>) )</span></code></pre></div>
<pre><code>#:&gt;          0    1
#:&gt; 0      a_b    c
#:&gt; 1      c_d    e
#:&gt; 2      NaN  NaN
#:&gt; 3  f_g_h_i    j</code></pre>
</div>
<div id="case-conversion" class="section level4" number="13.6.7.4">
<h4>
<span class="header-section-number">13.6.7.4</span> Case Conversion<a class="anchor" aria-label="anchor" href="#case-conversion"><i class="fas fa-link"></i></a>
</h4>
<pre><code>SeriesObj.str.upper()
SeriesObj.str.lower()
SeriesObj.str.capitalize()</code></pre>
<div class="sourceCode" id="cb1091"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1091-1"><a href="pandas-1.html#cb1091-1" aria-hidden="true" tabindex="-1"></a>s <span class="op">=</span> pd.Series([<span class="st">'A'</span>, <span class="st">'B'</span>, <span class="st">'C'</span>, <span class="st">'aAba'</span>, <span class="st">'bBaca'</span>, np.nan, <span class="st">'cCABA'</span>, <span class="st">'dog'</span>, <span class="st">'cat'</span>])</span>
<span id="cb1091-2"><a href="pandas-1.html#cb1091-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>( s.<span class="bu">str</span>.upper(), <span class="st">'</span><span class="ch">\n</span><span class="st">'</span>,</span>
<span id="cb1091-3"><a href="pandas-1.html#cb1091-3" aria-hidden="true" tabindex="-1"></a>       s.<span class="bu">str</span>.capitalize())</span></code></pre></div>
<pre><code>#:&gt; 0        A
#:&gt; 1        B
#:&gt; 2        C
#:&gt; 3     AABA
#:&gt; 4    BBACA
#:&gt; 5      NaN
#:&gt; 6    CCABA
#:&gt; 7      DOG
#:&gt; 8      CAT
#:&gt; dtype: object 
#:&gt;  0        A
#:&gt; 1        B
#:&gt; 2        C
#:&gt; 3     Aaba
#:&gt; 4    Bbaca
#:&gt; 5      NaN
#:&gt; 6    Ccaba
#:&gt; 7      Dog
#:&gt; 8      Cat
#:&gt; dtype: object</code></pre>
</div>
<div id="number-of-characters" class="section level4" number="13.6.7.5">
<h4>
<span class="header-section-number">13.6.7.5</span> Number of Characters<a class="anchor" aria-label="anchor" href="#number-of-characters"><i class="fas fa-link"></i></a>
</h4>
<div class="sourceCode" id="cb1093"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1093-1"><a href="pandas-1.html#cb1093-1" aria-hidden="true" tabindex="-1"></a>s.<span class="bu">str</span>.<span class="bu">len</span>()</span></code></pre></div>
<pre><code>#:&gt; 0    1.0
#:&gt; 1    1.0
#:&gt; 2    1.0
#:&gt; 3    4.0
#:&gt; 4    5.0
#:&gt; 5    NaN
#:&gt; 6    5.0
#:&gt; 7    3.0
#:&gt; 8    3.0
#:&gt; dtype: float64</code></pre>
</div>
<div id="string-indexing" class="section level4" number="13.6.7.6">
<h4>
<span class="header-section-number">13.6.7.6</span> String Indexing<a class="anchor" aria-label="anchor" href="#string-indexing"><i class="fas fa-link"></i></a>
</h4>
<p>This return specified character from each item.</p>
<div class="sourceCode" id="cb1095"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1095-1"><a href="pandas-1.html#cb1095-1" aria-hidden="true" tabindex="-1"></a>s <span class="op">=</span> pd.Series([<span class="st">'A'</span>, <span class="st">'B'</span>, <span class="st">'C'</span>, <span class="st">'Aaba'</span>, <span class="st">'Baca'</span>, np.nan,<span class="st">'CABA'</span>, <span class="st">'dog'</span>, <span class="st">'cat'</span>])</span>
<span id="cb1095-2"><a href="pandas-1.html#cb1095-2" aria-hidden="true" tabindex="-1"></a>s.<span class="bu">str</span>[<span class="dv">0</span>].values    <span class="co"># first char</span></span></code></pre></div>
<pre><code>#:&gt; array(['A', 'B', 'C', 'A', 'B', nan, 'C', 'd', 'c'], dtype=object)</code></pre>
<div class="sourceCode" id="cb1097"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1097-1"><a href="pandas-1.html#cb1097-1" aria-hidden="true" tabindex="-1"></a>s.<span class="bu">str</span>[<span class="dv">0</span>:<span class="dv">2</span>].values  <span class="co"># first and second char</span></span></code></pre></div>
<pre><code>#:&gt; array(['A', 'B', 'C', 'Aa', 'Ba', nan, 'CA', 'do', 'ca'], dtype=object)</code></pre>
</div>
<div id="series-substring-extraction" class="section level4" number="13.6.7.7">
<h4>
<span class="header-section-number">13.6.7.7</span> Series Substring Extraction<a class="anchor" aria-label="anchor" href="#series-substring-extraction"><i class="fas fa-link"></i></a>
</h4>
<p><strong>Sample Data</strong></p>
<div class="sourceCode" id="cb1099"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1099-1"><a href="pandas-1.html#cb1099-1" aria-hidden="true" tabindex="-1"></a>s <span class="op">=</span> pd.Series([<span class="st">'a1'</span>, <span class="st">'b2'</span>, <span class="st">'c3'</span>])</span>
<span id="cb1099-2"><a href="pandas-1.html#cb1099-2" aria-hidden="true" tabindex="-1"></a>s</span></code></pre></div>
<pre><code>#:&gt; 0    a1
#:&gt; 1    b2
#:&gt; 2    c3
#:&gt; dtype: object</code></pre>
<p><strong>Extract absed on regex matching</strong><br>
… to improve …</p>
<div class="sourceCode" id="cb1101"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1101-1"><a href="pandas-1.html#cb1101-1" aria-hidden="true" tabindex="-1"></a><span class="bu">type</span>(s.<span class="bu">str</span>.extract(<span class="st">'([ab])(\d)'</span>, expand<span class="op">=</span><span class="va">False</span>))</span></code></pre></div>
<pre><code>#:&gt; &lt;class 'pandas.core.frame.DataFrame'&gt;</code></pre>
</div>
</div>
<div id="series-.dt-accessor" class="section level3" number="13.6.8">
<h3>
<span class="header-section-number">13.6.8</span> Series <code>.dt</code> Accessor<a class="anchor" aria-label="anchor" href="#series-.dt-accessor"><i class="fas fa-link"></i></a>
</h3>
<p>If the underlying data is <strong>datetime64</strong> type, then pandas exposed various properties and methos through <strong><code>dt</code> accessor</strong>.</p>
<div id="sample-data-5" class="section level4" number="13.6.8.1">
<h4>
<span class="header-section-number">13.6.8.1</span> Sample Data<a class="anchor" aria-label="anchor" href="#sample-data-5"><i class="fas fa-link"></i></a>
</h4>
<div class="sourceCode" id="cb1103"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1103-1"><a href="pandas-1.html#cb1103-1" aria-hidden="true" tabindex="-1"></a>s <span class="op">=</span> pd.Series([</span>
<span id="cb1103-2"><a href="pandas-1.html#cb1103-2" aria-hidden="true" tabindex="-1"></a>    datetime(<span class="dv">2000</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>),</span>
<span id="cb1103-3"><a href="pandas-1.html#cb1103-3" aria-hidden="true" tabindex="-1"></a>    datetime(<span class="dv">1999</span>,<span class="dv">12</span>,<span class="dv">15</span>,<span class="dv">12</span>,<span class="dv">34</span>,<span class="dv">55</span>),</span>
<span id="cb1103-4"><a href="pandas-1.html#cb1103-4" aria-hidden="true" tabindex="-1"></a>    datetime(<span class="dv">2020</span>,<span class="dv">3</span>,<span class="dv">8</span>,<span class="dv">5</span>,<span class="dv">7</span>,<span class="dv">12</span>),</span>
<span id="cb1103-5"><a href="pandas-1.html#cb1103-5" aria-hidden="true" tabindex="-1"></a>    datetime(<span class="dv">2018</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>),</span>
<span id="cb1103-6"><a href="pandas-1.html#cb1103-6" aria-hidden="true" tabindex="-1"></a>    datetime(<span class="dv">2003</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span>,<span class="dv">7</span>)</span>
<span id="cb1103-7"><a href="pandas-1.html#cb1103-7" aria-hidden="true" tabindex="-1"></a>])</span>
<span id="cb1103-8"><a href="pandas-1.html#cb1103-8" aria-hidden="true" tabindex="-1"></a>s</span></code></pre></div>
<pre><code>#:&gt; 0   2000-01-01 00:00:00
#:&gt; 1   1999-12-15 12:34:55
#:&gt; 2   2020-03-08 05:07:12
#:&gt; 3   2018-01-01 00:00:00
#:&gt; 4   2003-03-04 05:06:07
#:&gt; dtype: datetime64[ns]</code></pre>
</div>
<div id="convert-to" class="section level4" number="13.6.8.2">
<h4>
<span class="header-section-number">13.6.8.2</span> Convert To<a class="anchor" aria-label="anchor" href="#convert-to"><i class="fas fa-link"></i></a>
</h4>
<p><strong>datetime.datetime</strong><br>
Use <strong><code>to_pydatetime()</code></strong> to convert into <strong><code>numpy.array</code></strong> of standard library <strong><code>datetime.datetime</code></strong></p>
<div class="sourceCode" id="cb1105"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1105-1"><a href="pandas-1.html#cb1105-1" aria-hidden="true" tabindex="-1"></a>pdt  <span class="op">=</span> s.dt.to_pydatetime()</span>
<span id="cb1105-2"><a href="pandas-1.html#cb1105-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>( <span class="bu">type</span>(pdt) )</span></code></pre></div>
<pre><code>#:&gt; &lt;class 'numpy.ndarray'&gt;</code></pre>
<div class="sourceCode" id="cb1107"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1107-1"><a href="pandas-1.html#cb1107-1" aria-hidden="true" tabindex="-1"></a>pdt</span></code></pre></div>
<pre><code>#:&gt; array([datetime.datetime(2000, 1, 1, 0, 0),
#:&gt;        datetime.datetime(1999, 12, 15, 12, 34, 55),
#:&gt;        datetime.datetime(2020, 3, 8, 5, 7, 12),
#:&gt;        datetime.datetime(2018, 1, 1, 0, 0),
#:&gt;        datetime.datetime(2003, 3, 4, 5, 6, 7)], dtype=object)</code></pre>
<p><strong>datetime.date</strong><br>
Use <strong><code>dt.date</code></strong> to convert into <strong><code>pandas.Series</code></strong> of standard library <strong><code>datetime.date</code></strong><br>
Is it possible to have a pandas.Series of datetime.datetime ? No, because Pandas want it as its own Timestamp.</p>
<div class="sourceCode" id="cb1109"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1109-1"><a href="pandas-1.html#cb1109-1" aria-hidden="true" tabindex="-1"></a>sdt <span class="op">=</span> s.dt.date</span>
<span id="cb1109-2"><a href="pandas-1.html#cb1109-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>( <span class="bu">type</span>(sdt[<span class="dv">1</span>] ))</span></code></pre></div>
<pre><code>#:&gt; &lt;class 'datetime.date'&gt;</code></pre>
<div class="sourceCode" id="cb1111"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1111-1"><a href="pandas-1.html#cb1111-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>( <span class="bu">type</span>(sdt))</span></code></pre></div>
<pre><code>#:&gt; &lt;class 'pandas.core.series.Series'&gt;</code></pre>
<div class="sourceCode" id="cb1113"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1113-1"><a href="pandas-1.html#cb1113-1" aria-hidden="true" tabindex="-1"></a>sdt</span></code></pre></div>
<pre><code>#:&gt; 0    2000-01-01
#:&gt; 1    1999-12-15
#:&gt; 2    2020-03-08
#:&gt; 3    2018-01-01
#:&gt; 4    2003-03-04
#:&gt; dtype: object</code></pre>
</div>
<div id="timestamp-attributes" class="section level4" number="13.6.8.3">
<h4>
<span class="header-section-number">13.6.8.3</span> Timestamp Attributes<a class="anchor" aria-label="anchor" href="#timestamp-attributes"><i class="fas fa-link"></i></a>
</h4>
<p>A Series::DateTime object support below properties:<br>
- date<br>
- month<br>
- day<br>
- year<br>
- dayofweek<br>
- dayofyear<br>
- weekday<br>
- weekday_name<br>
- quarter<br>
- daysinmonth<br>
- hour
- minute</p>
<p>Full list below:<br><a href="https://pandas.pydata.org/pandas-docs/stable/reference/series.html#datetimelike-properties" class="uri">https://pandas.pydata.org/pandas-docs/stable/reference/series.html#datetimelike-properties</a></p>
<div class="sourceCode" id="cb1115"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1115-1"><a href="pandas-1.html#cb1115-1" aria-hidden="true" tabindex="-1"></a>s.dt.date</span></code></pre></div>
<pre><code>#:&gt; 0    2000-01-01
#:&gt; 1    1999-12-15
#:&gt; 2    2020-03-08
#:&gt; 3    2018-01-01
#:&gt; 4    2003-03-04
#:&gt; dtype: object</code></pre>
<div class="sourceCode" id="cb1117"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1117-1"><a href="pandas-1.html#cb1117-1" aria-hidden="true" tabindex="-1"></a>s.dt.month</span></code></pre></div>
<pre><code>#:&gt; 0     1
#:&gt; 1    12
#:&gt; 2     3
#:&gt; 3     1
#:&gt; 4     3
#:&gt; dtype: int64</code></pre>
<div class="sourceCode" id="cb1119"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1119-1"><a href="pandas-1.html#cb1119-1" aria-hidden="true" tabindex="-1"></a>s.dt.dayofweek</span></code></pre></div>
<pre><code>#:&gt; 0    5
#:&gt; 1    2
#:&gt; 2    6
#:&gt; 3    0
#:&gt; 4    1
#:&gt; dtype: int64</code></pre>
<div class="sourceCode" id="cb1121"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1121-1"><a href="pandas-1.html#cb1121-1" aria-hidden="true" tabindex="-1"></a>s.dt.weekday</span></code></pre></div>
<pre><code>#:&gt; 0    5
#:&gt; 1    2
#:&gt; 2    6
#:&gt; 3    0
#:&gt; 4    1
#:&gt; dtype: int64</code></pre>
<div class="sourceCode" id="cb1123"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1123-1"><a href="pandas-1.html#cb1123-1" aria-hidden="true" tabindex="-1"></a><span class="co"># error no attribute weekday_name</span></span>
<span id="cb1123-2"><a href="pandas-1.html#cb1123-2" aria-hidden="true" tabindex="-1"></a>s.dt.weekday_name</span></code></pre></div>
<div class="sourceCode" id="cb1124"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1124-1"><a href="pandas-1.html#cb1124-1" aria-hidden="true" tabindex="-1"></a>s.dt.quarter</span></code></pre></div>
<pre><code>#:&gt; 0    1
#:&gt; 1    4
#:&gt; 2    1
#:&gt; 3    1
#:&gt; 4    1
#:&gt; dtype: int64</code></pre>
<div class="sourceCode" id="cb1126"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1126-1"><a href="pandas-1.html#cb1126-1" aria-hidden="true" tabindex="-1"></a>s.dt.daysinmonth</span></code></pre></div>
<pre><code>#:&gt; 0    31
#:&gt; 1    31
#:&gt; 2    31
#:&gt; 3    31
#:&gt; 4    31
#:&gt; dtype: int64</code></pre>
<div class="sourceCode" id="cb1128"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1128-1"><a href="pandas-1.html#cb1128-1" aria-hidden="true" tabindex="-1"></a>s.dt.time   <span class="co"># extract time as time Object</span></span></code></pre></div>
<pre><code>#:&gt; 0    00:00:00
#:&gt; 1    12:34:55
#:&gt; 2    05:07:12
#:&gt; 3    00:00:00
#:&gt; 4    05:06:07
#:&gt; dtype: object</code></pre>
<div class="sourceCode" id="cb1130"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1130-1"><a href="pandas-1.html#cb1130-1" aria-hidden="true" tabindex="-1"></a>s.dt.hour  <span class="co"># extract hour as integer</span></span></code></pre></div>
<pre><code>#:&gt; 0     0
#:&gt; 1    12
#:&gt; 2     5
#:&gt; 3     0
#:&gt; 4     5
#:&gt; dtype: int64</code></pre>
<div class="sourceCode" id="cb1132"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1132-1"><a href="pandas-1.html#cb1132-1" aria-hidden="true" tabindex="-1"></a>s.dt.minute <span class="co"># extract minute as integer</span></span></code></pre></div>
<pre><code>#:&gt; 0     0
#:&gt; 1    34
#:&gt; 2     7
#:&gt; 3     0
#:&gt; 4     6
#:&gt; dtype: int64</code></pre>
</div>
</div>
</div>
<div id="class-dataframe" class="section level2" number="13.7">
<h2>
<span class="header-section-number">13.7</span> class: DataFrame<a class="anchor" aria-label="anchor" href="#class-dataframe"><i class="fas fa-link"></i></a>
</h2>
<div id="constructor-10" class="section level3" number="13.7.1">
<h3>
<span class="header-section-number">13.7.1</span> Constructor<a class="anchor" aria-label="anchor" href="#constructor-10"><i class="fas fa-link"></i></a>
</h3>
<div id="empty-dataframe" class="section level4" number="13.7.1.1">
<h4>
<span class="header-section-number">13.7.1.1</span> Empty DataFrame<a class="anchor" aria-label="anchor" href="#empty-dataframe"><i class="fas fa-link"></i></a>
</h4>
<p>By default, An empty dataframe contain no coumns and index.</p>
<div class="sourceCode" id="cb1134"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1134-1"><a href="pandas-1.html#cb1134-1" aria-hidden="true" tabindex="-1"></a>empty_df1 <span class="op">=</span> pd.DataFrame()</span>
<span id="cb1134-2"><a href="pandas-1.html#cb1134-2" aria-hidden="true" tabindex="-1"></a>empty_df2 <span class="op">=</span> pd.DataFrame()</span>
<span id="cb1134-3"><a href="pandas-1.html#cb1134-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">id</span>(empty_df1), <span class="bu">id</span>(empty_df2), empty_df1)</span></code></pre></div>
<pre><code>#:&gt; 139846050648016 139846061680592 Empty DataFrame
#:&gt; Columns: []
#:&gt; Index: []</code></pre>
<p>However, you can also initialize an empty DataFrame with Index and/or Columns.</p>
<div class="sourceCode" id="cb1136"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1136-1"><a href="pandas-1.html#cb1136-1" aria-hidden="true" tabindex="-1"></a>empty_df <span class="op">=</span> pd.DataFrame(columns<span class="op">=</span>[<span class="st">'A'</span>,<span class="st">'B'</span>,<span class="st">'C'</span>], index<span class="op">=</span>[<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>])</span>
<span id="cb1136-2"><a href="pandas-1.html#cb1136-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>( empty_df )</span></code></pre></div>
<pre><code>#:&gt;      A    B    C
#:&gt; 1  NaN  NaN  NaN
#:&gt; 2  NaN  NaN  NaN
#:&gt; 3  NaN  NaN  NaN</code></pre>
<p>Take note that below empty_df1 and empty_df2 refers to <strong>same memory location</strong>. Meaning they cantain similar data.</p>
<div class="sourceCode" id="cb1138"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1138-1"><a href="pandas-1.html#cb1138-1" aria-hidden="true" tabindex="-1"></a>empty_df1 <span class="op">=</span> empty_df2 <span class="op">=</span> pd.DataFrame()</span>
<span id="cb1138-2"><a href="pandas-1.html#cb1138-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">id</span>(empty_df1), <span class="bu">id</span>(empty_df2))</span></code></pre></div>
<pre><code>#:&gt; 139846091012048 139846091012048</code></pre>
</div>
<div id="from-row-oriented-data-list-of-lists" class="section level4" number="13.7.1.2">
<h4>
<span class="header-section-number">13.7.1.2</span> From Row Oriented Data (List of Lists)<a class="anchor" aria-label="anchor" href="#from-row-oriented-data-list-of-lists"><i class="fas fa-link"></i></a>
</h4>
<p>Create from <strong>List of Lists</strong></p>
<pre><code>DataFrame( [row_list1, row_list2, row_list3] )
DataFrame( [row_list1, row_list2, row_list3], column = columnName_list )
DataFrame( [row_list1, row_list2, row_list3], index  = row_label_list )</code></pre>
<p><strong>Basic DataFrame with default Row Label and Column Header</strong></p>
<div class="sourceCode" id="cb1141"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1141-1"><a href="pandas-1.html#cb1141-1" aria-hidden="true" tabindex="-1"></a>pd.DataFrame ([[<span class="dv">101</span>,<span class="st">'Alice'</span>,<span class="dv">40000</span>,<span class="dv">2017</span>],</span>
<span id="cb1141-2"><a href="pandas-1.html#cb1141-2" aria-hidden="true" tabindex="-1"></a>               [<span class="dv">102</span>,<span class="st">'Bob'</span>,  <span class="dv">24000</span>, <span class="dv">2017</span>], </span>
<span id="cb1141-3"><a href="pandas-1.html#cb1141-3" aria-hidden="true" tabindex="-1"></a>               [<span class="dv">103</span>,<span class="st">'Charles'</span>,<span class="dv">31000</span>,<span class="dv">2017</span>]] )</span></code></pre></div>
<pre><code>#:&gt;      0        1      2     3
#:&gt; 0  101    Alice  40000  2017
#:&gt; 1  102      Bob  24000  2017
#:&gt; 2  103  Charles  31000  2017</code></pre>
<p><strong>Specify Column Header during Creation</strong></p>
<div class="sourceCode" id="cb1143"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1143-1"><a href="pandas-1.html#cb1143-1" aria-hidden="true" tabindex="-1"></a>pd.DataFrame ([[<span class="dv">101</span>,<span class="st">'Alice'</span>,<span class="dv">40000</span>,<span class="dv">2017</span>],</span>
<span id="cb1143-2"><a href="pandas-1.html#cb1143-2" aria-hidden="true" tabindex="-1"></a>               [<span class="dv">102</span>,<span class="st">'Bob'</span>,  <span class="dv">24000</span>, <span class="dv">2017</span>], </span>
<span id="cb1143-3"><a href="pandas-1.html#cb1143-3" aria-hidden="true" tabindex="-1"></a>               [<span class="dv">103</span>,<span class="st">'Charles'</span>,<span class="dv">31000</span>,<span class="dv">2017</span>]], columns <span class="op">=</span> [<span class="st">'empID'</span>,<span class="st">'name'</span>,<span class="st">'salary'</span>,<span class="st">'year'</span>])</span></code></pre></div>
<pre><code>#:&gt;    empID     name  salary  year
#:&gt; 0    101    Alice   40000  2017
#:&gt; 1    102      Bob   24000  2017
#:&gt; 2    103  Charles   31000  2017</code></pre>
<p><strong>Specify Row Label during Creation</strong></p>
<div class="sourceCode" id="cb1145"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1145-1"><a href="pandas-1.html#cb1145-1" aria-hidden="true" tabindex="-1"></a>pd.DataFrame ([[<span class="dv">101</span>,<span class="st">'Alice'</span>,<span class="dv">40000</span>,<span class="dv">2017</span>],</span>
<span id="cb1145-2"><a href="pandas-1.html#cb1145-2" aria-hidden="true" tabindex="-1"></a>               [<span class="dv">102</span>,<span class="st">'Bob'</span>,  <span class="dv">24000</span>, <span class="dv">2017</span>], </span>
<span id="cb1145-3"><a href="pandas-1.html#cb1145-3" aria-hidden="true" tabindex="-1"></a>               [<span class="dv">103</span>,<span class="st">'Charles'</span>,<span class="dv">31000</span>,<span class="dv">2017</span>]], index   <span class="op">=</span> [<span class="st">'r1'</span>,<span class="st">'r2'</span>,<span class="st">'r3'</span>] )</span></code></pre></div>
<pre><code>#:&gt;       0        1      2     3
#:&gt; r1  101    Alice  40000  2017
#:&gt; r2  102      Bob  24000  2017
#:&gt; r3  103  Charles  31000  2017</code></pre>
</div>
<div id="from-row-oriented-data-list-of-dictionary" class="section level4" number="13.7.1.3">
<h4>
<span class="header-section-number">13.7.1.3</span> From Row Oriented Data (List of Dictionary)<a class="anchor" aria-label="anchor" href="#from-row-oriented-data-list-of-dictionary"><i class="fas fa-link"></i></a>
</h4>
<pre><code>DataFrame( [dict1, dict2, dict3] )
DataFrame( [row_list1, row_list2, row_list3], column=np.arrange )
DataFrame( [row_list1, row_list2, row_list3], index=row_label_list )

by default,keys will become collumn names, and autosorted</code></pre>
<p><strong>Default Column Name Follow Dictionary Key</strong><br>
Note missing info as NaN</p>
<div class="sourceCode" id="cb1148"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1148-1"><a href="pandas-1.html#cb1148-1" aria-hidden="true" tabindex="-1"></a>pd.DataFrame ([{<span class="st">"name"</span>:<span class="st">"Yong"</span>, <span class="st">"id"</span>:<span class="dv">1</span>,<span class="st">"zkey"</span>:<span class="dv">101</span>},{<span class="st">"name"</span>:<span class="st">"Gan"</span>,<span class="st">"id"</span>:<span class="dv">2</span>}])</span></code></pre></div>
<pre><code>#:&gt;    name  id   zkey
#:&gt; 0  Yong   1  101.0
#:&gt; 1   Gan   2    NaN</code></pre>
<p><strong>Specify Index</strong></p>
<div class="sourceCode" id="cb1150"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1150-1"><a href="pandas-1.html#cb1150-1" aria-hidden="true" tabindex="-1"></a>pd.DataFrame ([{<span class="st">"name"</span>:<span class="st">"Yong"</span>, <span class="st">"id"</span>:<span class="st">'wd1'</span>},{<span class="st">"name"</span>:<span class="st">"Gan"</span>,<span class="st">"id"</span>:<span class="st">'wd2'</span>}], </span>
<span id="cb1150-2"><a href="pandas-1.html#cb1150-2" aria-hidden="true" tabindex="-1"></a>             index <span class="op">=</span> (<span class="dv">1</span>,<span class="dv">2</span>))</span></code></pre></div>
<pre><code>#:&gt;    name   id
#:&gt; 1  Yong  wd1
#:&gt; 2   Gan  wd2</code></pre>
<p><strong>Specify Column Header during Creation</strong>, can acts as column filter and manual arrangement<br>
Note missing info as NaN</p>
<div class="sourceCode" id="cb1152"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1152-1"><a href="pandas-1.html#cb1152-1" aria-hidden="true" tabindex="-1"></a>pd.DataFrame ([{<span class="st">"name"</span>:<span class="st">"Yong"</span>, <span class="st">"id"</span>:<span class="dv">1</span>, <span class="st">"zkey"</span>:<span class="dv">101</span>},{<span class="st">"name"</span>:<span class="st">"Gan"</span>,<span class="st">"id"</span>:<span class="dv">2</span>}], </span>
<span id="cb1152-2"><a href="pandas-1.html#cb1152-2" aria-hidden="true" tabindex="-1"></a>              columns<span class="op">=</span>(<span class="st">"name"</span>,<span class="st">"id"</span>,<span class="st">"zkey"</span>))</span></code></pre></div>
<pre><code>#:&gt;    name  id   zkey
#:&gt; 0  Yong   1  101.0
#:&gt; 1   Gan   2    NaN</code></pre>
</div>
<div id="from-column-oriented-data" class="section level4" number="13.7.1.4">
<h4>
<span class="header-section-number">13.7.1.4</span> From Column Oriented Data<a class="anchor" aria-label="anchor" href="#from-column-oriented-data"><i class="fas fa-link"></i></a>
</h4>
<p>Create from <strong>Dictrionary of List</strong></p>
<pre><code>DataFrame(  { 'column1': list1,
              'column2': list2,
              'column3': list3 } , 
              index    = row_label_list, 
              columns  = column_list)
              </code></pre>
<p>By default, DataFrame will <strong>arrange the columns alphabetically</strong>, unless <strong>columns</strong> is specified</p>
<p><strong>Default Row Label</strong></p>
<div class="sourceCode" id="cb1155"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1155-1"><a href="pandas-1.html#cb1155-1" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> {<span class="st">'empID'</span>:  [<span class="dv">100</span>,      <span class="dv">101</span>,    <span class="dv">102</span>,      <span class="dv">103</span>,     <span class="dv">104</span>],</span>
<span id="cb1155-2"><a href="pandas-1.html#cb1155-2" aria-hidden="true" tabindex="-1"></a>        <span class="st">'year'</span>:   [<span class="dv">2017</span>,     <span class="dv">2017</span>,   <span class="dv">2017</span>,      <span class="dv">2018</span>,    <span class="dv">2018</span>],</span>
<span id="cb1155-3"><a href="pandas-1.html#cb1155-3" aria-hidden="true" tabindex="-1"></a>        <span class="st">'salary'</span>: [<span class="dv">40000</span>,    <span class="dv">24000</span>,  <span class="dv">31000</span>,     <span class="dv">20000</span>,   <span class="dv">30000</span>],</span>
<span id="cb1155-4"><a href="pandas-1.html#cb1155-4" aria-hidden="true" tabindex="-1"></a>        <span class="st">'name'</span>:   [<span class="st">'Alice'</span>, <span class="st">'Bob'</span>,  <span class="st">'Charles'</span>, <span class="st">'David'</span>, <span class="st">'Eric'</span>]}</span>
<span id="cb1155-5"><a href="pandas-1.html#cb1155-5" aria-hidden="true" tabindex="-1"></a>pd.DataFrame(data)</span></code></pre></div>
<pre><code>#:&gt;    empID  year  salary     name
#:&gt; 0    100  2017   40000    Alice
#:&gt; 1    101  2017   24000      Bob
#:&gt; 2    102  2017   31000  Charles
#:&gt; 3    103  2018   20000    David
#:&gt; 4    104  2018   30000     Eric</code></pre>
<p><strong>Specify Row Label during Creation</strong></p>
<div class="sourceCode" id="cb1157"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1157-1"><a href="pandas-1.html#cb1157-1" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> {<span class="st">'empID'</span>:  [<span class="dv">100</span>,      <span class="dv">101</span>,    <span class="dv">102</span>,      <span class="dv">103</span>,     <span class="dv">104</span>],</span>
<span id="cb1157-2"><a href="pandas-1.html#cb1157-2" aria-hidden="true" tabindex="-1"></a>        <span class="st">'name'</span>:   [<span class="st">'Alice'</span>, <span class="st">'Bob'</span>,  <span class="st">'Charles'</span>, <span class="st">'David'</span>, <span class="st">'Eric'</span>],</span>
<span id="cb1157-3"><a href="pandas-1.html#cb1157-3" aria-hidden="true" tabindex="-1"></a>        <span class="st">'year'</span>:   [<span class="dv">2017</span>,     <span class="dv">2017</span>,   <span class="dv">2017</span>,      <span class="dv">2018</span>,    <span class="dv">2018</span>],</span>
<span id="cb1157-4"><a href="pandas-1.html#cb1157-4" aria-hidden="true" tabindex="-1"></a>        <span class="st">'salary'</span>: [<span class="dv">40000</span>,    <span class="dv">24000</span>,  <span class="dv">31000</span>,     <span class="dv">20000</span>,   <span class="dv">30000</span>] }</span>
<span id="cb1157-5"><a href="pandas-1.html#cb1157-5" aria-hidden="true" tabindex="-1"></a>pd.DataFrame (data, index<span class="op">=</span>[<span class="st">'r1'</span>,<span class="st">'r2'</span>,<span class="st">'r3'</span>,<span class="st">'r4'</span>,<span class="st">'r5'</span>])</span></code></pre></div>
<pre><code>#:&gt;     empID     name  year  salary
#:&gt; r1    100    Alice  2017   40000
#:&gt; r2    101      Bob  2017   24000
#:&gt; r3    102  Charles  2017   31000
#:&gt; r4    103    David  2018   20000
#:&gt; r5    104     Eric  2018   30000</code></pre>
<p><strong>Manualy Choose Columns and Arrangement</strong></p>
<div class="sourceCode" id="cb1159"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1159-1"><a href="pandas-1.html#cb1159-1" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> {<span class="st">'empID'</span>:  [<span class="dv">100</span>,      <span class="dv">101</span>,    <span class="dv">102</span>,      <span class="dv">103</span>,     <span class="dv">104</span>],</span>
<span id="cb1159-2"><a href="pandas-1.html#cb1159-2" aria-hidden="true" tabindex="-1"></a>        <span class="st">'name'</span>:   [<span class="st">'Alice'</span>, <span class="st">'Bob'</span>,  <span class="st">'Charles'</span>, <span class="st">'David'</span>, <span class="st">'Eric'</span>],</span>
<span id="cb1159-3"><a href="pandas-1.html#cb1159-3" aria-hidden="true" tabindex="-1"></a>        <span class="st">'year'</span>:   [<span class="dv">2017</span>,     <span class="dv">2017</span>,   <span class="dv">2017</span>,      <span class="dv">2018</span>,    <span class="dv">2018</span>],</span>
<span id="cb1159-4"><a href="pandas-1.html#cb1159-4" aria-hidden="true" tabindex="-1"></a>        <span class="st">'salary'</span>: [<span class="dv">40000</span>,    <span class="dv">24000</span>,  <span class="dv">31000</span>,     <span class="dv">20000</span>,   <span class="dv">30000</span>] }</span>
<span id="cb1159-5"><a href="pandas-1.html#cb1159-5" aria-hidden="true" tabindex="-1"></a>pd.DataFrame (data, columns<span class="op">=</span>(<span class="st">'empID'</span>,<span class="st">'name'</span>,<span class="st">'salary'</span>), index<span class="op">=</span>[<span class="st">'r1'</span>,<span class="st">'r2'</span>,<span class="st">'r3'</span>,<span class="st">'r4'</span>,<span class="st">'r5'</span>])</span></code></pre></div>
<pre><code>#:&gt;     empID     name  salary
#:&gt; r1    100    Alice   40000
#:&gt; r2    101      Bob   24000
#:&gt; r3    102  Charles   31000
#:&gt; r4    103    David   20000
#:&gt; r5    104     Eric   30000</code></pre>
</div>
</div>
<div id="operator-2" class="section level3" number="13.7.2">
<h3>
<span class="header-section-number">13.7.2</span> Operator<a class="anchor" aria-label="anchor" href="#operator-2"><i class="fas fa-link"></i></a>
</h3>
<div id="the-data-1" class="section level4" number="13.7.2.1">
<h4>
<span class="header-section-number">13.7.2.1</span> The Data<a class="anchor" aria-label="anchor" href="#the-data-1"><i class="fas fa-link"></i></a>
</h4>
<p>Two dataframe is created, each with 3 columns and 3 rows. However, only two <strong>matching column and row</strong> names We shall notice that the operator will perform cell-wise, <strong>honoring the row/column name</strong>.</p>
<div class="sourceCode" id="cb1161"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1161-1"><a href="pandas-1.html#cb1161-1" aria-hidden="true" tabindex="-1"></a>df1 <span class="op">=</span> pd.DataFrame(data<span class="op">=</span></span>
<span id="cb1161-2"><a href="pandas-1.html#cb1161-2" aria-hidden="true" tabindex="-1"></a>  {<span class="st">'idx'</span>: [<span class="st">'row1'</span>,<span class="st">'row2'</span>,<span class="st">'row3'</span>],</span>
<span id="cb1161-3"><a href="pandas-1.html#cb1161-3" aria-hidden="true" tabindex="-1"></a>   <span class="st">'x'</span>: [<span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">30</span>],</span>
<span id="cb1161-4"><a href="pandas-1.html#cb1161-4" aria-hidden="true" tabindex="-1"></a>   <span class="st">'y'</span>: [<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>],</span>
<span id="cb1161-5"><a href="pandas-1.html#cb1161-5" aria-hidden="true" tabindex="-1"></a>   <span class="st">'z'</span>: [<span class="fl">0.1</span>, <span class="fl">0.2</span>, <span class="fl">0.3</span>]}).set_index(<span class="st">'idx'</span>)</span>
<span id="cb1161-6"><a href="pandas-1.html#cb1161-6" aria-hidden="true" tabindex="-1"></a>   </span>
<span id="cb1161-7"><a href="pandas-1.html#cb1161-7" aria-hidden="true" tabindex="-1"></a>df2 <span class="op">=</span> pd.DataFrame(data<span class="op">=</span></span>
<span id="cb1161-8"><a href="pandas-1.html#cb1161-8" aria-hidden="true" tabindex="-1"></a>  {<span class="st">'idx'</span>: [<span class="st">'row1'</span>,<span class="st">'row2'</span>,<span class="st">'row4'</span>],</span>
<span id="cb1161-9"><a href="pandas-1.html#cb1161-9" aria-hidden="true" tabindex="-1"></a>   <span class="st">'x'</span>: [<span class="dv">13</span>, <span class="dv">23</span>, <span class="dv">33</span>],</span>
<span id="cb1161-10"><a href="pandas-1.html#cb1161-10" aria-hidden="true" tabindex="-1"></a>   <span class="st">'z'</span>: [<span class="fl">0.1</span>, <span class="fl">0.2</span>, <span class="fl">0.3</span>],</span>
<span id="cb1161-11"><a href="pandas-1.html#cb1161-11" aria-hidden="true" tabindex="-1"></a>   <span class="st">'k'</span>: [<span class="dv">11</span>,<span class="dv">21</span>,<span class="dv">31</span>]</span>
<span id="cb1161-12"><a href="pandas-1.html#cb1161-12" aria-hidden="true" tabindex="-1"></a>   }).set_index(<span class="st">'idx'</span>)</span>
<span id="cb1161-13"><a href="pandas-1.html#cb1161-13" aria-hidden="true" tabindex="-1"></a>   </span>
<span id="cb1161-14"><a href="pandas-1.html#cb1161-14" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>( df1, <span class="st">'</span><span class="ch">\n\n</span><span class="st">'</span>, df2)</span></code></pre></div>
<pre><code>#:&gt;        x  y    z
#:&gt; idx             
#:&gt; row1  10  1  0.1
#:&gt; row2  20  2  0.2
#:&gt; row3  30  3  0.3 
#:&gt; 
#:&gt;         x    z   k
#:&gt; idx              
#:&gt; row1  13  0.1  11
#:&gt; row2  23  0.2  21
#:&gt; row4  33  0.3  31</code></pre>
</div>
<div id="addition" class="section level4" number="13.7.2.2">
<h4>
<span class="header-section-number">13.7.2.2</span> Addition<a class="anchor" aria-label="anchor" href="#addition"><i class="fas fa-link"></i></a>
</h4>
<p><strong>Adding Two DataFrame</strong></p>
<p>Using <code><a href="https://rdrr.io/r/base/Arithmetic.html">+</a></code> operator, non-matching row/column names will result in <strong>NA</strong>. However, when using function <strong><code>add</code></strong>, none matching cells can be assumed as with a value.</p>
<div class="sourceCode" id="cb1163"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1163-1"><a href="pandas-1.html#cb1163-1" aria-hidden="true" tabindex="-1"></a>r1 <span class="op">=</span> df1 <span class="op">+</span> df2</span>
<span id="cb1163-2"><a href="pandas-1.html#cb1163-2" aria-hidden="true" tabindex="-1"></a>r2 <span class="op">=</span> df1.add(df2,fill_value<span class="op">=</span><span class="dv">1000</span>)</span>
<span id="cb1163-3"><a href="pandas-1.html#cb1163-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1163-4"><a href="pandas-1.html#cb1163-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>( r1, <span class="st">'</span><span class="ch">\n\n</span><span class="st">'</span>, r2)</span></code></pre></div>
<pre><code>#:&gt;        k     x   y    z
#:&gt; idx                    
#:&gt; row1 NaN  23.0 NaN  0.2
#:&gt; row2 NaN  43.0 NaN  0.4
#:&gt; row3 NaN   NaN NaN  NaN
#:&gt; row4 NaN   NaN NaN  NaN 
#:&gt; 
#:&gt;             k       x       y       z
#:&gt; idx                                 
#:&gt; row1  1011.0    23.0  1001.0     0.2
#:&gt; row2  1021.0    43.0  1002.0     0.4
#:&gt; row3     NaN  1030.0  1003.0  1000.3
#:&gt; row4  1031.0  1033.0     NaN  1000.3</code></pre>
<p><strong>Adding Series and DataFrame</strong></p>
<p>Specify the <strong>appropriate <code>axis</code></strong> depending on the orientation of the series data. Column and Row names are respected in this operation. However, <code>fill_value</code> is <strong>not applicable</strong> when apply on Series.</p>
<p>Note that columns in Series that are not found in dataframe, will still be created in the result. This is similar behaviour as operating Dataframe with Dataframe.</p>
<div class="sourceCode" id="cb1165"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1165-1"><a href="pandas-1.html#cb1165-1" aria-hidden="true" tabindex="-1"></a>s3 <span class="op">=</span> pd.Series([<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>], index<span class="op">=</span>[<span class="st">'row1'</span>,<span class="st">'row2'</span>,<span class="st">'row4'</span>])</span>
<span id="cb1165-2"><a href="pandas-1.html#cb1165-2" aria-hidden="true" tabindex="-1"></a>s4 <span class="op">=</span> pd.Series([<span class="dv">3</span>,<span class="dv">3</span>,<span class="dv">3</span>], index<span class="op">=</span>[<span class="st">'x'</span>,<span class="st">'y'</span>,<span class="st">'s'</span>])</span>
<span id="cb1165-3"><a href="pandas-1.html#cb1165-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1165-4"><a href="pandas-1.html#cb1165-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'Original Data:</span><span class="ch">\n</span><span class="st">'</span>,df1,<span class="st">'</span><span class="ch">\n\n</span><span class="st">'</span>,</span>
<span id="cb1165-5"><a href="pandas-1.html#cb1165-5" aria-hidden="true" tabindex="-1"></a>      <span class="st">'Add By Rows: </span><span class="ch">\n</span><span class="st">'</span>, df1.add(s3, axis<span class="op">=</span><span class="dv">0</span>), <span class="st">'</span><span class="ch">\n\n</span><span class="st">'</span>,</span>
<span id="cb1165-6"><a href="pandas-1.html#cb1165-6" aria-hidden="true" tabindex="-1"></a>      <span class="st">'Add By Columns: </span><span class="ch">\n</span><span class="st">'</span>, df1.add(s4, axis<span class="op">=</span><span class="dv">1</span>))</span></code></pre></div>
<pre><code>#:&gt; Original Data:
#:&gt;         x  y    z
#:&gt; idx             
#:&gt; row1  10  1  0.1
#:&gt; row2  20  2  0.2
#:&gt; row3  30  3  0.3 
#:&gt; 
#:&gt;  Add By Rows: 
#:&gt;           x    y    z
#:&gt; row1  11.0  2.0  1.1
#:&gt; row2  21.0  3.0  1.2
#:&gt; row3   NaN  NaN  NaN
#:&gt; row4   NaN  NaN  NaN 
#:&gt; 
#:&gt;  Add By Columns: 
#:&gt;         s     x    y   z
#:&gt; idx                    
#:&gt; row1 NaN  13.0  4.0 NaN
#:&gt; row2 NaN  23.0  5.0 NaN
#:&gt; row3 NaN  33.0  6.0 NaN</code></pre>
</div>
<div id="substraction" class="section level4" number="13.7.2.3">
<h4>
<span class="header-section-number">13.7.2.3</span> Substraction<a class="anchor" aria-label="anchor" href="#substraction"><i class="fas fa-link"></i></a>
</h4>
<div class="sourceCode" id="cb1167"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1167-1"><a href="pandas-1.html#cb1167-1" aria-hidden="true" tabindex="-1"></a>r1 <span class="op">=</span> df2 <span class="op">-</span> df1</span>
<span id="cb1167-2"><a href="pandas-1.html#cb1167-2" aria-hidden="true" tabindex="-1"></a>r2 <span class="op">=</span> df2.sub(df1,fill_value<span class="op">=</span><span class="dv">1000</span>)</span>
<span id="cb1167-3"><a href="pandas-1.html#cb1167-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1167-4"><a href="pandas-1.html#cb1167-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>( r1, <span class="st">'</span><span class="ch">\n\n</span><span class="st">'</span>, r2)</span></code></pre></div>
<pre><code>#:&gt;        k    x   y    z
#:&gt; idx                   
#:&gt; row1 NaN  3.0 NaN  0.0
#:&gt; row2 NaN  3.0 NaN  0.0
#:&gt; row3 NaN  NaN NaN  NaN
#:&gt; row4 NaN  NaN NaN  NaN 
#:&gt; 
#:&gt;            k      x      y      z
#:&gt; idx                             
#:&gt; row1 -989.0    3.0  999.0    0.0
#:&gt; row2 -979.0    3.0  998.0    0.0
#:&gt; row3    NaN  970.0  997.0  999.7
#:&gt; row4 -969.0 -967.0    NaN -999.7</code></pre>
<div class="sourceCode" id="cb1169"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1169-1"><a href="pandas-1.html#cb1169-1" aria-hidden="true" tabindex="-1"></a>r3 <span class="op">=</span> (r2<span class="op">&gt;</span><span class="dv">0</span>) <span class="op">&amp;</span> (r2<span class="op">&lt;=</span><span class="dv">3</span>)</span>
<span id="cb1169-2"><a href="pandas-1.html#cb1169-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>( <span class="st">'Original Data: </span><span class="ch">\n</span><span class="st">'</span>, r2, <span class="st">'</span><span class="ch">\n\n</span><span class="st">'</span>,</span>
<span id="cb1169-3"><a href="pandas-1.html#cb1169-3" aria-hidden="true" tabindex="-1"></a>       <span class="st">'Logical Operator:</span><span class="ch">\n</span><span class="st">'</span>, r3)</span></code></pre></div>
<pre><code>#:&gt; Original Data: 
#:&gt;            k      x      y      z
#:&gt; idx                             
#:&gt; row1 -989.0    3.0  999.0    0.0
#:&gt; row2 -979.0    3.0  998.0    0.0
#:&gt; row3    NaN  970.0  997.0  999.7
#:&gt; row4 -969.0 -967.0    NaN -999.7 
#:&gt; 
#:&gt;  Logical Operator:
#:&gt;            k      x      y      z
#:&gt; idx                             
#:&gt; row1  False   True  False  False
#:&gt; row2  False   True  False  False
#:&gt; row3  False  False  False  False
#:&gt; row4  False  False  False  False</code></pre>
</div>
</div>
<div id="attributes-6" class="section level3" number="13.7.3">
<h3>
<span class="header-section-number">13.7.3</span> Attributes<a class="anchor" aria-label="anchor" href="#attributes-6"><i class="fas fa-link"></i></a>
</h3>
<div class="sourceCode" id="cb1171"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1171-1"><a href="pandas-1.html#cb1171-1" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.DataFrame(</span>
<span id="cb1171-2"><a href="pandas-1.html#cb1171-2" aria-hidden="true" tabindex="-1"></a>    { <span class="st">'empID'</span>:  [<span class="dv">100</span>,      <span class="dv">101</span>,    <span class="dv">102</span>,      <span class="dv">103</span>,     <span class="dv">104</span>],</span>
<span id="cb1171-3"><a href="pandas-1.html#cb1171-3" aria-hidden="true" tabindex="-1"></a>      <span class="st">'year1'</span>:   [<span class="dv">2017</span>,     <span class="dv">2017</span>,   <span class="dv">2017</span>,      <span class="dv">2018</span>,    <span class="dv">2018</span>],</span>
<span id="cb1171-4"><a href="pandas-1.html#cb1171-4" aria-hidden="true" tabindex="-1"></a>      <span class="st">'name'</span>:   [<span class="st">'Alice'</span>,  <span class="st">'Bob'</span>,  <span class="st">'Charles'</span>,<span class="st">'David'</span>, <span class="st">'Eric'</span>],</span>
<span id="cb1171-5"><a href="pandas-1.html#cb1171-5" aria-hidden="true" tabindex="-1"></a>      <span class="st">'year2'</span>:   [<span class="dv">2001</span>,     <span class="dv">1907</span>,   <span class="dv">2003</span>,      <span class="dv">1998</span>,    <span class="dv">2011</span>],</span>
<span id="cb1171-6"><a href="pandas-1.html#cb1171-6" aria-hidden="true" tabindex="-1"></a>      <span class="st">'salary'</span>: [<span class="dv">40000</span>,    <span class="dv">24000</span>,  <span class="dv">31000</span>,     <span class="dv">20000</span>,   <span class="dv">30000</span>]},</span>
<span id="cb1171-7"><a href="pandas-1.html#cb1171-7" aria-hidden="true" tabindex="-1"></a>    columns <span class="op">=</span> [<span class="st">'year1'</span>,<span class="st">'salary'</span>,<span class="st">'year2'</span>,<span class="st">'empID'</span>,<span class="st">'name'</span>])</span></code></pre></div>
<div id="dimensions-1" class="section level4" number="13.7.3.1">
<h4>
<span class="header-section-number">13.7.3.1</span> Dimensions<a class="anchor" aria-label="anchor" href="#dimensions-1"><i class="fas fa-link"></i></a>
</h4>
<div class="sourceCode" id="cb1172"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1172-1"><a href="pandas-1.html#cb1172-1" aria-hidden="true" tabindex="-1"></a>df.shape</span></code></pre></div>
<pre><code>#:&gt; (5, 5)</code></pre>
</div>
<div id="index" class="section level4" number="13.7.3.2">
<h4>
<span class="header-section-number">13.7.3.2</span> Index<a class="anchor" aria-label="anchor" href="#index"><i class="fas fa-link"></i></a>
</h4>
<div class="sourceCode" id="cb1174"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1174-1"><a href="pandas-1.html#cb1174-1" aria-hidden="true" tabindex="-1"></a>df.index</span></code></pre></div>
<pre><code>#:&gt; RangeIndex(start=0, stop=5, step=1)</code></pre>
<p><strong>Underlying Index values are numpy object</strong></p>
<div class="sourceCode" id="cb1176"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1176-1"><a href="pandas-1.html#cb1176-1" aria-hidden="true" tabindex="-1"></a>df.index.values</span></code></pre></div>
<pre><code>#:&gt; array([0, 1, 2, 3, 4])</code></pre>
</div>
<div id="columns" class="section level4" number="13.7.3.3">
<h4>
<span class="header-section-number">13.7.3.3</span> Columns<a class="anchor" aria-label="anchor" href="#columns"><i class="fas fa-link"></i></a>
</h4>
<div class="sourceCode" id="cb1178"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1178-1"><a href="pandas-1.html#cb1178-1" aria-hidden="true" tabindex="-1"></a>df.columns</span></code></pre></div>
<pre><code>#:&gt; Index(['year1', 'salary', 'year2', 'empID', 'name'], dtype='object')</code></pre>
<p><strong>Underlying Index values are numpy object</strong></p>
<div class="sourceCode" id="cb1180"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1180-1"><a href="pandas-1.html#cb1180-1" aria-hidden="true" tabindex="-1"></a>df.columns.values</span></code></pre></div>
<pre><code>#:&gt; array(['year1', 'salary', 'year2', 'empID', 'name'], dtype=object)</code></pre>
</div>
<div id="values" class="section level4" number="13.7.3.4">
<h4>
<span class="header-section-number">13.7.3.4</span> Values<a class="anchor" aria-label="anchor" href="#values"><i class="fas fa-link"></i></a>
</h4>
<p><strong>Underlying Column values are numpy object</strong></p>
<div class="sourceCode" id="cb1182"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1182-1"><a href="pandas-1.html#cb1182-1" aria-hidden="true" tabindex="-1"></a>df.values</span></code></pre></div>
<pre><code>#:&gt; array([[2017, 40000, 2001, 100, 'Alice'],
#:&gt;        [2017, 24000, 1907, 101, 'Bob'],
#:&gt;        [2017, 31000, 2003, 102, 'Charles'],
#:&gt;        [2018, 20000, 1998, 103, 'David'],
#:&gt;        [2018, 30000, 2011, 104, 'Eric']], dtype=object)</code></pre>
</div>
</div>
<div id="index-manipulation-1" class="section level3" number="13.7.4">
<h3>
<span class="header-section-number">13.7.4</span> Index Manipulation<a class="anchor" aria-label="anchor" href="#index-manipulation-1"><i class="fas fa-link"></i></a>
</h3>
<p><strong>index</strong> and <strong>row label</strong> are used interchangeably in this book</p>
<div id="sample-data-6" class="section level4" number="13.7.4.1">
<h4>
<span class="header-section-number">13.7.4.1</span> Sample Data<a class="anchor" aria-label="anchor" href="#sample-data-6"><i class="fas fa-link"></i></a>
</h4>
<p>Columns are intentionaly ordered in a messy way</p>
<div class="sourceCode" id="cb1184"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1184-1"><a href="pandas-1.html#cb1184-1" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.DataFrame(</span>
<span id="cb1184-2"><a href="pandas-1.html#cb1184-2" aria-hidden="true" tabindex="-1"></a>    { <span class="st">'empID'</span>:  [<span class="dv">100</span>,      <span class="dv">101</span>,    <span class="dv">102</span>,      <span class="dv">103</span>,     <span class="dv">104</span>],</span>
<span id="cb1184-3"><a href="pandas-1.html#cb1184-3" aria-hidden="true" tabindex="-1"></a>      <span class="st">'year1'</span>:   [<span class="dv">2017</span>,     <span class="dv">2017</span>,   <span class="dv">2017</span>,      <span class="dv">2018</span>,    <span class="dv">2018</span>],</span>
<span id="cb1184-4"><a href="pandas-1.html#cb1184-4" aria-hidden="true" tabindex="-1"></a>      <span class="st">'name'</span>:   [<span class="st">'Alice'</span>,  <span class="st">'Bob'</span>,  <span class="st">'Charles'</span>,<span class="st">'David'</span>, <span class="st">'Eric'</span>],</span>
<span id="cb1184-5"><a href="pandas-1.html#cb1184-5" aria-hidden="true" tabindex="-1"></a>      <span class="st">'year2'</span>:   [<span class="dv">2001</span>,     <span class="dv">1907</span>,   <span class="dv">2003</span>,      <span class="dv">1998</span>,    <span class="dv">2011</span>],</span>
<span id="cb1184-6"><a href="pandas-1.html#cb1184-6" aria-hidden="true" tabindex="-1"></a>      <span class="st">'salary'</span>: [<span class="dv">40000</span>,    <span class="dv">24000</span>,  <span class="dv">31000</span>,     <span class="dv">20000</span>,   <span class="dv">30000</span>]},</span>
<span id="cb1184-7"><a href="pandas-1.html#cb1184-7" aria-hidden="true" tabindex="-1"></a>    columns <span class="op">=</span> [<span class="st">'year1'</span>,<span class="st">'salary'</span>,<span class="st">'year2'</span>,<span class="st">'empID'</span>,<span class="st">'name'</span>])</span>
<span id="cb1184-8"><a href="pandas-1.html#cb1184-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1184-9"><a href="pandas-1.html#cb1184-9" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span> (df, <span class="st">'</span><span class="ch">\n</span><span class="st">'</span>)</span></code></pre></div>
<pre><code>#:&gt;    year1  salary  year2  empID     name
#:&gt; 0   2017   40000   2001    100    Alice
#:&gt; 1   2017   24000   1907    101      Bob
#:&gt; 2   2017   31000   2003    102  Charles
#:&gt; 3   2018   20000   1998    103    David
#:&gt; 4   2018   30000   2011    104     Eric</code></pre>
<div class="sourceCode" id="cb1186"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1186-1"><a href="pandas-1.html#cb1186-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span> (df.index)</span></code></pre></div>
<pre><code>#:&gt; RangeIndex(start=0, stop=5, step=1)</code></pre>
</div>
<div id="convert-column-to-index" class="section level4" number="13.7.4.2">
<h4>
<span class="header-section-number">13.7.4.2</span> Convert Column To Index<a class="anchor" aria-label="anchor" href="#convert-column-to-index"><i class="fas fa-link"></i></a>
</h4>
<pre><code>set_index('column_name', inplace=False)</code></pre>
<p><strong>inplace=True</strong> means don’t create a new dataframe. Modify existing dataframe<br><strong>inplace=False</strong> means return a new dataframe</p>
<div class="sourceCode" id="cb1189"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1189-1"><a href="pandas-1.html#cb1189-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df)</span></code></pre></div>
<pre><code>#:&gt;    year1  salary  year2  empID     name
#:&gt; 0   2017   40000   2001    100    Alice
#:&gt; 1   2017   24000   1907    101      Bob
#:&gt; 2   2017   31000   2003    102  Charles
#:&gt; 3   2018   20000   1998    103    David
#:&gt; 4   2018   30000   2011    104     Eric</code></pre>
<div class="sourceCode" id="cb1191"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1191-1"><a href="pandas-1.html#cb1191-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df.index,<span class="st">'</span><span class="ch">\n</span><span class="st">'</span>)</span></code></pre></div>
<pre><code>#:&gt; RangeIndex(start=0, stop=5, step=1)</code></pre>
<div class="sourceCode" id="cb1193"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1193-1"><a href="pandas-1.html#cb1193-1" aria-hidden="true" tabindex="-1"></a>df.set_index(<span class="st">'empID'</span>,inplace<span class="op">=</span><span class="va">True</span>) </span>
<span id="cb1193-2"><a href="pandas-1.html#cb1193-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df)</span></code></pre></div>
<pre><code>#:&gt;        year1  salary  year2     name
#:&gt; empID                               
#:&gt; 100     2017   40000   2001    Alice
#:&gt; 101     2017   24000   1907      Bob
#:&gt; 102     2017   31000   2003  Charles
#:&gt; 103     2018   20000   1998    David
#:&gt; 104     2018   30000   2011     Eric</code></pre>
<div class="sourceCode" id="cb1195"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1195-1"><a href="pandas-1.html#cb1195-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df.index) <span class="co"># return new DataFrameObj</span></span></code></pre></div>
<pre><code>#:&gt; Int64Index([100, 101, 102, 103, 104], dtype='int64', name='empID')</code></pre>
</div>
<div id="convert-index-back-to-column" class="section level4" number="13.7.4.3">
<h4>
<span class="header-section-number">13.7.4.3</span> Convert Index Back To Column<a class="anchor" aria-label="anchor" href="#convert-index-back-to-column"><i class="fas fa-link"></i></a>
</h4>
<ul>
<li>Reseting index will resequence the index as 0,1,2 etc<br>
</li>
<li>Old index column will be converted back as normal column<br>
</li>
<li>Operation support inplace** option</li>
</ul>
<div class="sourceCode" id="cb1197"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1197-1"><a href="pandas-1.html#cb1197-1" aria-hidden="true" tabindex="-1"></a>df.reset_index(inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb1197-2"><a href="pandas-1.html#cb1197-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df)</span></code></pre></div>
<pre><code>#:&gt;    empID  year1  salary  year2     name
#:&gt; 0    100   2017   40000   2001    Alice
#:&gt; 1    101   2017   24000   1907      Bob
#:&gt; 2    102   2017   31000   2003  Charles
#:&gt; 3    103   2018   20000   1998    David
#:&gt; 4    104   2018   30000   2011     Eric</code></pre>
</div>
<div id="updating-index-.index" class="section level4" number="13.7.4.4">
<h4>
<span class="header-section-number">13.7.4.4</span> Updating Index ( .index= )<a class="anchor" aria-label="anchor" href="#updating-index-.index"><i class="fas fa-link"></i></a>
</h4>
<p><strong>Warning:</strong><br>
- Updating index <strong>doesn’t reorder</strong> the data sequence<br>
- Number of elements before and after reorder must match, otherwise <strong>error</strong><br>
- Same label are <strong>allowed to repeat</strong>
- Not reversable</p>
<div class="sourceCode" id="cb1199"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1199-1"><a href="pandas-1.html#cb1199-1" aria-hidden="true" tabindex="-1"></a>df.index <span class="op">=</span> [<span class="dv">101</span>, <span class="dv">101</span>, <span class="dv">101</span>, <span class="dv">102</span>, <span class="dv">103</span>]</span>
<span id="cb1199-2"><a href="pandas-1.html#cb1199-2" aria-hidden="true" tabindex="-1"></a>df</span></code></pre></div>
<pre><code>#:&gt;      empID  year1  salary  year2     name
#:&gt; 101    100   2017   40000   2001    Alice
#:&gt; 101    101   2017   24000   1907      Bob
#:&gt; 101    102   2017   31000   2003  Charles
#:&gt; 102    103   2018   20000   1998    David
#:&gt; 103    104   2018   30000   2011     Eric</code></pre>
</div>
<div id="reordering-index-.-reindex" class="section level4" number="13.7.4.5">
<h4>
<span class="header-section-number">13.7.4.5</span> Reordering Index (. reindex )<a class="anchor" aria-label="anchor" href="#reordering-index-.-reindex"><i class="fas fa-link"></i></a>
</h4>
<ul>
<li>Reindex will <strong>reorder</strong> the rows according to new index<br>
</li>
<li>The operation is not reversable</li>
</ul>
<p><strong>Start from this original dataframe</strong></p>
<div class="sourceCode" id="cb1201"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1201-1"><a href="pandas-1.html#cb1201-1" aria-hidden="true" tabindex="-1"></a>df.index <span class="op">=</span> [<span class="dv">101</span>,<span class="dv">102</span>,<span class="dv">103</span>,<span class="dv">104</span>,<span class="dv">105</span>]</span>
<span id="cb1201-2"><a href="pandas-1.html#cb1201-2" aria-hidden="true" tabindex="-1"></a>df</span></code></pre></div>
<pre><code>#:&gt;      empID  year1  salary  year2     name
#:&gt; 101    100   2017   40000   2001    Alice
#:&gt; 102    101   2017   24000   1907      Bob
#:&gt; 103    102   2017   31000   2003  Charles
#:&gt; 104    103   2018   20000   1998    David
#:&gt; 105    104   2018   30000   2011     Eric</code></pre>
<p><strong>Change the order of Index</strong>, always return a new dataframe</p>
<div class="sourceCode" id="cb1203"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1203-1"><a href="pandas-1.html#cb1203-1" aria-hidden="true" tabindex="-1"></a>df.reindex([<span class="dv">103</span>,<span class="dv">102</span>,<span class="dv">101</span>,<span class="dv">104</span>,<span class="dv">105</span>])</span></code></pre></div>
<pre><code>#:&gt;      empID  year1  salary  year2     name
#:&gt; 103    102   2017   31000   2003  Charles
#:&gt; 102    101   2017   24000   1907      Bob
#:&gt; 101    100   2017   40000   2001    Alice
#:&gt; 104    103   2018   20000   1998    David
#:&gt; 105    104   2018   30000   2011     Eric</code></pre>
</div>
<div id="rename-index" class="section level4" number="13.7.4.6">
<h4>
<span class="header-section-number">13.7.4.6</span> Rename Index<a class="anchor" aria-label="anchor" href="#rename-index"><i class="fas fa-link"></i></a>
</h4>
<ul>
<li>Example below renamed the axis of both columns and rows<br>
</li>
<li>Use <code>axis=0</code> for row index, use <code>axis=1</code> for column index</li>
</ul>
<div class="sourceCode" id="cb1205"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1205-1"><a href="pandas-1.html#cb1205-1" aria-hidden="true" tabindex="-1"></a>df.rename_axis(<span class="st">'super_id'</span>).rename_axis(<span class="st">'my_cols'</span>, axis<span class="op">=</span><span class="dv">1</span>)</span></code></pre></div>
<pre><code>#:&gt; my_cols   empID  year1  salary  year2     name
#:&gt; super_id                                      
#:&gt; 101         100   2017   40000   2001    Alice
#:&gt; 102         101   2017   24000   1907      Bob
#:&gt; 103         102   2017   31000   2003  Charles
#:&gt; 104         103   2018   20000   1998    David
#:&gt; 105         104   2018   30000   2011     Eric</code></pre>
</div>
</div>
<div id="subsetting-columns" class="section level3" number="13.7.5">
<h3>
<span class="header-section-number">13.7.5</span> Subsetting Columns<a class="anchor" aria-label="anchor" href="#subsetting-columns"><i class="fas fa-link"></i></a>
</h3>
<p><strong>Select Single Column</strong> Return <strong>Series</strong></p>
<pre><code>dataframe.columnName               # single column, name based, return Series object
dataframe[ single_col_name ]       # single column, name based, return Series object
dataframe[ [single_col_name] ]     # single column, name based, return DataFrame object</code></pre>
<p><strong>Select Single/Multiple Columns</strong> Return <strong>DataFrame</strong></p>
<pre><code>dataframe[ single/list_of_col_names ]                       # name based, return Dataframe object
dataframe.loc[ : , single_col_name  ]  # single column, series
dataframe.loc[ : , col_name_list    ]  # multiple columns, dataframe
dataframe.loc[ : , col_name_ranage  ]  # multiple columns, dataframe

dataframe.iloc[ : , col_number      ]  # single column, series
dataframe.iloc[ : , col_number_list ]  # multiple columns, dataframe
dataframe.iloc[ : , number_range    ]  # multiple columns, dataframe</code></pre>
<div id="select-single-column" class="section level4" number="13.7.5.1">
<h4>
<span class="header-section-number">13.7.5.1</span> Select Single Column<a class="anchor" aria-label="anchor" href="#select-single-column"><i class="fas fa-link"></i></a>
</h4>
<p>Selecting single column always return as <strong><code>panda::Series</code></strong></p>
<div class="sourceCode" id="cb1209"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1209-1"><a href="pandas-1.html#cb1209-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>( </span>
<span id="cb1209-2"><a href="pandas-1.html#cb1209-2" aria-hidden="true" tabindex="-1"></a>  df.name,           <span class="st">'</span><span class="ch">\n\n</span><span class="st">'</span>,</span>
<span id="cb1209-3"><a href="pandas-1.html#cb1209-3" aria-hidden="true" tabindex="-1"></a>  df[<span class="st">'name'</span>],        <span class="st">'</span><span class="ch">\n\n</span><span class="st">'</span>,</span>
<span id="cb1209-4"><a href="pandas-1.html#cb1209-4" aria-hidden="true" tabindex="-1"></a>  df.loc[:, <span class="st">'name'</span>], <span class="st">'</span><span class="ch">\n\n</span><span class="st">'</span>,</span>
<span id="cb1209-5"><a href="pandas-1.html#cb1209-5" aria-hidden="true" tabindex="-1"></a>  df.iloc[:, <span class="dv">3</span>])</span></code></pre></div>
<pre><code>#:&gt; 101      Alice
#:&gt; 102        Bob
#:&gt; 103    Charles
#:&gt; 104      David
#:&gt; 105       Eric
#:&gt; Name: name, dtype: object 
#:&gt; 
#:&gt;  101      Alice
#:&gt; 102        Bob
#:&gt; 103    Charles
#:&gt; 104      David
#:&gt; 105       Eric
#:&gt; Name: name, dtype: object 
#:&gt; 
#:&gt;  101      Alice
#:&gt; 102        Bob
#:&gt; 103    Charles
#:&gt; 104      David
#:&gt; 105       Eric
#:&gt; Name: name, dtype: object 
#:&gt; 
#:&gt;  101    2001
#:&gt; 102    1907
#:&gt; 103    2003
#:&gt; 104    1998
#:&gt; 105    2011
#:&gt; Name: year2, dtype: int64</code></pre>
</div>
<div id="select-multiple-columns" class="section level4" number="13.7.5.2">
<h4>
<span class="header-section-number">13.7.5.2</span> Select Multiple Columns<a class="anchor" aria-label="anchor" href="#select-multiple-columns"><i class="fas fa-link"></i></a>
</h4>
<p>Multiple columns return as <strong>panda::Dataframe</strong> object`</p>
<p>Example below returns DataFrame with Single Column</p>
<div class="sourceCode" id="cb1211"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1211-1"><a href="pandas-1.html#cb1211-1" aria-hidden="true" tabindex="-1"></a>df[[<span class="st">'name'</span>]]  <span class="co"># return one column dataframe</span></span></code></pre></div>
<pre><code>#:&gt;         name
#:&gt; 101    Alice
#:&gt; 102      Bob
#:&gt; 103  Charles
#:&gt; 104    David
#:&gt; 105     Eric</code></pre>
<div class="sourceCode" id="cb1213"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1213-1"><a href="pandas-1.html#cb1213-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(</span>
<span id="cb1213-2"><a href="pandas-1.html#cb1213-2" aria-hidden="true" tabindex="-1"></a>  df[[<span class="st">'name'</span>,<span class="st">'year1'</span>]]       ,<span class="st">'</span><span class="ch">\n\n</span><span class="st">'</span>,</span>
<span id="cb1213-3"><a href="pandas-1.html#cb1213-3" aria-hidden="true" tabindex="-1"></a>  df.loc[:,[<span class="st">'name'</span>,<span class="st">'year1'</span>]])</span></code></pre></div>
<pre><code>#:&gt;         name  year1
#:&gt; 101    Alice   2017
#:&gt; 102      Bob   2017
#:&gt; 103  Charles   2017
#:&gt; 104    David   2018
#:&gt; 105     Eric   2018 
#:&gt; 
#:&gt;          name  year1
#:&gt; 101    Alice   2017
#:&gt; 102      Bob   2017
#:&gt; 103  Charles   2017
#:&gt; 104    David   2018
#:&gt; 105     Eric   2018</code></pre>
<p><strong>Select Range of Columns</strong></p>
<div class="sourceCode" id="cb1215"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1215-1"><a href="pandas-1.html#cb1215-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(</span>
<span id="cb1215-2"><a href="pandas-1.html#cb1215-2" aria-hidden="true" tabindex="-1"></a>  df.loc [ : , <span class="st">'year1'</span>:<span class="st">'year2'</span>], <span class="st">'</span><span class="ch">\n\n</span><span class="st">'</span>,</span>
<span id="cb1215-3"><a href="pandas-1.html#cb1215-3" aria-hidden="true" tabindex="-1"></a>  df.iloc[ : , [<span class="dv">0</span>,<span class="dv">3</span>]]           ,<span class="st">'</span><span class="ch">\n\n</span><span class="st">'</span>,</span>
<span id="cb1215-4"><a href="pandas-1.html#cb1215-4" aria-hidden="true" tabindex="-1"></a>  df.iloc[ : , <span class="dv">0</span>:<span class="dv">3</span>]</span>
<span id="cb1215-5"><a href="pandas-1.html#cb1215-5" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<pre><code>#:&gt;      year1  salary  year2
#:&gt; 101   2017   40000   2001
#:&gt; 102   2017   24000   1907
#:&gt; 103   2017   31000   2003
#:&gt; 104   2018   20000   1998
#:&gt; 105   2018   30000   2011 
#:&gt; 
#:&gt;       empID  year2
#:&gt; 101    100   2001
#:&gt; 102    101   1907
#:&gt; 103    102   2003
#:&gt; 104    103   1998
#:&gt; 105    104   2011 
#:&gt; 
#:&gt;       empID  year1  salary
#:&gt; 101    100   2017   40000
#:&gt; 102    101   2017   24000
#:&gt; 103    102   2017   31000
#:&gt; 104    103   2018   20000
#:&gt; 105    104   2018   30000</code></pre>
</div>
<div id="by-column-name-.filter" class="section level4" number="13.7.5.3">
<h4>
<span class="header-section-number">13.7.5.3</span> By Column Name (.filter)<a class="anchor" aria-label="anchor" href="#by-column-name-.filter"><i class="fas fa-link"></i></a>
</h4>
<p><code>.filter(items=None, like=None, regex=None, axis=1)</code></p>
<p><strong>like = Substring Matches</strong></p>
<div class="sourceCode" id="cb1217"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1217-1"><a href="pandas-1.html#cb1217-1" aria-hidden="true" tabindex="-1"></a>df.<span class="bu">filter</span>( like<span class="op">=</span><span class="st">'year'</span>,  axis<span class="op">=</span><span class="st">'columns'</span>)  <span class="co">## or axis = 1</span></span></code></pre></div>
<pre><code>#:&gt;      year1  year2
#:&gt; 101   2017   2001
#:&gt; 102   2017   1907
#:&gt; 103   2017   2003
#:&gt; 104   2018   1998
#:&gt; 105   2018   2011</code></pre>
<p><strong>items = list of column names</strong></p>
<div class="sourceCode" id="cb1219"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1219-1"><a href="pandas-1.html#cb1219-1" aria-hidden="true" tabindex="-1"></a>df.<span class="bu">filter</span>( items<span class="op">=</span>(<span class="st">'year1'</span>,<span class="st">'year2'</span>),  axis<span class="op">=</span><span class="dv">1</span>)  <span class="co">## or axis = 1</span></span></code></pre></div>
<pre><code>#:&gt;      year1  year2
#:&gt; 101   2017   2001
#:&gt; 102   2017   1907
#:&gt; 103   2017   2003
#:&gt; 104   2018   1998
#:&gt; 105   2018   2011</code></pre>
<p><strong>regex = Regular Expression</strong><br>
Select column names that contain integer</p>
<div class="sourceCode" id="cb1221"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1221-1"><a href="pandas-1.html#cb1221-1" aria-hidden="true" tabindex="-1"></a>df.<span class="bu">filter</span>(regex<span class="op">=</span><span class="st">'\d'</span>)  <span class="co">## default axis=1 if DataFrame</span></span></code></pre></div>
<pre><code>#:&gt;      year1  year2
#:&gt; 101   2017   2001
#:&gt; 102   2017   1907
#:&gt; 103   2017   2003
#:&gt; 104   2018   1998
#:&gt; 105   2018   2011</code></pre>
</div>
<div id="data-type-.select_dtypes" class="section level4" number="13.7.5.4">
<h4>
<span class="header-section-number">13.7.5.4</span> Data Type (.select_dtypes)<a class="anchor" aria-label="anchor" href="#data-type-.select_dtypes"><i class="fas fa-link"></i></a>
</h4>
<pre><code>df.select_dtypes(include=None, exclude=None)</code></pre>
<p>Always return <strong>panda::DataFrame</strong>, even though only single column matches.<br>
Allowed types are:
- number (integer and float)<br>
- integer / float
- datetime<br>
- timedelta<br>
- category</p>
<div class="sourceCode" id="cb1224"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1224-1"><a href="pandas-1.html#cb1224-1" aria-hidden="true" tabindex="-1"></a><span class="co"># error: no attribute get_dtype_counts</span></span>
<span id="cb1224-2"><a href="pandas-1.html#cb1224-2" aria-hidden="true" tabindex="-1"></a>df.get_dtype_counts()</span></code></pre></div>
<div class="sourceCode" id="cb1225"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1225-1"><a href="pandas-1.html#cb1225-1" aria-hidden="true" tabindex="-1"></a>df.select_dtypes(exclude<span class="op">=</span><span class="st">'number'</span>)</span></code></pre></div>
<pre><code>#:&gt;         name
#:&gt; 101    Alice
#:&gt; 102      Bob
#:&gt; 103  Charles
#:&gt; 104    David
#:&gt; 105     Eric</code></pre>
<div class="sourceCode" id="cb1227"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1227-1"><a href="pandas-1.html#cb1227-1" aria-hidden="true" tabindex="-1"></a>df.select_dtypes(exclude<span class="op">=</span>(<span class="st">'number'</span>,<span class="st">'object'</span>))</span></code></pre></div>
<pre><code>#:&gt; Empty DataFrame
#:&gt; Columns: []
#:&gt; Index: [101, 102, 103, 104, 105]</code></pre>
</div>
</div>
<div id="column-manipulation-1" class="section level3" number="13.7.6">
<h3>
<span class="header-section-number">13.7.6</span> Column Manipulation<a class="anchor" aria-label="anchor" href="#column-manipulation-1"><i class="fas fa-link"></i></a>
</h3>
<div id="sample-data-7" class="section level4" number="13.7.6.1">
<h4>
<span class="header-section-number">13.7.6.1</span> Sample Data<a class="anchor" aria-label="anchor" href="#sample-data-7"><i class="fas fa-link"></i></a>
</h4>
<div class="sourceCode" id="cb1229"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1229-1"><a href="pandas-1.html#cb1229-1" aria-hidden="true" tabindex="-1"></a>df</span></code></pre></div>
<pre><code>#:&gt;      empID  year1  salary  year2     name
#:&gt; 101    100   2017   40000   2001    Alice
#:&gt; 102    101   2017   24000   1907      Bob
#:&gt; 103    102   2017   31000   2003  Charles
#:&gt; 104    103   2018   20000   1998    David
#:&gt; 105    104   2018   30000   2011     Eric</code></pre>
</div>
<div id="renaming-columns" class="section level4" number="13.7.6.2">
<h4>
<span class="header-section-number">13.7.6.2</span> Renaming Columns<a class="anchor" aria-label="anchor" href="#renaming-columns"><i class="fas fa-link"></i></a>
</h4>
<p><strong>Method 1 : Rename All Columns (.columns =)</strong><br>
- Construct the new column names, <strong>check if there is no missing</strong> column names<br>
- <strong>Missing columns</strong> will return <strong>error</strong><br>
- Direct Assignment to column property result in change to dataframe</p>
<div class="sourceCode" id="cb1231"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1231-1"><a href="pandas-1.html#cb1231-1" aria-hidden="true" tabindex="-1"></a>new_columns <span class="op">=</span> [<span class="st">'year.1'</span>,<span class="st">'salary'</span>,<span class="st">'year.2'</span>,<span class="st">'empID'</span>,<span class="st">'name'</span>]</span>
<span id="cb1231-2"><a href="pandas-1.html#cb1231-2" aria-hidden="true" tabindex="-1"></a>df.columns <span class="op">=</span> new_columns</span>
<span id="cb1231-3"><a href="pandas-1.html#cb1231-3" aria-hidden="true" tabindex="-1"></a>df.head(<span class="dv">2</span>)</span></code></pre></div>
<pre><code>#:&gt;      year.1  salary  year.2  empID   name
#:&gt; 101     100    2017   40000   2001  Alice
#:&gt; 102     101    2017   24000   1907    Bob</code></pre>
<p><strong>Method 2 : Renaming Specific Column (.rename (columns=) )</strong>
- Change column name through <strong>rename</strong> function<br>
- Support <strong>inpalce</strong> option for original dataframe change<br>
- Missing column is OK</p>
<div class="sourceCode" id="cb1233"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1233-1"><a href="pandas-1.html#cb1233-1" aria-hidden="true" tabindex="-1"></a>df.rename( columns<span class="op">=</span>{<span class="st">'year.1'</span>:<span class="st">'year1'</span>, <span class="st">'year.2'</span>:<span class="st">'year2'</span>}, inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb1233-2"><a href="pandas-1.html#cb1233-2" aria-hidden="true" tabindex="-1"></a>df.head(<span class="dv">2</span>)</span></code></pre></div>
<pre><code>#:&gt;      year1  salary  year2  empID   name
#:&gt; 101    100    2017  40000   2001  Alice
#:&gt; 102    101    2017  24000   1907    Bob</code></pre>
</div>
<div id="reordering-columns" class="section level4" number="13.7.6.3">
<h4>
<span class="header-section-number">13.7.6.3</span> Reordering Columns<a class="anchor" aria-label="anchor" href="#reordering-columns"><i class="fas fa-link"></i></a>
</h4>
<p>Always return a new dataframe. There is <strong>no inplace option</strong> for reordering columns</p>
<p><strong>Method 1 - reindex(columns = )</strong><br>
- <strong>reindex</strong> may sounds like operation on row labels, but it works<br>
- <strong>Missmatch</strong> column names will result in <strong>NA</strong> for the unfound column</p>
<div class="sourceCode" id="cb1235"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1235-1"><a href="pandas-1.html#cb1235-1" aria-hidden="true" tabindex="-1"></a>new_colorder <span class="op">=</span> [ <span class="st">'empID'</span>, <span class="st">'name'</span>, <span class="st">'salary'</span>, <span class="st">'year1'</span>, <span class="st">'year2'</span>]</span>
<span id="cb1235-2"><a href="pandas-1.html#cb1235-2" aria-hidden="true" tabindex="-1"></a>df.reindex(columns <span class="op">=</span> new_colorder).head(<span class="dv">2</span>)</span></code></pre></div>
<pre><code>#:&gt;      empID   name  salary  year1  year2
#:&gt; 101   2001  Alice    2017    100  40000
#:&gt; 102   1907    Bob    2017    101  24000</code></pre>
<p><strong>Method 2 - [ ] notation</strong><br>
- <strong>Missmatch</strong> column will result in <strong>ERROR</strong></p>
<div class="sourceCode" id="cb1237"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1237-1"><a href="pandas-1.html#cb1237-1" aria-hidden="true" tabindex="-1"></a>new_colorder <span class="op">=</span> [ <span class="st">'empID'</span>, <span class="st">'name'</span>, <span class="st">'salary'</span>, <span class="st">'year1'</span>, <span class="st">'year2'</span>]</span>
<span id="cb1237-2"><a href="pandas-1.html#cb1237-2" aria-hidden="true" tabindex="-1"></a>df[new_colorder]</span></code></pre></div>
<pre><code>#:&gt;      empID     name  salary  year1  year2
#:&gt; 101   2001    Alice    2017    100  40000
#:&gt; 102   1907      Bob    2017    101  24000
#:&gt; 103   2003  Charles    2017    102  31000
#:&gt; 104   1998    David    2018    103  20000
#:&gt; 105   2011     Eric    2018    104  30000</code></pre>
</div>
<div id="duplicating-or-replacing-column" class="section level4" number="13.7.6.4">
<h4>
<span class="header-section-number">13.7.6.4</span> Duplicating or Replacing Column<a class="anchor" aria-label="anchor" href="#duplicating-or-replacing-column"><i class="fas fa-link"></i></a>
</h4>
<ul>
<li>
<strong>New Column</strong> will be created instantly using <strong>[] notation</strong><br>
</li>
<li>
<strong>DO NOT USE dot Notation</strong> because it is view only attribute</li>
</ul>
<div class="sourceCode" id="cb1239"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1239-1"><a href="pandas-1.html#cb1239-1" aria-hidden="true" tabindex="-1"></a>df[<span class="st">'year3'</span>] <span class="op">=</span> df.year1</span>
<span id="cb1239-2"><a href="pandas-1.html#cb1239-2" aria-hidden="true" tabindex="-1"></a>df</span></code></pre></div>
<pre><code>#:&gt;      year1  salary  year2  empID     name  year3
#:&gt; 101    100    2017  40000   2001    Alice    100
#:&gt; 102    101    2017  24000   1907      Bob    101
#:&gt; 103    102    2017  31000   2003  Charles    102
#:&gt; 104    103    2018  20000   1998    David    103
#:&gt; 105    104    2018  30000   2011     Eric    104</code></pre>
</div>
<div id="dropping-columns-.drop" class="section level4" number="13.7.6.5">
<h4>
<span class="header-section-number">13.7.6.5</span> Dropping Columns (.drop)<a class="anchor" aria-label="anchor" href="#dropping-columns-.drop"><i class="fas fa-link"></i></a>
</h4>
<pre><code>dataframe.drop( columns='column_name',    inplace=True/False)   # delete single column
dataframe.drop( columns=list_of_colnames, inplace=True/False)   # delete multiple column

dataframe.drop( index='row_label',         inplace=True/False)   # delete single row
dataframe.drop( index= list_of_row_labels, inplace=True/False)   # delete multiple rows
</code></pre>
<p><strong>inplace=True</strong> means column will be deleted from original dataframe. <strong>Default is False</strong>, which return a copy of dataframe</p>
<p><strong>By Column Name(s)</strong></p>
<div class="sourceCode" id="cb1242"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1242-1"><a href="pandas-1.html#cb1242-1" aria-hidden="true" tabindex="-1"></a>df.drop( columns<span class="op">=</span><span class="st">'year1'</span>) <span class="co"># drop single column</span></span></code></pre></div>
<pre><code>#:&gt;      salary  year2  empID     name  year3
#:&gt; 101    2017  40000   2001    Alice    100
#:&gt; 102    2017  24000   1907      Bob    101
#:&gt; 103    2017  31000   2003  Charles    102
#:&gt; 104    2018  20000   1998    David    103
#:&gt; 105    2018  30000   2011     Eric    104</code></pre>
<div class="sourceCode" id="cb1244"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1244-1"><a href="pandas-1.html#cb1244-1" aria-hidden="true" tabindex="-1"></a>df.drop(columns<span class="op">=</span>[<span class="st">'year2'</span>,<span class="st">'year3'</span>])  <span class="co"># drop multiple columns</span></span></code></pre></div>
<pre><code>#:&gt;      year1  salary  empID     name
#:&gt; 101    100    2017   2001    Alice
#:&gt; 102    101    2017   1907      Bob
#:&gt; 103    102    2017   2003  Charles
#:&gt; 104    103    2018   1998    David
#:&gt; 105    104    2018   2011     Eric</code></pre>
<p><strong>By Column Number(s)</strong><br>
Use dataframe.columns to produce interim list of column names</p>
<div class="sourceCode" id="cb1246"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1246-1"><a href="pandas-1.html#cb1246-1" aria-hidden="true" tabindex="-1"></a>df.drop( columns<span class="op">=</span>df.columns[[<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>]] )   <span class="co"># delete columns by list of column number</span></span></code></pre></div>
<pre><code>#:&gt;      year1  salary  year2
#:&gt; 101    100    2017  40000
#:&gt; 102    101    2017  24000
#:&gt; 103    102    2017  31000
#:&gt; 104    103    2018  20000
#:&gt; 105    104    2018  30000</code></pre>
<div class="sourceCode" id="cb1248"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1248-1"><a href="pandas-1.html#cb1248-1" aria-hidden="true" tabindex="-1"></a>df.drop( columns<span class="op">=</span>df.columns[<span class="dv">3</span>:<span class="dv">6</span>] )       <span class="co"># delete columns by range of column number</span></span></code></pre></div>
<pre><code>#:&gt;      year1  salary  year2
#:&gt; 101    100    2017  40000
#:&gt; 102    101    2017  24000
#:&gt; 103    102    2017  31000
#:&gt; 104    103    2018  20000
#:&gt; 105    104    2018  30000</code></pre>
</div>
</div>
<div id="subsetting-rows" class="section level3" number="13.7.7">
<h3>
<span class="header-section-number">13.7.7</span> Subsetting Rows<a class="anchor" aria-label="anchor" href="#subsetting-rows"><i class="fas fa-link"></i></a>
</h3>
<pre><code>dataframe.loc[ row_label       ]  # return series, single row
dataframe.loc[ row_label_list  ]  # multiple rows
dataframe.loc[ boolean_list    ]  # multiple rows

dataframe.iloc[ row_number       ]  # return series, single row
dataframe.iloc[ row_number_list  ]  # multiple rows
dataframe.iloc[ number_range     ]  # multiple rows

dataframe.sample(frac=)                                        # frac = 0.6 means sampling 60% of rows randomly</code></pre>
<div id="sample-data-8" class="section level4" number="13.7.7.1">
<h4>
<span class="header-section-number">13.7.7.1</span> Sample Data<a class="anchor" aria-label="anchor" href="#sample-data-8"><i class="fas fa-link"></i></a>
</h4>
<div class="sourceCode" id="cb1251"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1251-1"><a href="pandas-1.html#cb1251-1" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.DataFrame(</span>
<span id="cb1251-2"><a href="pandas-1.html#cb1251-2" aria-hidden="true" tabindex="-1"></a>    { <span class="st">'empID'</span>:  [<span class="dv">100</span>,      <span class="dv">101</span>,    <span class="dv">102</span>,      <span class="dv">103</span>,     <span class="dv">104</span>],</span>
<span id="cb1251-3"><a href="pandas-1.html#cb1251-3" aria-hidden="true" tabindex="-1"></a>      <span class="st">'year1'</span>:   [<span class="dv">2017</span>,     <span class="dv">2017</span>,   <span class="dv">2017</span>,      <span class="dv">2018</span>,    <span class="dv">2018</span>],</span>
<span id="cb1251-4"><a href="pandas-1.html#cb1251-4" aria-hidden="true" tabindex="-1"></a>      <span class="st">'name'</span>:   [<span class="st">'Alice'</span>,  <span class="st">'Bob'</span>,  <span class="st">'Charles'</span>,<span class="st">'David'</span>, <span class="st">'Eric'</span>],</span>
<span id="cb1251-5"><a href="pandas-1.html#cb1251-5" aria-hidden="true" tabindex="-1"></a>      <span class="st">'year2'</span>:   [<span class="dv">2001</span>,     <span class="dv">1907</span>,   <span class="dv">2003</span>,      <span class="dv">1998</span>,    <span class="dv">2011</span>],</span>
<span id="cb1251-6"><a href="pandas-1.html#cb1251-6" aria-hidden="true" tabindex="-1"></a>      <span class="st">'salary'</span>: [<span class="dv">40000</span>,    <span class="dv">24000</span>,  <span class="dv">31000</span>,     <span class="dv">20000</span>,   <span class="dv">30000</span>]},</span>
<span id="cb1251-7"><a href="pandas-1.html#cb1251-7" aria-hidden="true" tabindex="-1"></a>    columns <span class="op">=</span> [<span class="st">'year1'</span>,<span class="st">'salary'</span>,<span class="st">'year2'</span>,<span class="st">'empID'</span>,<span class="st">'name'</span>]).set_index([<span class="st">'empID'</span>])</span>
<span id="cb1251-8"><a href="pandas-1.html#cb1251-8" aria-hidden="true" tabindex="-1"></a>df</span></code></pre></div>
<pre><code>#:&gt;        year1  salary  year2     name
#:&gt; empID                               
#:&gt; 100     2017   40000   2001    Alice
#:&gt; 101     2017   24000   1907      Bob
#:&gt; 102     2017   31000   2003  Charles
#:&gt; 103     2018   20000   1998    David
#:&gt; 104     2018   30000   2011     Eric</code></pre>
</div>
<div id="by-index-or-boolean" class="section level4" number="13.7.7.2">
<h4>
<span class="header-section-number">13.7.7.2</span> By Index or Boolean<a class="anchor" aria-label="anchor" href="#by-index-or-boolean"><i class="fas fa-link"></i></a>
</h4>
<p><strong>Single Index</strong> return Series</p>
<div class="sourceCode" id="cb1253"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1253-1"><a href="pandas-1.html#cb1253-1" aria-hidden="true" tabindex="-1"></a>df.loc[<span class="dv">101</span>]         <span class="co"># by single row label, return series</span></span></code></pre></div>
<pre><code>#:&gt; year1      2017
#:&gt; salary    24000
#:&gt; year2      1907
#:&gt; name        Bob
#:&gt; Name: 101, dtype: object</code></pre>
<p><strong>List or Range of Indexes</strong> returns DataFrame</p>
<div class="sourceCode" id="cb1255"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1255-1"><a href="pandas-1.html#cb1255-1" aria-hidden="true" tabindex="-1"></a>df.loc[ [<span class="dv">100</span>,<span class="dv">103</span>] ]  <span class="co"># by multiple row labels</span></span></code></pre></div>
<pre><code>#:&gt;        year1  salary  year2   name
#:&gt; empID                             
#:&gt; 100     2017   40000   2001  Alice
#:&gt; 103     2018   20000   1998  David</code></pre>
<div class="sourceCode" id="cb1257"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1257-1"><a href="pandas-1.html#cb1257-1" aria-hidden="true" tabindex="-1"></a>df.loc[  <span class="dv">100</span>:<span class="dv">103</span>  ]  <span class="co"># by range of row labels</span></span></code></pre></div>
<pre><code>#:&gt;        year1  salary  year2     name
#:&gt; empID                               
#:&gt; 100     2017   40000   2001    Alice
#:&gt; 101     2017   24000   1907      Bob
#:&gt; 102     2017   31000   2003  Charles
#:&gt; 103     2018   20000   1998    David</code></pre>
<p><strong>List of Boolean</strong> returns DataFrame</p>
<div class="sourceCode" id="cb1259"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1259-1"><a href="pandas-1.html#cb1259-1" aria-hidden="true" tabindex="-1"></a>criteria <span class="op">=</span> (df.salary <span class="op">&gt;</span> <span class="dv">30000</span>) <span class="op">&amp;</span> (df.year1<span class="op">==</span><span class="dv">2017</span>)</span>
<span id="cb1259-2"><a href="pandas-1.html#cb1259-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span> (criteria)</span></code></pre></div>
<pre><code>#:&gt; empID
#:&gt; 100     True
#:&gt; 101    False
#:&gt; 102     True
#:&gt; 103    False
#:&gt; 104    False
#:&gt; dtype: bool</code></pre>
<div class="sourceCode" id="cb1261"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1261-1"><a href="pandas-1.html#cb1261-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span> (df.loc[criteria])</span></code></pre></div>
<pre><code>#:&gt;        year1  salary  year2     name
#:&gt; empID                               
#:&gt; 100     2017   40000   2001    Alice
#:&gt; 102     2017   31000   2003  Charles</code></pre>
</div>
<div id="by-row-number" class="section level4" number="13.7.7.3">
<h4>
<span class="header-section-number">13.7.7.3</span> By Row Number<a class="anchor" aria-label="anchor" href="#by-row-number"><i class="fas fa-link"></i></a>
</h4>
<p><strong>Single Row</strong> return Series</p>
<div class="sourceCode" id="cb1263"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1263-1"><a href="pandas-1.html#cb1263-1" aria-hidden="true" tabindex="-1"></a>df.iloc[<span class="dv">1</span>]  <span class="co"># by single row number</span></span></code></pre></div>
<pre><code>#:&gt; year1      2017
#:&gt; salary    24000
#:&gt; year2      1907
#:&gt; name        Bob
#:&gt; Name: 101, dtype: object</code></pre>
<p>Multiple rows <strong>returned as dataframe</strong> object</p>
<div class="sourceCode" id="cb1265"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1265-1"><a href="pandas-1.html#cb1265-1" aria-hidden="true" tabindex="-1"></a>df.iloc[ [<span class="dv">0</span>,<span class="dv">3</span>] ]    <span class="co"># by row numbers</span></span></code></pre></div>
<pre><code>#:&gt;        year1  salary  year2   name
#:&gt; empID                             
#:&gt; 100     2017   40000   2001  Alice
#:&gt; 103     2018   20000   1998  David</code></pre>
<div class="sourceCode" id="cb1267"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1267-1"><a href="pandas-1.html#cb1267-1" aria-hidden="true" tabindex="-1"></a>df.iloc[  <span class="dv">0</span>:<span class="dv">3</span>  ]    <span class="co"># by row number range</span></span></code></pre></div>
<pre><code>#:&gt;        year1  salary  year2     name
#:&gt; empID                               
#:&gt; 100     2017   40000   2001    Alice
#:&gt; 101     2017   24000   1907      Bob
#:&gt; 102     2017   31000   2003  Charles</code></pre>
</div>
<div id="by-expression-.query" class="section level4" number="13.7.7.4">
<h4>
<span class="header-section-number">13.7.7.4</span> By Expression (.query)<a class="anchor" aria-label="anchor" href="#by-expression-.query"><i class="fas fa-link"></i></a>
</h4>
<p><code>.query(expr, inplace=False)</code></p>
<div class="sourceCode" id="cb1269"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1269-1"><a href="pandas-1.html#cb1269-1" aria-hidden="true" tabindex="-1"></a>df.query(<span class="st">'salary&lt;=31000 and year1 == 2017'</span>)</span></code></pre></div>
<pre><code>#:&gt;        year1  salary  year2     name
#:&gt; empID                               
#:&gt; 101     2017   24000   1907      Bob
#:&gt; 102     2017   31000   2003  Charles</code></pre>
</div>
<div id="by-random-.sample" class="section level4" number="13.7.7.5">
<h4>
<span class="header-section-number">13.7.7.5</span> By Random (.sample)<a class="anchor" aria-label="anchor" href="#by-random-.sample"><i class="fas fa-link"></i></a>
</h4>
<div class="sourceCode" id="cb1271"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1271-1"><a href="pandas-1.html#cb1271-1" aria-hidden="true" tabindex="-1"></a>np.random.seed(<span class="dv">15</span>)</span>
<span id="cb1271-2"><a href="pandas-1.html#cb1271-2" aria-hidden="true" tabindex="-1"></a>df.sample(frac<span class="op">=</span><span class="fl">0.6</span>) <span class="co">#randomly pick 60% of rows, without replacement</span></span></code></pre></div>
<pre><code>#:&gt;        year1  salary  year2     name
#:&gt; empID                               
#:&gt; 102     2017   31000   2003  Charles
#:&gt; 103     2018   20000   1998    David
#:&gt; 104     2018   30000   2011     Eric</code></pre>
</div>
</div>
<div id="row-manipulation" class="section level3" number="13.7.8">
<h3>
<span class="header-section-number">13.7.8</span> Row Manipulation<a class="anchor" aria-label="anchor" href="#row-manipulation"><i class="fas fa-link"></i></a>
</h3>
<div id="sample-data-9" class="section level4" number="13.7.8.1">
<h4>
<span class="header-section-number">13.7.8.1</span> Sample Data<a class="anchor" aria-label="anchor" href="#sample-data-9"><i class="fas fa-link"></i></a>
</h4>
</div>
<div id="appending-rows" class="section level4" number="13.7.8.2">
<h4>
<span class="header-section-number">13.7.8.2</span> Appending Rows<a class="anchor" aria-label="anchor" href="#appending-rows"><i class="fas fa-link"></i></a>
</h4>
<p>Appending rows is more computaional intensive then concatenate.
Item can be added as single item or multi-items (list form)</p>
<p><strong>Append From Another DataFrame</strong></p>
<ul>
<li>When <code>ignore_index=True</code>, pandas will <strong>drop the original Index</strong> and recreate with 0,1,2,3…<br>
</li>
<li>It is recommended to ignore index IF the data source index is <strong>not unique</strong>.<br>
</li>
<li>New columns will be added in the result, with NaN on original dataframe.</li>
</ul>
<div class="sourceCode" id="cb1273"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1273-1"><a href="pandas-1.html#cb1273-1" aria-hidden="true" tabindex="-1"></a>my_df <span class="op">=</span> pd.DataFrame(</span>
<span id="cb1273-2"><a href="pandas-1.html#cb1273-2" aria-hidden="true" tabindex="-1"></a>          data<span class="op">=</span> {<span class="st">'Id'</span>:   [<span class="dv">10</span>,<span class="dv">20</span>,<span class="dv">30</span>],</span>
<span id="cb1273-3"><a href="pandas-1.html#cb1273-3" aria-hidden="true" tabindex="-1"></a>                 <span class="st">'Name'</span>: [<span class="st">'Aaa'</span>,<span class="st">'Bbb'</span>,<span class="st">'Ccc'</span>]})</span>
<span id="cb1273-4"><a href="pandas-1.html#cb1273-4" aria-hidden="true" tabindex="-1"></a><span class="co">#                 .set_index('Id')</span></span>
<span id="cb1273-5"><a href="pandas-1.html#cb1273-5" aria-hidden="true" tabindex="-1"></a>                 </span>
<span id="cb1273-6"><a href="pandas-1.html#cb1273-6" aria-hidden="true" tabindex="-1"></a>my_df_new <span class="op">=</span> pd.DataFrame(</span>
<span id="cb1273-7"><a href="pandas-1.html#cb1273-7" aria-hidden="true" tabindex="-1"></a>            data<span class="op">=</span> {<span class="st">'Id'</span>:   [<span class="dv">40</span>,<span class="dv">50</span>],</span>
<span id="cb1273-8"><a href="pandas-1.html#cb1273-8" aria-hidden="true" tabindex="-1"></a>                   <span class="st">'Name'</span>: [<span class="st">'Ddd'</span>,<span class="st">'Eee'</span>],</span>
<span id="cb1273-9"><a href="pandas-1.html#cb1273-9" aria-hidden="true" tabindex="-1"></a>                   <span class="st">'Age'</span>:  [<span class="dv">12</span>,<span class="dv">13</span>]})  </span>
<span id="cb1273-10"><a href="pandas-1.html#cb1273-10" aria-hidden="true" tabindex="-1"></a>                   <span class="co">#.set_index('Id')</span></span>
<span id="cb1273-11"><a href="pandas-1.html#cb1273-11" aria-hidden="true" tabindex="-1"></a>                   </span>
<span id="cb1273-12"><a href="pandas-1.html#cb1273-12" aria-hidden="true" tabindex="-1"></a>my_df_append  <span class="op">=</span> my_df.append(my_df_new, ignore_index<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb1273-13"><a href="pandas-1.html#cb1273-13" aria-hidden="true" tabindex="-1"></a>my_df_noindex <span class="op">=</span> my_df.append(my_df_new, ignore_index<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb1273-14"><a href="pandas-1.html#cb1273-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1273-15"><a href="pandas-1.html#cb1273-15" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Original DataFrame:</span><span class="ch">\n</span><span class="st">"</span>, my_df,</span>
<span id="cb1273-16"><a href="pandas-1.html#cb1273-16" aria-hidden="true" tabindex="-1"></a>      <span class="st">"</span><span class="ch">\n\n</span><span class="st">To Be Appended DataFrame:</span><span class="ch">\n</span><span class="st">"</span>, my_df_new,</span>
<span id="cb1273-17"><a href="pandas-1.html#cb1273-17" aria-hidden="true" tabindex="-1"></a>      <span class="st">"</span><span class="ch">\n\n</span><span class="st">Appended DataFrame (index maintained):</span><span class="ch">\n</span><span class="st">"</span>, my_df_append,</span>
<span id="cb1273-18"><a href="pandas-1.html#cb1273-18" aria-hidden="true" tabindex="-1"></a>      <span class="st">"</span><span class="ch">\n\n</span><span class="st">Appended DataFrame (index ignored):</span><span class="ch">\n</span><span class="st">"</span>, my_df_noindex)</span></code></pre></div>
<pre><code>#:&gt; Original DataFrame:
#:&gt;     Id Name
#:&gt; 0  10  Aaa
#:&gt; 1  20  Bbb
#:&gt; 2  30  Ccc 
#:&gt; 
#:&gt; To Be Appended DataFrame:
#:&gt;     Id Name  Age
#:&gt; 0  40  Ddd   12
#:&gt; 1  50  Eee   13 
#:&gt; 
#:&gt; Appended DataFrame (index maintained):
#:&gt;     Id Name   Age
#:&gt; 0  10  Aaa   NaN
#:&gt; 1  20  Bbb   NaN
#:&gt; 2  30  Ccc   NaN
#:&gt; 0  40  Ddd  12.0
#:&gt; 1  50  Eee  13.0 
#:&gt; 
#:&gt; Appended DataFrame (index ignored):
#:&gt;     Id Name   Age
#:&gt; 0  10  Aaa   NaN
#:&gt; 1  20  Bbb   NaN
#:&gt; 2  30  Ccc   NaN
#:&gt; 3  40  Ddd  12.0
#:&gt; 4  50  Eee  13.0</code></pre>
<p><strong>Append From Dictionary</strong></p>
<div class="sourceCode" id="cb1275"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1275-1"><a href="pandas-1.html#cb1275-1" aria-hidden="true" tabindex="-1"></a>my_df <span class="op">=</span> pd.DataFrame(</span>
<span id="cb1275-2"><a href="pandas-1.html#cb1275-2" aria-hidden="true" tabindex="-1"></a>          data<span class="op">=</span> {<span class="st">'Id'</span>:   [<span class="dv">10</span>,<span class="dv">20</span>,<span class="dv">30</span>],</span>
<span id="cb1275-3"><a href="pandas-1.html#cb1275-3" aria-hidden="true" tabindex="-1"></a>                 <span class="st">'Name'</span>: [<span class="st">'Aaa'</span>,<span class="st">'Bbb'</span>,<span class="st">'Ccc'</span>]})  <span class="op">\</span></span>
<span id="cb1275-4"><a href="pandas-1.html#cb1275-4" aria-hidden="true" tabindex="-1"></a>                 .set_index(<span class="st">'Id'</span>)</span>
<span id="cb1275-5"><a href="pandas-1.html#cb1275-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1275-6"><a href="pandas-1.html#cb1275-6" aria-hidden="true" tabindex="-1"></a>new_item1 <span class="op">=</span> {<span class="st">'Id'</span>:<span class="dv">40</span>, <span class="st">'Name'</span>: <span class="st">'Ddd'</span>}</span>
<span id="cb1275-7"><a href="pandas-1.html#cb1275-7" aria-hidden="true" tabindex="-1"></a>new_item2 <span class="op">=</span> {<span class="st">'Id'</span>:<span class="dv">50</span>, <span class="st">'Name'</span>: <span class="st">'Eee'</span>}</span>
<span id="cb1275-8"><a href="pandas-1.html#cb1275-8" aria-hidden="true" tabindex="-1"></a>new_item3 <span class="op">=</span> {<span class="st">'Id'</span>:<span class="dv">60</span>, <span class="st">'Name'</span>: <span class="st">'Fff'</span>}</span>
<span id="cb1275-9"><a href="pandas-1.html#cb1275-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1275-10"><a href="pandas-1.html#cb1275-10" aria-hidden="true" tabindex="-1"></a>my_df_one   <span class="op">=</span> my_df.append( new_item1, ignore_index<span class="op">=</span><span class="va">True</span> )</span>
<span id="cb1275-11"><a href="pandas-1.html#cb1275-11" aria-hidden="true" tabindex="-1"></a>my_df_multi <span class="op">=</span> my_df.append( [new_item2, new_item3], ignore_index<span class="op">=</span><span class="va">True</span> )</span>
<span id="cb1275-12"><a href="pandas-1.html#cb1275-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1275-13"><a href="pandas-1.html#cb1275-13" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Original DataFrame:</span><span class="ch">\n</span><span class="st">"</span>, my_df,</span>
<span id="cb1275-14"><a href="pandas-1.html#cb1275-14" aria-hidden="true" tabindex="-1"></a>      <span class="st">"</span><span class="ch">\n\n</span><span class="st">Add One Item (index ignored):</span><span class="ch">\n</span><span class="st">"</span>, my_df_one,</span>
<span id="cb1275-15"><a href="pandas-1.html#cb1275-15" aria-hidden="true" tabindex="-1"></a>      <span class="st">"</span><span class="ch">\n\n</span><span class="st">Add Multi Item (index ignored):</span><span class="ch">\n</span><span class="st">"</span>, my_df_multi)</span></code></pre></div>
<pre><code>#:&gt; Original DataFrame:
#:&gt;     Name
#:&gt; Id     
#:&gt; 10  Aaa
#:&gt; 20  Bbb
#:&gt; 30  Ccc 
#:&gt; 
#:&gt; Add One Item (index ignored):
#:&gt;    Name    Id
#:&gt; 0  Aaa   NaN
#:&gt; 1  Bbb   NaN
#:&gt; 2  Ccc   NaN
#:&gt; 3  Ddd  40.0 
#:&gt; 
#:&gt; Add Multi Item (index ignored):
#:&gt;    Name    Id
#:&gt; 0  Aaa   NaN
#:&gt; 1  Bbb   NaN
#:&gt; 2  Ccc   NaN
#:&gt; 3  Eee  50.0
#:&gt; 4  Fff  60.0</code></pre>
<p><strong>Appending <code>None</code> items(s)</strong></p>
<p>Adding <strong>single None</strong> item has <strong>no effect</strong> (nothing added).<br>
Adding <strong>None in list form (multiple items)</strong> creates rows with None.<br><code>ignore_index</code> is not important here.</p>
<div class="sourceCode" id="cb1277"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1277-1"><a href="pandas-1.html#cb1277-1" aria-hidden="true" tabindex="-1"></a>single_none <span class="op">=</span> my_df.append( <span class="va">None</span>  )</span>
<span id="cb1277-2"><a href="pandas-1.html#cb1277-2" aria-hidden="true" tabindex="-1"></a>multi_none  <span class="op">=</span> my_df.append( [<span class="va">None</span>])</span>
<span id="cb1277-3"><a href="pandas-1.html#cb1277-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1277-4"><a href="pandas-1.html#cb1277-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Original DataFrame:</span><span class="ch">\n</span><span class="st">"</span>, my_df,</span>
<span id="cb1277-5"><a href="pandas-1.html#cb1277-5" aria-hidden="true" tabindex="-1"></a>      <span class="st">"</span><span class="ch">\n\n</span><span class="st">Add One None (index ignored):</span><span class="ch">\n</span><span class="st">"</span>, single_none,</span>
<span id="cb1277-6"><a href="pandas-1.html#cb1277-6" aria-hidden="true" tabindex="-1"></a>      <span class="st">"</span><span class="ch">\n\n</span><span class="st">Add List of None (index ignored):</span><span class="ch">\n</span><span class="st">"</span>, multi_none)</span></code></pre></div>
<pre><code>#:&gt; Original DataFrame:
#:&gt;     Name
#:&gt; Id     
#:&gt; 10  Aaa
#:&gt; 20  Bbb
#:&gt; 30  Ccc 
#:&gt; 
#:&gt; Add One None (index ignored):
#:&gt;     Name
#:&gt; Id     
#:&gt; 10  Aaa
#:&gt; 20  Bbb
#:&gt; 30  Ccc 
#:&gt; 
#:&gt; Add List of None (index ignored):
#:&gt;     Name     0
#:&gt; 10  Aaa   NaN
#:&gt; 20  Bbb   NaN
#:&gt; 30  Ccc   NaN
#:&gt; 0   NaN  None</code></pre>
<p><strong>Appending Items Containing None</strong> results in <strong>ERROR</strong></p>
<div class="sourceCode" id="cb1279"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1279-1"><a href="pandas-1.html#cb1279-1" aria-hidden="true" tabindex="-1"></a><span class="co"># error</span></span>
<span id="cb1279-2"><a href="pandas-1.html#cb1279-2" aria-hidden="true" tabindex="-1"></a>my_df.append( [new_item1, <span class="va">None</span>] )</span></code></pre></div>
</div>
<div id="concatenate-rows" class="section level4" number="13.7.8.3">
<h4>
<span class="header-section-number">13.7.8.3</span> Concatenate Rows<a class="anchor" aria-label="anchor" href="#concatenate-rows"><i class="fas fa-link"></i></a>
</h4>
</div>
<div id="dropping-rows-.drop" class="section level4" number="13.7.8.4">
<h4>
<span class="header-section-number">13.7.8.4</span> Dropping Rows (.drop)<a class="anchor" aria-label="anchor" href="#dropping-rows-.drop"><i class="fas fa-link"></i></a>
</h4>
<p><code>.drop(labels=None, axis=0, index=None, columns=None, level=None, inplace=False, errors='raise')</code></p>
<p><strong>By Row Label(s)</strong></p>
<div class="sourceCode" id="cb1280"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1280-1"><a href="pandas-1.html#cb1280-1" aria-hidden="true" tabindex="-1"></a>df.drop(index<span class="op">=</span><span class="dv">100</span>)       <span class="co"># single row</span></span></code></pre></div>
<pre><code>#:&gt;        year1  salary  year2     name
#:&gt; empID                               
#:&gt; 101     2017   24000   1907      Bob
#:&gt; 102     2017   31000   2003  Charles
#:&gt; 103     2018   20000   1998    David
#:&gt; 104     2018   30000   2011     Eric</code></pre>
<div class="sourceCode" id="cb1282"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1282-1"><a href="pandas-1.html#cb1282-1" aria-hidden="true" tabindex="-1"></a>df.drop(index<span class="op">=</span>[<span class="dv">100</span>,<span class="dv">103</span>])   <span class="co"># multiple rows</span></span></code></pre></div>
<pre><code>#:&gt;        year1  salary  year2     name
#:&gt; empID                               
#:&gt; 101     2017   24000   1907      Bob
#:&gt; 102     2017   31000   2003  Charles
#:&gt; 104     2018   30000   2011     Eric</code></pre>
</div>
</div>
<div id="slicing" class="section level3" number="13.7.9">
<h3>
<span class="header-section-number">13.7.9</span> Slicing<a class="anchor" aria-label="anchor" href="#slicing"><i class="fas fa-link"></i></a>
</h3>
<div id="sample-data-10" class="section level4" number="13.7.9.1">
<h4>
<span class="header-section-number">13.7.9.1</span> Sample Data<a class="anchor" aria-label="anchor" href="#sample-data-10"><i class="fas fa-link"></i></a>
</h4>
<div class="sourceCode" id="cb1284"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1284-1"><a href="pandas-1.html#cb1284-1" aria-hidden="true" tabindex="-1"></a>df</span></code></pre></div>
<pre><code>#:&gt;        year1  salary  year2     name
#:&gt; empID                               
#:&gt; 100     2017   40000   2001    Alice
#:&gt; 101     2017   24000   1907      Bob
#:&gt; 102     2017   31000   2003  Charles
#:&gt; 103     2018   20000   1998    David
#:&gt; 104     2018   30000   2011     Eric</code></pre>
</div>
<div id="getting-one-cell" class="section level4" number="13.7.9.2">
<h4>
<span class="header-section-number">13.7.9.2</span> Getting One Cell<a class="anchor" aria-label="anchor" href="#getting-one-cell"><i class="fas fa-link"></i></a>
</h4>
<p><strong>By Row Label and Column Name (loc)</strong></p>
<pre><code>dataframe.loc [ row_label , col_name   ]    # by row label and column names
dataframe.loc [ bool_list , col_name   ]    # by row label and column names
dataframe.iloc[ row_number, col_number ]    # by row and column number</code></pre>
<div class="sourceCode" id="cb1287"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1287-1"><a href="pandas-1.html#cb1287-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span> (df.loc[<span class="dv">100</span>,<span class="st">'year1'</span>])</span></code></pre></div>
<pre><code>#:&gt; 2017</code></pre>
<p><strong>By Row Number and Column Number (iloc)</strong></p>
<div class="sourceCode" id="cb1289"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1289-1"><a href="pandas-1.html#cb1289-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span> (df.iloc[<span class="dv">1</span>,<span class="dv">2</span>])</span></code></pre></div>
<pre><code>#:&gt; 1907</code></pre>
</div>
<div id="getting-multiple-cells" class="section level4" number="13.7.9.3">
<h4>
<span class="header-section-number">13.7.9.3</span> Getting Multiple Cells<a class="anchor" aria-label="anchor" href="#getting-multiple-cells"><i class="fas fa-link"></i></a>
</h4>
<p>Specify rows and columns (by individual or range)</p>
<pre><code>dataframe.loc [ list/range_of_row_labels , list/range_col_names   ]    # by row label and column names
dataframe.iloc[ list/range_row_numbers,    list/range_col_numbers ]    # by row number</code></pre>
<p><strong>By Index and Column Name (loc)</strong></p>
<div class="sourceCode" id="cb1292"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1292-1"><a href="pandas-1.html#cb1292-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span> (df.loc[ [<span class="dv">101</span>,<span class="dv">103</span>], [<span class="st">'name'</span>,<span class="st">'year1'</span>] ], <span class="st">'</span><span class="ch">\n</span><span class="st">'</span>)  <span class="co"># by list of row label and column names</span></span></code></pre></div>
<pre><code>#:&gt;         name  year1
#:&gt; empID              
#:&gt; 101      Bob   2017
#:&gt; 103    David   2018</code></pre>
<div class="sourceCode" id="cb1294"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1294-1"><a href="pandas-1.html#cb1294-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span> (df.loc[  <span class="dv">101</span>:<span class="dv">104</span> ,  <span class="st">'year1'</span>:<span class="st">'year2'</span>  ], <span class="st">'</span><span class="ch">\n</span><span class="st">'</span>)  <span class="co"># by range of row label and column names</span></span></code></pre></div>
<pre><code>#:&gt;        year1  salary  year2
#:&gt; empID                      
#:&gt; 101     2017   24000   1907
#:&gt; 102     2017   31000   2003
#:&gt; 103     2018   20000   1998
#:&gt; 104     2018   30000   2011</code></pre>
<p><strong>By Boolean Row and Column Names (loc)</strong></p>
<div class="sourceCode" id="cb1296"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1296-1"><a href="pandas-1.html#cb1296-1" aria-hidden="true" tabindex="-1"></a>df.loc[df.year1<span class="op">==</span><span class="dv">2017</span>, <span class="st">'year1'</span>:<span class="st">'year2'</span>]</span></code></pre></div>
<pre><code>#:&gt;        year1  salary  year2
#:&gt; empID                      
#:&gt; 100     2017   40000   2001
#:&gt; 101     2017   24000   1907
#:&gt; 102     2017   31000   2003</code></pre>
<p><strong>By Row and Column Number (iloc)</strong></p>
<div class="sourceCode" id="cb1298"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1298-1"><a href="pandas-1.html#cb1298-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span> (df.iloc[ [<span class="dv">1</span>,<span class="dv">4</span>], [<span class="dv">0</span>,<span class="dv">3</span>]],<span class="st">'</span><span class="ch">\n</span><span class="st">'</span> )   <span class="co"># by individual rows/columns</span></span></code></pre></div>
<pre><code>#:&gt;        year1  name
#:&gt; empID             
#:&gt; 101     2017   Bob
#:&gt; 104     2018  Eric</code></pre>
<div class="sourceCode" id="cb1300"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1300-1"><a href="pandas-1.html#cb1300-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span> (df.iloc[  <span class="dv">1</span>:<span class="dv">4</span> ,  <span class="dv">0</span>:<span class="dv">3</span>], <span class="st">'</span><span class="ch">\n</span><span class="st">'</span>)    <span class="co"># by range</span></span></code></pre></div>
<pre><code>#:&gt;        year1  salary  year2
#:&gt; empID                      
#:&gt; 101     2017   24000   1907
#:&gt; 102     2017   31000   2003
#:&gt; 103     2018   20000   1998</code></pre>
</div>
</div>
<div id="chained-indexing" class="section level3" number="13.7.10">
<h3>
<span class="header-section-number">13.7.10</span> Chained Indexing<a class="anchor" aria-label="anchor" href="#chained-indexing"><i class="fas fa-link"></i></a>
</h3>
<p><strong>Chained Index</strong> Method creates a copy of dataframe, any modification of data on original dataframe does not affect the copy</p>
<pre><code>dataframe.loc  [...]  [...]
dataframe.iloc [...]  [...]</code></pre>
<p>Suggesting, <strong>never use</strong> chain indexing</p>
<div class="sourceCode" id="cb1303"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1303-1"><a href="pandas-1.html#cb1303-1" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.DataFrame(</span>
<span id="cb1303-2"><a href="pandas-1.html#cb1303-2" aria-hidden="true" tabindex="-1"></a>    { <span class="st">'empID'</span>:  [<span class="dv">100</span>,      <span class="dv">101</span>,    <span class="dv">102</span>,      <span class="dv">103</span>,     <span class="dv">104</span>],</span>
<span id="cb1303-3"><a href="pandas-1.html#cb1303-3" aria-hidden="true" tabindex="-1"></a>      <span class="st">'year1'</span>:   [<span class="dv">2017</span>,     <span class="dv">2017</span>,   <span class="dv">2017</span>,      <span class="dv">2018</span>,    <span class="dv">2018</span>],</span>
<span id="cb1303-4"><a href="pandas-1.html#cb1303-4" aria-hidden="true" tabindex="-1"></a>      <span class="st">'name'</span>:   [<span class="st">'Alice'</span>,  <span class="st">'Bob'</span>,  <span class="st">'Charles'</span>,<span class="st">'David'</span>, <span class="st">'Eric'</span>],</span>
<span id="cb1303-5"><a href="pandas-1.html#cb1303-5" aria-hidden="true" tabindex="-1"></a>      <span class="st">'year2'</span>:   [<span class="dv">2001</span>,     <span class="dv">1907</span>,   <span class="dv">2003</span>,      <span class="dv">1998</span>,    <span class="dv">2011</span>],</span>
<span id="cb1303-6"><a href="pandas-1.html#cb1303-6" aria-hidden="true" tabindex="-1"></a>      <span class="st">'salary'</span>: [<span class="dv">40000</span>,    <span class="dv">24000</span>,  <span class="dv">31000</span>,     <span class="dv">20000</span>,   <span class="dv">30000</span>]},</span>
<span id="cb1303-7"><a href="pandas-1.html#cb1303-7" aria-hidden="true" tabindex="-1"></a>    columns <span class="op">=</span> [<span class="st">'year1'</span>,<span class="st">'salary'</span>,<span class="st">'year2'</span>,<span class="st">'empID'</span>,<span class="st">'name'</span>]).set_index([<span class="st">'empID'</span>])</span>
<span id="cb1303-8"><a href="pandas-1.html#cb1303-8" aria-hidden="true" tabindex="-1"></a>df</span></code></pre></div>
<pre><code>#:&gt;        year1  salary  year2     name
#:&gt; empID                               
#:&gt; 100     2017   40000   2001    Alice
#:&gt; 101     2017   24000   1907      Bob
#:&gt; 102     2017   31000   2003  Charles
#:&gt; 103     2018   20000   1998    David
#:&gt; 104     2018   30000   2011     Eric</code></pre>
<div class="sourceCode" id="cb1305"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1305-1"><a href="pandas-1.html#cb1305-1" aria-hidden="true" tabindex="-1"></a>df.loc[<span class="dv">100</span>][<span class="st">'year'</span>] <span class="op">=</span><span class="dv">2000</span></span></code></pre></div>
<pre><code>#:&gt; /home/msfz751/miniconda3/envs/python_book/bin/python:1: SettingWithCopyWarning: 
#:&gt; A value is trying to be set on a copy of a slice from a DataFrame
#:&gt; 
#:&gt; See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
#:&gt; /home/msfz751/miniconda3/envs/python_book/lib/python3.7/site-packages/pandas/core/indexing.py:670: SettingWithCopyWarning: 
#:&gt; A value is trying to be set on a copy of a slice from a DataFrame
#:&gt; 
#:&gt; See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
#:&gt;   iloc._setitem_with_indexer(indexer, value)</code></pre>
<div class="sourceCode" id="cb1307"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1307-1"><a href="pandas-1.html#cb1307-1" aria-hidden="true" tabindex="-1"></a>df  <span class="co">## notice row label 100 had not been updated, because data was updated on a copy due to chain indexing</span></span></code></pre></div>
<pre><code>#:&gt;        year1  salary  year2     name
#:&gt; empID                               
#:&gt; 100     2017   40000   2001    Alice
#:&gt; 101     2017   24000   1907      Bob
#:&gt; 102     2017   31000   2003  Charles
#:&gt; 103     2018   20000   1998    David
#:&gt; 104     2018   30000   2011     Eric</code></pre>
</div>
<div id="cell-value-replacement" class="section level3" number="13.7.11">
<h3>
<span class="header-section-number">13.7.11</span> Cell Value Replacement<a class="anchor" aria-label="anchor" href="#cell-value-replacement"><i class="fas fa-link"></i></a>
</h3>
<p>Slicing deals with square cells selection. Use <code>mask</code> or <code>where</code> to select specific cell(s). These function respect column and row names.</p>
<div id="mask" class="section level4" number="13.7.11.1">
<h4>
<span class="header-section-number">13.7.11.1</span> <code>mask()</code><a class="anchor" aria-label="anchor" href="#mask"><i class="fas fa-link"></i></a>
</h4>
<p><code>mask()</code> replace value with <code>other=</code> when condition is met. Column and row name is <strong>respected</strong></p>
<div class="sourceCode" id="cb1309"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1309-1"><a href="pandas-1.html#cb1309-1" aria-hidden="true" tabindex="-1"></a>ori <span class="op">=</span> pd.DataFrame(data<span class="op">=</span>{</span>
<span id="cb1309-2"><a href="pandas-1.html#cb1309-2" aria-hidden="true" tabindex="-1"></a>     <span class="st">'x'</span>: [<span class="dv">1</span>,<span class="dv">4</span>,<span class="dv">7</span>],</span>
<span id="cb1309-3"><a href="pandas-1.html#cb1309-3" aria-hidden="true" tabindex="-1"></a>     <span class="st">'y'</span>: [<span class="dv">2</span>,<span class="dv">5</span>,<span class="dv">8</span>],</span>
<span id="cb1309-4"><a href="pandas-1.html#cb1309-4" aria-hidden="true" tabindex="-1"></a>     <span class="st">'z'</span>: [<span class="dv">3</span>,<span class="dv">6</span>,<span class="dv">9</span>]}, index<span class="op">=</span>[</span>
<span id="cb1309-5"><a href="pandas-1.html#cb1309-5" aria-hidden="true" tabindex="-1"></a>     <span class="st">'row1'</span>,<span class="st">'row2'</span>,<span class="st">'row3'</span>])</span>
<span id="cb1309-6"><a href="pandas-1.html#cb1309-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1309-7"><a href="pandas-1.html#cb1309-7" aria-hidden="true" tabindex="-1"></a>df_big <span class="op">=</span> (ori <span class="op">&gt;</span><span class="dv">4</span>)[[<span class="st">'y'</span>,<span class="st">'x'</span>,<span class="st">'z'</span>]]</span>
<span id="cb1309-8"><a href="pandas-1.html#cb1309-8" aria-hidden="true" tabindex="-1"></a>resul1 <span class="op">=</span> ori.mask(df_big, other<span class="op">=</span><span class="dv">999</span>)</span>
<span id="cb1309-9"><a href="pandas-1.html#cb1309-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1309-10"><a href="pandas-1.html#cb1309-10" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'Original DF: </span><span class="ch">\n</span><span class="st">'</span>, ori, <span class="st">'</span><span class="ch">\n\n</span><span class="st">'</span>,</span>
<span id="cb1309-11"><a href="pandas-1.html#cb1309-11" aria-hidden="true" tabindex="-1"></a>      <span class="st">'Big DF : </span><span class="ch">\n</span><span class="st">'</span>, df_big, <span class="st">'</span><span class="ch">\n\n</span><span class="st">'</span>,</span>
<span id="cb1309-12"><a href="pandas-1.html#cb1309-12" aria-hidden="true" tabindex="-1"></a>      <span class="st">'Result : </span><span class="ch">\n</span><span class="st">'</span>, resul1)</span></code></pre></div>
<pre><code>#:&gt; Original DF: 
#:&gt;        x  y  z
#:&gt; row1  1  2  3
#:&gt; row2  4  5  6
#:&gt; row3  7  8  9 
#:&gt; 
#:&gt;  Big DF : 
#:&gt;            y      x      z
#:&gt; row1  False  False  False
#:&gt; row2   True  False   True
#:&gt; row3   True   True   True 
#:&gt; 
#:&gt;  Result : 
#:&gt;          x    y    z
#:&gt; row1    1    2    3
#:&gt; row2    4  999  999
#:&gt; row3  999  999  999</code></pre>
</div>
<div id="where-1" class="section level4" number="13.7.11.2">
<h4>
<span class="header-section-number">13.7.11.2</span> <code>where()</code><a class="anchor" aria-label="anchor" href="#where-1"><i class="fas fa-link"></i></a>
</h4>
<p>This is reverse of <code>mask()</code>, it will repalce value when the <strong>condition is False</strong>.</p>
<div class="sourceCode" id="cb1311"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1311-1"><a href="pandas-1.html#cb1311-1" aria-hidden="true" tabindex="-1"></a>df.where(cond<span class="op">=</span>df_big)</span></code></pre></div>
<pre><code>#:&gt;        year1  salary  year2 name
#:&gt; empID                           
#:&gt; 100      NaN     NaN    NaN  NaN
#:&gt; 101      NaN     NaN    NaN  NaN
#:&gt; 102      NaN     NaN    NaN  NaN
#:&gt; 103      NaN     NaN    NaN  NaN
#:&gt; 104      NaN     NaN    NaN  NaN</code></pre>
</div>
</div>
<div id="iteration" class="section level3" number="13.7.12">
<h3>
<span class="header-section-number">13.7.12</span> Iteration<a class="anchor" aria-label="anchor" href="#iteration"><i class="fas fa-link"></i></a>
</h3>
<div id="loop-through-rows-.iterrows" class="section level4" number="13.7.12.1">
<h4>
<span class="header-section-number">13.7.12.1</span> Loop Through Rows (.iterrows)<a class="anchor" aria-label="anchor" href="#loop-through-rows-.iterrows"><i class="fas fa-link"></i></a>
</h4>
<div class="sourceCode" id="cb1313"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1313-1"><a href="pandas-1.html#cb1313-1" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.DataFrame(data<span class="op">=</span></span>
<span id="cb1313-2"><a href="pandas-1.html#cb1313-2" aria-hidden="true" tabindex="-1"></a>    { <span class="st">'empID'</span>:  [<span class="dv">100</span>,      <span class="dv">101</span>,    <span class="dv">102</span>,      <span class="dv">103</span>,     <span class="dv">104</span>],</span>
<span id="cb1313-3"><a href="pandas-1.html#cb1313-3" aria-hidden="true" tabindex="-1"></a>      <span class="st">'Name'</span>:   [<span class="st">'Alice'</span>,  <span class="st">'Bob'</span>,  <span class="st">'Charles'</span>,<span class="st">'David'</span>, <span class="st">'Eric'</span>],</span>
<span id="cb1313-4"><a href="pandas-1.html#cb1313-4" aria-hidden="true" tabindex="-1"></a>      <span class="st">'Year'</span>:   [<span class="dv">1999</span>,     <span class="dv">1988</span>,   <span class="dv">2001</span>,     <span class="dv">2010</span>,     <span class="dv">2020</span>]}).set_index([<span class="st">'empID'</span>])</span>
<span id="cb1313-5"><a href="pandas-1.html#cb1313-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1313-6"><a href="pandas-1.html#cb1313-6" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> idx, row <span class="kw">in</span> df.iterrows():</span>
<span id="cb1313-7"><a href="pandas-1.html#cb1313-7" aria-hidden="true" tabindex="-1"></a>  <span class="bu">print</span>(idx, row.Name)</span></code></pre></div>
<pre><code>#:&gt; 100 Alice
#:&gt; 101 Bob
#:&gt; 102 Charles
#:&gt; 103 David
#:&gt; 104 Eric</code></pre>
</div>
<div id="loop-through-columns-.itemes" class="section level4" number="13.7.12.2">
<h4>
<span class="header-section-number">13.7.12.2</span> Loop Through Columns (.itemes)<a class="anchor" aria-label="anchor" href="#loop-through-columns-.itemes"><i class="fas fa-link"></i></a>
</h4>
<div class="sourceCode" id="cb1315"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1315-1"><a href="pandas-1.html#cb1315-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> label, content <span class="kw">in</span> df.items():</span>
<span id="cb1315-2"><a href="pandas-1.html#cb1315-2" aria-hidden="true" tabindex="-1"></a>  <span class="bu">print</span>(<span class="st">'Label:'</span>,            label,   <span class="st">'</span><span class="ch">\n\n</span><span class="st">'</span>, </span>
<span id="cb1315-3"><a href="pandas-1.html#cb1315-3" aria-hidden="true" tabindex="-1"></a>        <span class="st">'Content (Series):</span><span class="ch">\n</span><span class="st">'</span>, content, <span class="st">'</span><span class="ch">\n\n</span><span class="st">'</span>)</span></code></pre></div>
<pre><code>#:&gt; Label: Name 
#:&gt; 
#:&gt;  Content (Series):
#:&gt;  empID
#:&gt; 100      Alice
#:&gt; 101        Bob
#:&gt; 102    Charles
#:&gt; 103      David
#:&gt; 104       Eric
#:&gt; Name: Name, dtype: object 
#:&gt; 
#:&gt; 
#:&gt; Label: Year 
#:&gt; 
#:&gt;  Content (Series):
#:&gt;  empID
#:&gt; 100    1999
#:&gt; 101    1988
#:&gt; 102    2001
#:&gt; 103    2010
#:&gt; 104    2020
#:&gt; Name: Year, dtype: int64</code></pre>
</div>
</div>
<div id="data-structure" class="section level3" number="13.7.13">
<h3>
<span class="header-section-number">13.7.13</span> Data Structure<a class="anchor" aria-label="anchor" href="#data-structure"><i class="fas fa-link"></i></a>
</h3>
<div id="instance-methods---structure" class="section level4" number="13.7.13.1">
<h4>
<span class="header-section-number">13.7.13.1</span> Instance Methods - Structure<a class="anchor" aria-label="anchor" href="#instance-methods---structure"><i class="fas fa-link"></i></a>
</h4>
<p>Find out the column names, data type in a summary. Output is for display only, not a data object</p>
<div class="sourceCode" id="cb1317"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1317-1"><a href="pandas-1.html#cb1317-1" aria-hidden="true" tabindex="-1"></a>df.info()  <span class="co"># return text output</span></span></code></pre></div>
<pre><code>#:&gt; &lt;class 'pandas.core.frame.DataFrame'&gt;
#:&gt; Int64Index: 5 entries, 100 to 104
#:&gt; Data columns (total 2 columns):
#:&gt;  #   Column  Non-Null Count  Dtype 
#:&gt; ---  ------  --------------  ----- 
#:&gt;  0   Name    5 non-null      object
#:&gt;  1   Year    5 non-null      int64 
#:&gt; dtypes: int64(1), object(1)
#:&gt; memory usage: 120.0+ bytes</code></pre>
<div class="sourceCode" id="cb1319"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1319-1"><a href="pandas-1.html#cb1319-1" aria-hidden="true" tabindex="-1"></a>df.get_dtype_counts() <span class="co"># return Series</span></span></code></pre></div>
</div>
<div id="conversion-to-other-format" class="section level4" number="13.7.13.2">
<h4>
<span class="header-section-number">13.7.13.2</span> Conversion To Other Format<a class="anchor" aria-label="anchor" href="#conversion-to-other-format"><i class="fas fa-link"></i></a>
</h4>
<div class="sourceCode" id="cb1320"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1320-1"><a href="pandas-1.html#cb1320-1" aria-hidden="true" tabindex="-1"></a>df.to_json()</span></code></pre></div>
<pre><code>#:&gt; '{"Name":{"100":"Alice","101":"Bob","102":"Charles","103":"David","104":"Eric"},"Year":{"100":1999,"101":1988,"102":2001,"103":2010,"104":2020}}'</code></pre>
<div class="sourceCode" id="cb1322"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1322-1"><a href="pandas-1.html#cb1322-1" aria-hidden="true" tabindex="-1"></a>df.to_records()</span></code></pre></div>
<pre><code>#:&gt; rec.array([(100, 'Alice', 1999), (101, 'Bob', 1988),
#:&gt;            (102, 'Charles', 2001), (103, 'David', 2010),
#:&gt;            (104, 'Eric', 2020)],
#:&gt;           dtype=[('empID', '&lt;i8'), ('Name', 'O'), ('Year', '&lt;i8')])</code></pre>
<div class="sourceCode" id="cb1324"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1324-1"><a href="pandas-1.html#cb1324-1" aria-hidden="true" tabindex="-1"></a>df.to_csv()</span></code></pre></div>
<pre><code>#:&gt; 'empID,Name,Year\n100,Alice,1999\n101,Bob,1988\n102,Charles,2001\n103,David,2010\n104,Eric,2020\n'</code></pre>
</div>
</div>
</div>
<div id="class-multiindex" class="section level2" number="13.8">
<h2>
<span class="header-section-number">13.8</span> class: MultiIndex<a class="anchor" aria-label="anchor" href="#class-multiindex"><i class="fas fa-link"></i></a>
</h2>
<p>MultiIndexing are columns with few levels of headers.</p>
<div id="the-data-2" class="section level3" number="13.8.1">
<h3>
<span class="header-section-number">13.8.1</span> The Data<a class="anchor" aria-label="anchor" href="#the-data-2"><i class="fas fa-link"></i></a>
</h3>
<div class="sourceCode" id="cb1326"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1326-1"><a href="pandas-1.html#cb1326-1" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.DataFrame({</span>
<span id="cb1326-2"><a href="pandas-1.html#cb1326-2" aria-hidden="true" tabindex="-1"></a>     <span class="st">'myindex'</span>: [<span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">2</span>],</span>
<span id="cb1326-3"><a href="pandas-1.html#cb1326-3" aria-hidden="true" tabindex="-1"></a>     <span class="st">'One_X'</span>:   [<span class="fl">1.1</span>,  <span class="fl">1.1</span>,  <span class="fl">1.1</span>],</span>
<span id="cb1326-4"><a href="pandas-1.html#cb1326-4" aria-hidden="true" tabindex="-1"></a>     <span class="st">'One_Y'</span>:   [<span class="fl">1.2</span>,  <span class="fl">1.2</span>,  <span class="fl">1.2</span>],</span>
<span id="cb1326-5"><a href="pandas-1.html#cb1326-5" aria-hidden="true" tabindex="-1"></a>     <span class="st">'Two_X'</span>:   [<span class="fl">1.11</span>, <span class="fl">1.11</span>, <span class="fl">1.11</span>],</span>
<span id="cb1326-6"><a href="pandas-1.html#cb1326-6" aria-hidden="true" tabindex="-1"></a>     <span class="st">'Two_Y'</span>:   [<span class="fl">1.22</span>, <span class="fl">1.22</span>, <span class="fl">1.22</span>]})</span>
<span id="cb1326-7"><a href="pandas-1.html#cb1326-7" aria-hidden="true" tabindex="-1"></a>df.set_index(<span class="st">'myindex'</span>,inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb1326-8"><a href="pandas-1.html#cb1326-8" aria-hidden="true" tabindex="-1"></a>df</span></code></pre></div>
<pre><code>#:&gt;          One_X  One_Y  Two_X  Two_Y
#:&gt; myindex                            
#:&gt; 0          1.1    1.2   1.11   1.22
#:&gt; 1          1.1    1.2   1.11   1.22
#:&gt; 2          1.1    1.2   1.11   1.22</code></pre>
</div>
<div id="creating-multiindex-object" class="section level3" number="13.8.2">
<h3>
<span class="header-section-number">13.8.2</span> Creating MultiIndex Object<a class="anchor" aria-label="anchor" href="#creating-multiindex-object"><i class="fas fa-link"></i></a>
</h3>
<div id="create-from-tuples" class="section level4" number="13.8.2.1">
<h4>
<span class="header-section-number">13.8.2.1</span> Create From Tuples<a class="anchor" aria-label="anchor" href="#create-from-tuples"><i class="fas fa-link"></i></a>
</h4>
<p>MultiIndex can easily created from typles:<br>
- Step 1: Create a MultiIndex object by splitting column name into tuples<br>
- Step 2: Assign the MultiIndex Object to dataframe <code>columns</code> property.</p>
<div class="sourceCode" id="cb1328"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1328-1"><a href="pandas-1.html#cb1328-1" aria-hidden="true" tabindex="-1"></a>my_tuples <span class="op">=</span> [<span class="bu">tuple</span>(c.split(<span class="st">'_'</span>)) <span class="cf">for</span> c <span class="kw">in</span> df.columns]</span>
<span id="cb1328-2"><a href="pandas-1.html#cb1328-2" aria-hidden="true" tabindex="-1"></a>df.columns <span class="op">=</span> pd.MultiIndex.from_tuples(my_tuples)</span>
<span id="cb1328-3"><a href="pandas-1.html#cb1328-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1328-4"><a href="pandas-1.html#cb1328-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">' Column Headers :</span><span class="ch">\n\n</span><span class="st">'</span>,           my_tuples,</span>
<span id="cb1328-5"><a href="pandas-1.html#cb1328-5" aria-hidden="true" tabindex="-1"></a>        <span class="st">'</span><span class="ch">\n\n</span><span class="st">New Columns: </span><span class="ch">\n\n</span><span class="st">'</span>,         df.columns,</span>
<span id="cb1328-6"><a href="pandas-1.html#cb1328-6" aria-hidden="true" tabindex="-1"></a>        <span class="st">'</span><span class="ch">\n\n</span><span class="st">Two Layers Header DF:</span><span class="ch">\n\n</span><span class="st">'</span>, df)</span></code></pre></div>
<pre><code>#:&gt;  Column Headers :
#:&gt; 
#:&gt;  [('One', 'X'), ('One', 'Y'), ('Two', 'X'), ('Two', 'Y')] 
#:&gt; 
#:&gt; New Columns: 
#:&gt; 
#:&gt;  MultiIndex([('One', 'X'),
#:&gt;             ('One', 'Y'),
#:&gt;             ('Two', 'X'),
#:&gt;             ('Two', 'Y')],
#:&gt;            ) 
#:&gt; 
#:&gt; Two Layers Header DF:
#:&gt; 
#:&gt;           One        Two      
#:&gt;            X    Y     X     Y
#:&gt; myindex                      
#:&gt; 0        1.1  1.2  1.11  1.22
#:&gt; 1        1.1  1.2  1.11  1.22
#:&gt; 2        1.1  1.2  1.11  1.22</code></pre>
</div>
</div>
<div id="multiindex-object" class="section level3" number="13.8.3">
<h3>
<span class="header-section-number">13.8.3</span> MultiIndex Object<a class="anchor" aria-label="anchor" href="#multiindex-object"><i class="fas fa-link"></i></a>
</h3>
<div id="levels" class="section level4" number="13.8.3.1">
<h4>
<span class="header-section-number">13.8.3.1</span> Levels<a class="anchor" aria-label="anchor" href="#levels"><i class="fas fa-link"></i></a>
</h4>
<ul>
<li>MultiIndex object contain multiple leveels, each level (header) is an Index object.<br>
</li>
<li>Use <strong><code>MultiIndex.get_level_values()</code></strong> to the entire header for the desired level. Note that each level is an Index object</li>
</ul>
<div class="sourceCode" id="cb1330"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1330-1"><a href="pandas-1.html#cb1330-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df.columns.get_level_values(<span class="dv">0</span>), <span class="st">'</span><span class="ch">\n</span><span class="st">'</span>,</span>
<span id="cb1330-2"><a href="pandas-1.html#cb1330-2" aria-hidden="true" tabindex="-1"></a>      df.columns.get_level_values(<span class="dv">1</span>))</span></code></pre></div>
<pre><code>#:&gt; Index(['One', 'One', 'Two', 'Two'], dtype='object') 
#:&gt;  Index(['X', 'Y', 'X', 'Y'], dtype='object')</code></pre>
<p><strong><code>MultiIndex.levels</code></strong> return the <strong>unique values</strong> of each level.</p>
<div class="sourceCode" id="cb1332"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1332-1"><a href="pandas-1.html#cb1332-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df.columns.levels[<span class="dv">0</span>], <span class="st">'</span><span class="ch">\n</span><span class="st">'</span>,</span>
<span id="cb1332-2"><a href="pandas-1.html#cb1332-2" aria-hidden="true" tabindex="-1"></a>      df.columns.levels[<span class="dv">1</span>])</span></code></pre></div>
<pre><code>#:&gt; Index(['One', 'Two'], dtype='object') 
#:&gt;  Index(['X', 'Y'], dtype='object')</code></pre>
</div>
<div id="convert-multiindex-back-to-tuples" class="section level4" number="13.8.3.2">
<h4>
<span class="header-section-number">13.8.3.2</span> Convert MultiIndex Back To Tuples<a class="anchor" aria-label="anchor" href="#convert-multiindex-back-to-tuples"><i class="fas fa-link"></i></a>
</h4>
<div class="sourceCode" id="cb1334"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1334-1"><a href="pandas-1.html#cb1334-1" aria-hidden="true" tabindex="-1"></a>df.columns.to_list()</span></code></pre></div>
<pre><code>#:&gt; [('One', 'X'), ('One', 'Y'), ('Two', 'X'), ('Two', 'Y')]</code></pre>
</div>
</div>
<div id="selecting-columns" class="section level3" number="13.8.4">
<h3>
<span class="header-section-number">13.8.4</span> Selecting Column(s)<a class="anchor" aria-label="anchor" href="#selecting-columns"><i class="fas fa-link"></i></a>
</h3>
<div id="sample-data-11" class="section level4" number="13.8.4.1">
<h4>
<span class="header-section-number">13.8.4.1</span> Sample Data<a class="anchor" aria-label="anchor" href="#sample-data-11"><i class="fas fa-link"></i></a>
</h4>
<div class="sourceCode" id="cb1336"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1336-1"><a href="pandas-1.html#cb1336-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> itertools</span>
<span id="cb1336-2"><a href="pandas-1.html#cb1336-2" aria-hidden="true" tabindex="-1"></a>test_df <span class="op">=</span> pd.DataFrame</span>
<span id="cb1336-3"><a href="pandas-1.html#cb1336-3" aria-hidden="true" tabindex="-1"></a>max_age <span class="op">=</span> <span class="dv">100</span></span>
<span id="cb1336-4"><a href="pandas-1.html#cb1336-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1336-5"><a href="pandas-1.html#cb1336-5" aria-hidden="true" tabindex="-1"></a><span class="co">### Create The Columns Tuple</span></span>
<span id="cb1336-6"><a href="pandas-1.html#cb1336-6" aria-hidden="true" tabindex="-1"></a>level0_sex <span class="op">=</span> [<span class="st">'Male'</span>,<span class="st">'Female'</span>,<span class="st">'Pondan'</span>]</span>
<span id="cb1336-7"><a href="pandas-1.html#cb1336-7" aria-hidden="true" tabindex="-1"></a>level1_age <span class="op">=</span> [<span class="st">'Medium'</span>,<span class="st">'High'</span>,<span class="st">'Low'</span>]</span>
<span id="cb1336-8"><a href="pandas-1.html#cb1336-8" aria-hidden="true" tabindex="-1"></a>my_columns <span class="op">=</span> <span class="bu">list</span>(itertools.product(level0_sex, level1_age))</span>
<span id="cb1336-9"><a href="pandas-1.html#cb1336-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1336-10"><a href="pandas-1.html#cb1336-10" aria-hidden="true" tabindex="-1"></a>test_df <span class="op">=</span> pd.DataFrame([</span>
<span id="cb1336-11"><a href="pandas-1.html#cb1336-11" aria-hidden="true" tabindex="-1"></a>             [<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span>,<span class="dv">7</span>,<span class="dv">8</span>,<span class="dv">9</span>],</span>
<span id="cb1336-12"><a href="pandas-1.html#cb1336-12" aria-hidden="true" tabindex="-1"></a>             [<span class="dv">11</span>,<span class="dv">12</span>,<span class="dv">13</span>,<span class="dv">14</span>,<span class="dv">15</span>,<span class="dv">16</span>,<span class="dv">17</span>,<span class="dv">18</span>,<span class="dv">19</span>],</span>
<span id="cb1336-13"><a href="pandas-1.html#cb1336-13" aria-hidden="true" tabindex="-1"></a>             [<span class="dv">21</span>,<span class="dv">22</span>,<span class="dv">23</span>,<span class="dv">24</span>,<span class="dv">25</span>,<span class="dv">26</span>,<span class="dv">27</span>,<span class="dv">28</span>,<span class="dv">29</span>]], index<span class="op">=</span>[<span class="st">'row1'</span>,<span class="st">'row2'</span>,<span class="st">'row3'</span>])</span>
<span id="cb1336-14"><a href="pandas-1.html#cb1336-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1336-15"><a href="pandas-1.html#cb1336-15" aria-hidden="true" tabindex="-1"></a><span class="co">### Create Multiindex From Tuple</span></span>
<span id="cb1336-16"><a href="pandas-1.html#cb1336-16" aria-hidden="true" tabindex="-1"></a>test_df.columns <span class="op">=</span> pd.MultiIndex.from_tuples(my_columns)</span>
<span id="cb1336-17"><a href="pandas-1.html#cb1336-17" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>( test_df ) </span></code></pre></div>
<pre><code>#:&gt;        Male          Female          Pondan         
#:&gt;      Medium High Low Medium High Low Medium High Low
#:&gt; row1      1    2   3      4    5   6      7    8   9
#:&gt; row2     11   12  13     14   15  16     17   18  19
#:&gt; row3     21   22  23     24   25  26     27   28  29</code></pre>
</div>
<div id="select-level0-headers" class="section level4" number="13.8.4.2">
<h4>
<span class="header-section-number">13.8.4.2</span> Select Level0 Header(s)<a class="anchor" aria-label="anchor" href="#select-level0-headers"><i class="fas fa-link"></i></a>
</h4>
<p>Use <strong><code>[L0]</code> notation</strong>, where <code>L0</code> is list of header names</p>
<div class="sourceCode" id="cb1338"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1338-1"><a href="pandas-1.html#cb1338-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>( test_df[[<span class="st">'Male'</span>,<span class="st">'Pondan'</span>]] ,<span class="st">'</span><span class="ch">\n\n</span><span class="st">'</span>,  <span class="co">## Include multiple Level0 Header</span></span>
<span id="cb1338-2"><a href="pandas-1.html#cb1338-2" aria-hidden="true" tabindex="-1"></a>       test_df[<span class="st">'Male'</span>] ,          <span class="st">'</span><span class="ch">\n\n</span><span class="st">'</span>,   <span class="co">## Include single Level0 Header</span></span>
<span id="cb1338-3"><a href="pandas-1.html#cb1338-3" aria-hidden="true" tabindex="-1"></a>       test_df.Male )                       <span class="co">## Same as above</span></span></code></pre></div>
<pre><code>#:&gt;        Male          Pondan         
#:&gt;      Medium High Low Medium High Low
#:&gt; row1      1    2   3      7    8   9
#:&gt; row2     11   12  13     17   18  19
#:&gt; row3     21   22  23     27   28  29 
#:&gt; 
#:&gt;        Medium  High  Low
#:&gt; row1       1     2    3
#:&gt; row2      11    12   13
#:&gt; row3      21    22   23 
#:&gt; 
#:&gt;        Medium  High  Low
#:&gt; row1       1     2    3
#:&gt; row2      11    12   13
#:&gt; row3      21    22   23</code></pre>
<p><strong>Using <code>.loc[]</code></strong></p>
<p>Use <strong><code>.loc[ :, L0 ]</code></strong>, where <code>L0</code> is list of headers names</p>
<div class="sourceCode" id="cb1340"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1340-1"><a href="pandas-1.html#cb1340-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>( test_df.loc[:, [<span class="st">'Male'</span>,<span class="st">'Pondan'</span>]] , <span class="st">'</span><span class="ch">\n\n</span><span class="st">'</span>,  <span class="co">## Multiple Level0 Header</span></span>
<span id="cb1340-2"><a href="pandas-1.html#cb1340-2" aria-hidden="true" tabindex="-1"></a>       test_df.loc[:, <span class="st">'Male'</span>] )                     <span class="co">## Single Level0 Header</span></span></code></pre></div>
<pre><code>#:&gt;        Male          Pondan         
#:&gt;      Medium High Low Medium High Low
#:&gt; row1      1    2   3      7    8   9
#:&gt; row2     11   12  13     17   18  19
#:&gt; row3     21   22  23     27   28  29 
#:&gt; 
#:&gt;        Medium  High  Low
#:&gt; row1       1     2    3
#:&gt; row2      11    12   13
#:&gt; row3      21    22   23</code></pre>
</div>
<div id="selecting-level-1-headers" class="section level4" number="13.8.4.3">
<h4>
<span class="header-section-number">13.8.4.3</span> Selecting Level 1 Header(s)<a class="anchor" aria-label="anchor" href="#selecting-level-1-headers"><i class="fas fa-link"></i></a>
</h4>
<p>Use <strong><code>.loc[ :, (All, L1)]</code></strong>, where <code>L1</code> are list of headers names</p>
<div class="sourceCode" id="cb1342"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1342-1"><a href="pandas-1.html#cb1342-1" aria-hidden="true" tabindex="-1"></a>All <span class="op">=</span> <span class="bu">slice</span>(<span class="va">None</span>)</span>
<span id="cb1342-2"><a href="pandas-1.html#cb1342-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>( test_df.loc[ : , (All, <span class="st">'High'</span>)],  <span class="st">'</span><span class="ch">\n\n</span><span class="st">'</span>,  <span class="co">## Signle L1 header</span></span>
<span id="cb1342-3"><a href="pandas-1.html#cb1342-3" aria-hidden="true" tabindex="-1"></a>       test_df.loc[ : , (All, [<span class="st">'High'</span>,<span class="st">'Low'</span>])] )  <span class="co">## Multiple L1 headers</span></span></code></pre></div>
<pre><code>#:&gt;      Male Female Pondan
#:&gt;      High   High   High
#:&gt; row1    2      5      8
#:&gt; row2   12     15     18
#:&gt; row3   22     25     28 
#:&gt; 
#:&gt;       Male     Female     Pondan    
#:&gt;      High Low   High Low   High Low
#:&gt; row1    2   3      5   6      8   9
#:&gt; row2   12  13     15  16     18  19
#:&gt; row3   22  23     25  26     28  29</code></pre>
</div>
<div id="select-level-0-and-level1-headers" class="section level4" number="13.8.4.4">
<h4>
<span class="header-section-number">13.8.4.4</span> Select Level 0 and Level1 Headers<a class="anchor" aria-label="anchor" href="#select-level-0-and-level1-headers"><i class="fas fa-link"></i></a>
</h4>
<p>Use <strong><code>.loc[ :, (L0, L1)]</code></strong>, where <code>L0</code> and <code>L1</code> are list of headers names</p>
<div class="sourceCode" id="cb1344"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1344-1"><a href="pandas-1.html#cb1344-1" aria-hidden="true" tabindex="-1"></a>test_df.loc[ : , ([<span class="st">'Male'</span>,<span class="st">'Pondan'</span>], [<span class="st">'Medium'</span>,<span class="st">'High'</span>])]</span></code></pre></div>
<pre><code>#:&gt;        Male      Pondan     
#:&gt;      Medium High Medium High
#:&gt; row1      1    2      7    8
#:&gt; row2     11   12     17   18
#:&gt; row3     21   22     27   28</code></pre>
</div>
<div id="select-single-l0l1-header" class="section level4" number="13.8.4.5">
<h4>
<span class="header-section-number">13.8.4.5</span> Select single L0,L1 Header<a class="anchor" aria-label="anchor" href="#select-single-l0l1-header"><i class="fas fa-link"></i></a>
</h4>
<p>Use <strong><code>.loc[:, (L0,  L1) ]</code></strong>, result is a <strong>Series</strong><br>
Use <strong><code>.loc[:, (L0 ,[L1])]</code></strong>, result is a <strong>DataFrame</strong></p>
<div class="sourceCode" id="cb1346"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1346-1"><a href="pandas-1.html#cb1346-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>( test_df.loc[ : , (<span class="st">'Female'</span>, <span class="st">'High'</span>)], <span class="st">'</span><span class="ch">\n\n</span><span class="st">'</span>,</span>
<span id="cb1346-2"><a href="pandas-1.html#cb1346-2" aria-hidden="true" tabindex="-1"></a>       test_df.loc[ : , (<span class="st">'Female'</span>, [<span class="st">'High'</span>])])</span></code></pre></div>
<pre><code>#:&gt; row1     5
#:&gt; row2    15
#:&gt; row3    25
#:&gt; Name: (Female, High), dtype: int64 
#:&gt; 
#:&gt;       Female
#:&gt;        High
#:&gt; row1      5
#:&gt; row2     15
#:&gt; row3     25</code></pre>
</div>
</div>
<div id="headers-ordering" class="section level3" number="13.8.5">
<h3>
<span class="header-section-number">13.8.5</span> Headers Ordering<a class="anchor" aria-label="anchor" href="#headers-ordering"><i class="fas fa-link"></i></a>
</h3>
<p>Note that columns <strong>order</strong> specifeid by <code>[ ]</code> selection were not respected. This can be remediated either by Sorting and rearranging.</p>
<div id="sort-headers" class="section level4" number="13.8.5.1">
<h4>
<span class="header-section-number">13.8.5.1</span> Sort Headers<a class="anchor" aria-label="anchor" href="#sort-headers"><i class="fas fa-link"></i></a>
</h4>
<p>Use <code>.sort_index()</code> on DataFrame to sort the headers. Note that when level1 is sorted, it jumble up level0 headers.</p>
<div class="sourceCode" id="cb1348"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1348-1"><a href="pandas-1.html#cb1348-1" aria-hidden="true" tabindex="-1"></a>test_df_sorted_l0 <span class="op">=</span> test_df.sort_index(axis<span class="op">=</span><span class="dv">1</span>, level<span class="op">=</span><span class="dv">0</span>)</span>
<span id="cb1348-2"><a href="pandas-1.html#cb1348-2" aria-hidden="true" tabindex="-1"></a>test_df_sorted_l1 <span class="op">=</span> test_df.sort_index(axis<span class="op">=</span><span class="dv">1</span>, level<span class="op">=</span><span class="dv">1</span>, ascending<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb1348-3"><a href="pandas-1.html#cb1348-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(test_df, <span class="st">'</span><span class="ch">\n\n</span><span class="st">'</span>,test_df_sorted_l0, <span class="st">'</span><span class="ch">\n\n</span><span class="st">'</span>, test_df_sorted_l1)</span></code></pre></div>
<pre><code>#:&gt;        Male          Female          Pondan         
#:&gt;      Medium High Low Medium High Low Medium High Low
#:&gt; row1      1    2   3      4    5   6      7    8   9
#:&gt; row2     11   12  13     14   15  16     17   18  19
#:&gt; row3     21   22  23     24   25  26     27   28  29 
#:&gt; 
#:&gt;       Female            Male            Pondan           
#:&gt;        High Low Medium High Low Medium   High Low Medium
#:&gt; row1      5   6      4    2   3      1      8   9      7
#:&gt; row2     15  16     14   12  13     11     18  19     17
#:&gt; row3     25  26     24   22  23     21     28  29     27 
#:&gt; 
#:&gt;       Pondan   Male Female Pondan Male Female Pondan Male Female
#:&gt;      Medium Medium Medium    Low  Low    Low   High High   High
#:&gt; row1      7      1      4      9    3      6      8    2      5
#:&gt; row2     17     11     14     19   13     16     18   12     15
#:&gt; row3     27     21     24     29   23     26     28   22     25</code></pre>
</div>
<div id="rearranging-headers" class="section level4" number="13.8.5.2">
<h4>
<span class="header-section-number">13.8.5.2</span> Rearranging Headers<a class="anchor" aria-label="anchor" href="#rearranging-headers"><i class="fas fa-link"></i></a>
</h4>
<p>Use **<code>.reindex()**</code> on arrange columns in specific order. Example below shows how to control the specific order for level1 headers.</p>
<div class="sourceCode" id="cb1350"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1350-1"><a href="pandas-1.html#cb1350-1" aria-hidden="true" tabindex="-1"></a>cats <span class="op">=</span> [<span class="st">'Low'</span>,<span class="st">'Medium'</span>,<span class="st">'High'</span>]</span>
<span id="cb1350-2"><a href="pandas-1.html#cb1350-2" aria-hidden="true" tabindex="-1"></a>test_df.reindex(cats, level<span class="op">=</span><span class="dv">1</span>, axis<span class="op">=</span><span class="dv">1</span>)</span></code></pre></div>
<pre><code>#:&gt;      Male             Female             Pondan            
#:&gt;       Low Medium High    Low Medium High    Low Medium High
#:&gt; row1    3      1    2      6      4    5      9      7    8
#:&gt; row2   13     11   12     16     14   15     19     17   18
#:&gt; row3   23     21   22     26     24   25     29     27   28</code></pre>
</div>
</div>
<div id="stacking-and-unstacking" class="section level3" number="13.8.6">
<h3>
<span class="header-section-number">13.8.6</span> Stacking and Unstacking<a class="anchor" aria-label="anchor" href="#stacking-and-unstacking"><i class="fas fa-link"></i></a>
</h3>
<div class="sourceCode" id="cb1352"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1352-1"><a href="pandas-1.html#cb1352-1" aria-hidden="true" tabindex="-1"></a>df.stack()</span></code></pre></div>
<pre><code>#:&gt;            One   Two
#:&gt; myindex             
#:&gt; 0       X  1.1  1.11
#:&gt;         Y  1.2  1.22
#:&gt; 1       X  1.1  1.11
#:&gt;         Y  1.2  1.22
#:&gt; 2       X  1.1  1.11
#:&gt;         Y  1.2  1.22</code></pre>
<div id="stacking-columns-to-rows" class="section level4" number="13.8.6.1">
<h4>
<span class="header-section-number">13.8.6.1</span> Stacking Columns to Rows<a class="anchor" aria-label="anchor" href="#stacking-columns-to-rows"><i class="fas fa-link"></i></a>
</h4>
<p>Stacking with <strong><code>DataFrame.stack(level_no)</code></strong> is moving wide columns into row.</p>
<div class="sourceCode" id="cb1354"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1354-1"><a href="pandas-1.html#cb1354-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'Stacking Header Level 0: </span><span class="ch">\n\n</span><span class="st">'</span>, df.stack(<span class="dv">0</span>),</span>
<span id="cb1354-2"><a href="pandas-1.html#cb1354-2" aria-hidden="true" tabindex="-1"></a>      <span class="st">'</span><span class="ch">\n\n</span><span class="st">Stacking Header Level 1: </span><span class="ch">\n\n</span><span class="st">'</span>, df.stack(<span class="dv">1</span>))</span></code></pre></div>
<pre><code>#:&gt; Stacking Header Level 0: 
#:&gt; 
#:&gt;                  X     Y
#:&gt; myindex                
#:&gt; 0       One  1.10  1.20
#:&gt;         Two  1.11  1.22
#:&gt; 1       One  1.10  1.20
#:&gt;         Two  1.11  1.22
#:&gt; 2       One  1.10  1.20
#:&gt;         Two  1.11  1.22 
#:&gt; 
#:&gt; Stacking Header Level 1: 
#:&gt; 
#:&gt;             One   Two
#:&gt; myindex             
#:&gt; 0       X  1.1  1.11
#:&gt;         Y  1.2  1.22
#:&gt; 1       X  1.1  1.11
#:&gt;         Y  1.2  1.22
#:&gt; 2       X  1.1  1.11
#:&gt;         Y  1.2  1.22</code></pre>
</div>
</div>
<div id="exploratory-analysis" class="section level3" number="13.8.7">
<h3>
<span class="header-section-number">13.8.7</span> Exploratory Analysis<a class="anchor" aria-label="anchor" href="#exploratory-analysis"><i class="fas fa-link"></i></a>
</h3>
<div id="sample-data-12" class="section level4" number="13.8.7.1">
<h4>
<span class="header-section-number">13.8.7.1</span> Sample Data<a class="anchor" aria-label="anchor" href="#sample-data-12"><i class="fas fa-link"></i></a>
</h4>
<div class="sourceCode" id="cb1356"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1356-1"><a href="pandas-1.html#cb1356-1" aria-hidden="true" tabindex="-1"></a>df</span></code></pre></div>
<pre><code>#:&gt;          One        Two      
#:&gt;            X    Y     X     Y
#:&gt; myindex                      
#:&gt; 0        1.1  1.2  1.11  1.22
#:&gt; 1        1.1  1.2  1.11  1.22
#:&gt; 2        1.1  1.2  1.11  1.22</code></pre>
</div>
<div id="all-stats-in-one---.describe" class="section level4" number="13.8.7.2">
<h4>
<span class="header-section-number">13.8.7.2</span> All Stats in One - .describe()<a class="anchor" aria-label="anchor" href="#all-stats-in-one---.describe"><i class="fas fa-link"></i></a>
</h4>
<pre><code>df.describe(include='number') # default
df.describe(include='object') # display for non-numeric columns
df.describe(include='all')    # display both numeric and non-numeric</code></pre>
<p>When applied to DataFrame object, describe shows all <strong>basic statistic</strong> for <strong>all numeric</strong> columns:
- Count (non-NA)<br>
- Unique (for string)<br>
- Top (for string)<br>
- Frequency (for string)<br>
- Percentile<br>
- Mean<br>
- Min / Max<br>
- Standard Deviation</p>
<p><strong>For Numeric Columns only</strong><br>
You can <strong>customize the percentiles requred</strong>. Notice 0.5 percentile is always there although not specified</p>
<div class="sourceCode" id="cb1359"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1359-1"><a href="pandas-1.html#cb1359-1" aria-hidden="true" tabindex="-1"></a>df.describe()</span></code></pre></div>
<pre><code>#:&gt;        One        Two      
#:&gt;          X    Y     X     Y
#:&gt; count  3.0  3.0  3.00  3.00
#:&gt; mean   1.1  1.2  1.11  1.22
#:&gt; std    0.0  0.0  0.00  0.00
#:&gt; min    1.1  1.2  1.11  1.22
#:&gt; 25%    1.1  1.2  1.11  1.22
#:&gt; 50%    1.1  1.2  1.11  1.22
#:&gt; 75%    1.1  1.2  1.11  1.22
#:&gt; max    1.1  1.2  1.11  1.22</code></pre>
<div class="sourceCode" id="cb1361"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1361-1"><a href="pandas-1.html#cb1361-1" aria-hidden="true" tabindex="-1"></a>df.describe(percentiles<span class="op">=</span>[<span class="fl">0.9</span>,<span class="fl">0.3</span>,<span class="fl">0.2</span>,<span class="fl">0.1</span>])</span></code></pre></div>
<pre><code>#:&gt;        One        Two      
#:&gt;          X    Y     X     Y
#:&gt; count  3.0  3.0  3.00  3.00
#:&gt; mean   1.1  1.2  1.11  1.22
#:&gt; std    0.0  0.0  0.00  0.00
#:&gt; min    1.1  1.2  1.11  1.22
#:&gt; 10%    1.1  1.2  1.11  1.22
#:&gt; 20%    1.1  1.2  1.11  1.22
#:&gt; 30%    1.1  1.2  1.11  1.22
#:&gt; 50%    1.1  1.2  1.11  1.22
#:&gt; 90%    1.1  1.2  1.11  1.22
#:&gt; max    1.1  1.2  1.11  1.22</code></pre>
<p><strong>For both Numeric and Object</strong></p>
<div class="sourceCode" id="cb1363"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1363-1"><a href="pandas-1.html#cb1363-1" aria-hidden="true" tabindex="-1"></a>df.describe(include<span class="op">=</span><span class="st">'all'</span>)</span></code></pre></div>
<pre><code>#:&gt;        One        Two      
#:&gt;          X    Y     X     Y
#:&gt; count  3.0  3.0  3.00  3.00
#:&gt; mean   1.1  1.2  1.11  1.22
#:&gt; std    0.0  0.0  0.00  0.00
#:&gt; min    1.1  1.2  1.11  1.22
#:&gt; 25%    1.1  1.2  1.11  1.22
#:&gt; 50%    1.1  1.2  1.11  1.22
#:&gt; 75%    1.1  1.2  1.11  1.22
#:&gt; max    1.1  1.2  1.11  1.22</code></pre>
</div>
<div id="minmaxmeanmedian" class="section level4" number="13.8.7.3">
<h4>
<span class="header-section-number">13.8.7.3</span> min/max/mean/median<a class="anchor" aria-label="anchor" href="#minmaxmeanmedian"><i class="fas fa-link"></i></a>
</h4>
<div class="sourceCode" id="cb1365"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1365-1"><a href="pandas-1.html#cb1365-1" aria-hidden="true" tabindex="-1"></a>df.<span class="bu">min</span>()  <span class="co"># default axis=0, column-wise</span></span></code></pre></div>
<pre><code>#:&gt; One  X    1.10
#:&gt;      Y    1.20
#:&gt; Two  X    1.11
#:&gt;      Y    1.22
#:&gt; dtype: float64</code></pre>
<div class="sourceCode" id="cb1367"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1367-1"><a href="pandas-1.html#cb1367-1" aria-hidden="true" tabindex="-1"></a>df.<span class="bu">min</span>(axis<span class="op">=</span><span class="dv">1</span>) <span class="co"># axis=1, row-wise</span></span></code></pre></div>
<pre><code>#:&gt; myindex
#:&gt; 0    1.1
#:&gt; 1    1.1
#:&gt; 2    1.1
#:&gt; dtype: float64</code></pre>
<p>Observe, sum on <strong>string will concatenate column-wise</strong>, whereas row-wise only sum up numeric fields</p>
<div class="sourceCode" id="cb1369"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1369-1"><a href="pandas-1.html#cb1369-1" aria-hidden="true" tabindex="-1"></a>df.<span class="bu">sum</span>(<span class="dv">0</span>)</span></code></pre></div>
<pre><code>#:&gt; One  X    3.30
#:&gt;      Y    3.60
#:&gt; Two  X    3.33
#:&gt;      Y    3.66
#:&gt; dtype: float64</code></pre>
<div class="sourceCode" id="cb1371"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1371-1"><a href="pandas-1.html#cb1371-1" aria-hidden="true" tabindex="-1"></a>df.<span class="bu">sum</span>(<span class="dv">1</span>)</span></code></pre></div>
<pre><code>#:&gt; myindex
#:&gt; 0    4.63
#:&gt; 1    4.63
#:&gt; 2    4.63
#:&gt; dtype: float64</code></pre>
</div>
</div>
<div id="plotting" class="section level3" number="13.8.8">
<h3>
<span class="header-section-number">13.8.8</span> Plotting<a class="anchor" aria-label="anchor" href="#plotting"><i class="fas fa-link"></i></a>
</h3>
</div>
</div>
<div id="class-categories" class="section level2" number="13.9">
<h2>
<span class="header-section-number">13.9</span> class: Categories<a class="anchor" aria-label="anchor" href="#class-categories"><i class="fas fa-link"></i></a>
</h2>
<div id="creating-2" class="section level3" number="13.9.1">
<h3>
<span class="header-section-number">13.9.1</span> Creating<a class="anchor" aria-label="anchor" href="#creating-2"><i class="fas fa-link"></i></a>
</h3>
<div id="from-list" class="section level4" number="13.9.1.1">
<h4>
<span class="header-section-number">13.9.1.1</span> From List<a class="anchor" aria-label="anchor" href="#from-list"><i class="fas fa-link"></i></a>
</h4>
<p><strong>Basic (Auto Category Mapping)</strong><br>
Basic syntax return categorical index with sequence with code 0,1,2,3… mapping to first found category<br>
In this case, <strong>low(0), high(1), medium(2)</strong></p>
<div class="sourceCode" id="cb1373"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1373-1"><a href="pandas-1.html#cb1373-1" aria-hidden="true" tabindex="-1"></a>temp <span class="op">=</span> [<span class="st">'low'</span>,<span class="st">'high'</span>,<span class="st">'medium'</span>,<span class="st">'high'</span>,<span class="st">'high'</span>,<span class="st">'low'</span>,<span class="st">'medium'</span>,<span class="st">'medium'</span>,<span class="st">'high'</span>]</span>
<span id="cb1373-2"><a href="pandas-1.html#cb1373-2" aria-hidden="true" tabindex="-1"></a>temp_cat <span class="op">=</span> pd.Categorical(temp)</span>
<span id="cb1373-3"><a href="pandas-1.html#cb1373-3" aria-hidden="true" tabindex="-1"></a>temp_cat</span></code></pre></div>
<pre><code>#:&gt; ['low', 'high', 'medium', 'high', 'high', 'low', 'medium', 'medium', 'high']
#:&gt; Categories (3, object): ['high', 'low', 'medium']</code></pre>
<div class="sourceCode" id="cb1375"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1375-1"><a href="pandas-1.html#cb1375-1" aria-hidden="true" tabindex="-1"></a><span class="bu">type</span>( temp_cat )</span></code></pre></div>
<pre><code>#:&gt; &lt;class 'pandas.core.arrays.categorical.Categorical'&gt;</code></pre>
<p><strong>Manual Category Mapping</strong><br>
During creation, we can specify mapping of codes to category: <strong>low(0), medium(1), high(2)</strong></p>
<div class="sourceCode" id="cb1377"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1377-1"><a href="pandas-1.html#cb1377-1" aria-hidden="true" tabindex="-1"></a>temp_cat <span class="op">=</span> pd.Categorical(temp, categories<span class="op">=</span>[<span class="st">'low'</span>,<span class="st">'medium'</span>,<span class="st">'high'</span>])</span>
<span id="cb1377-2"><a href="pandas-1.html#cb1377-2" aria-hidden="true" tabindex="-1"></a>temp_cat</span></code></pre></div>
<pre><code>#:&gt; ['low', 'high', 'medium', 'high', 'high', 'low', 'medium', 'medium', 'high']
#:&gt; Categories (3, object): ['low', 'medium', 'high']</code></pre>
</div>
<div id="from-series" class="section level4" number="13.9.1.2">
<h4>
<span class="header-section-number">13.9.1.2</span> From Series<a class="anchor" aria-label="anchor" href="#from-series"><i class="fas fa-link"></i></a>
</h4>
<ul>
<li>We can ‘add’ categorical structure into a Series. With these methods, additional property (.cat) is added as a <strong>categorical accessor</strong><br>
</li>
<li>Through this accessor, you gain access to various properties of the category such as .codes, .categories. But not .get_values() as the information is in the Series itself<br>
</li>
<li>Can we manual map category ?????</li>
</ul>
<div class="sourceCode" id="cb1379"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1379-1"><a href="pandas-1.html#cb1379-1" aria-hidden="true" tabindex="-1"></a>temp <span class="op">=</span> [<span class="st">'low'</span>,<span class="st">'high'</span>,<span class="st">'medium'</span>,<span class="st">'high'</span>,<span class="st">'high'</span>,<span class="st">'low'</span>,<span class="st">'medium'</span>,<span class="st">'medium'</span>,<span class="st">'high'</span>]</span>
<span id="cb1379-2"><a href="pandas-1.html#cb1379-2" aria-hidden="true" tabindex="-1"></a>temp_cat <span class="op">=</span> pd.Series(temp, dtype<span class="op">=</span><span class="st">'category'</span>)</span>
<span id="cb1379-3"><a href="pandas-1.html#cb1379-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span> (<span class="bu">type</span>(temp_cat))       <span class="co"># Series object</span></span></code></pre></div>
<pre><code>#:&gt; &lt;class 'pandas.core.series.Series'&gt;</code></pre>
<div class="sourceCode" id="cb1381"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1381-1"><a href="pandas-1.html#cb1381-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span> (<span class="bu">type</span>(temp_cat.cat))   <span class="co"># Categorical Accessor</span></span></code></pre></div>
<pre><code>#:&gt; &lt;class 'pandas.core.arrays.categorical.CategoricalAccessor'&gt;</code></pre>
<ul>
<li>Method below has the same result as above by using <strong>.astype(‘category’)</strong><br>
</li>
<li>It is useful adding category structure into existing series.</li>
</ul>
<div class="sourceCode" id="cb1383"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1383-1"><a href="pandas-1.html#cb1383-1" aria-hidden="true" tabindex="-1"></a>temp_ser <span class="op">=</span> pd.Series(temp)</span>
<span id="cb1383-2"><a href="pandas-1.html#cb1383-2" aria-hidden="true" tabindex="-1"></a>temp_cat <span class="op">=</span> pd.Series(temp).astype(<span class="st">'category'</span>)</span>
<span id="cb1383-3"><a href="pandas-1.html#cb1383-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span> (<span class="bu">type</span>(temp_cat))       <span class="co"># Series object</span></span></code></pre></div>
<pre><code>#:&gt; &lt;class 'pandas.core.series.Series'&gt;</code></pre>
<div class="sourceCode" id="cb1385"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1385-1"><a href="pandas-1.html#cb1385-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span> (<span class="bu">type</span>(temp_cat.cat))   <span class="co"># Categorical Accessor</span></span></code></pre></div>
<pre><code>#:&gt; &lt;class 'pandas.core.arrays.categorical.CategoricalAccessor'&gt;</code></pre>
<div class="sourceCode" id="cb1387"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1387-1"><a href="pandas-1.html#cb1387-1" aria-hidden="true" tabindex="-1"></a>temp_cat.cat.categories</span></code></pre></div>
<pre><code>#:&gt; Index(['high', 'low', 'medium'], dtype='object')</code></pre>
</div>
<div id="ordering-category" class="section level4" number="13.9.1.3">
<h4>
<span class="header-section-number">13.9.1.3</span> Ordering Category<a class="anchor" aria-label="anchor" href="#ordering-category"><i class="fas fa-link"></i></a>
</h4>
<div class="sourceCode" id="cb1389"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1389-1"><a href="pandas-1.html#cb1389-1" aria-hidden="true" tabindex="-1"></a>temp <span class="op">=</span> [<span class="st">'low'</span>,<span class="st">'high'</span>,<span class="st">'medium'</span>,<span class="st">'high'</span>,<span class="st">'high'</span>,<span class="st">'low'</span>,<span class="st">'medium'</span>,<span class="st">'medium'</span>,<span class="st">'high'</span>]</span>
<span id="cb1389-2"><a href="pandas-1.html#cb1389-2" aria-hidden="true" tabindex="-1"></a>temp_cat <span class="op">=</span> pd.Categorical(temp, categories<span class="op">=</span>[<span class="st">'low'</span>,<span class="st">'medium'</span>,<span class="st">'high'</span>], ordered<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb1389-3"><a href="pandas-1.html#cb1389-3" aria-hidden="true" tabindex="-1"></a>temp_cat</span></code></pre></div>
<pre><code>#:&gt; ['low', 'high', 'medium', 'high', 'high', 'low', 'medium', 'medium', 'high']
#:&gt; Categories (3, object): ['low' &lt; 'medium' &lt; 'high']</code></pre>
<div class="sourceCode" id="cb1391"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1391-1"><a href="pandas-1.html#cb1391-1" aria-hidden="true" tabindex="-1"></a><span class="co"># error</span></span>
<span id="cb1391-2"><a href="pandas-1.html#cb1391-2" aria-hidden="true" tabindex="-1"></a>temp_cat.get_values()</span></code></pre></div>
<div class="sourceCode" id="cb1392"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1392-1"><a href="pandas-1.html#cb1392-1" aria-hidden="true" tabindex="-1"></a>temp_cat.codes</span></code></pre></div>
<pre><code>#:&gt; array([0, 2, 1, 2, 2, 0, 1, 1, 2], dtype=int8)</code></pre>
<div class="sourceCode" id="cb1394"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1394-1"><a href="pandas-1.html#cb1394-1" aria-hidden="true" tabindex="-1"></a>temp_cat[<span class="dv">0</span>] <span class="op">&lt;</span> temp_cat[<span class="dv">3</span>]</span></code></pre></div>
<pre><code>#:&gt; False</code></pre>
<!-- jupyter_markdown, jupyter_meta = list(heading_collapsed = TRUE) -->
</div>
</div>
<div id="properties" class="section level3" number="13.9.2">
<h3>
<span class="header-section-number">13.9.2</span> Properties<a class="anchor" aria-label="anchor" href="#properties"><i class="fas fa-link"></i></a>
</h3>
<!-- jupyter_markdown, jupyter_meta = list(hidden = TRUE) -->
<div id="categories" class="section level4" number="13.9.2.1">
<h4>
<span class="header-section-number">13.9.2.1</span> .categories<a class="anchor" aria-label="anchor" href="#categories"><i class="fas fa-link"></i></a>
</h4>
<p>first element’s code = 0<br>
second element’s code = 1<br>
third element’s code = 2</p>
<div class="sourceCode" id="cb1396"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1396-1"><a href="pandas-1.html#cb1396-1" aria-hidden="true" tabindex="-1"></a>temp_cat.categories</span></code></pre></div>
<pre><code>#:&gt; Index(['low', 'medium', 'high'], dtype='object')</code></pre>
<!-- jupyter_markdown, jupyter_meta = list(hidden = TRUE) -->
</div>
<div id="codes" class="section level4" number="13.9.2.2">
<h4>
<span class="header-section-number">13.9.2.2</span> .codes<a class="anchor" aria-label="anchor" href="#codes"><i class="fas fa-link"></i></a>
</h4>
<p>Codes are actual <strong>integer</strong> value stored as array. 1 represent ‘high,’</p>
<div class="sourceCode" id="cb1398"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1398-1"><a href="pandas-1.html#cb1398-1" aria-hidden="true" tabindex="-1"></a>temp_cat.codes</span></code></pre></div>
<pre><code>#:&gt; array([0, 2, 1, 2, 2, 0, 1, 1, 2], dtype=int8)</code></pre>
<!-- jupyter_markdown, jupyter_meta = list(heading_collapsed = TRUE) -->
</div>
</div>
<div id="rename-category" class="section level3" number="13.9.3">
<h3>
<span class="header-section-number">13.9.3</span> Rename Category<a class="anchor" aria-label="anchor" href="#rename-category"><i class="fas fa-link"></i></a>
</h3>
<!-- jupyter_markdown, jupyter_meta = list(hidden = TRUE) -->
<div id="renamce-to-new-category-object" class="section level4" number="13.9.3.1">
<h4>
<span class="header-section-number">13.9.3.1</span> Renamce To New Category Object<a class="anchor" aria-label="anchor" href="#renamce-to-new-category-object"><i class="fas fa-link"></i></a>
</h4>
<p><strong>.rename_categories()</strong> method return a new category object with new changed categories</p>
<div class="sourceCode" id="cb1400"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1400-1"><a href="pandas-1.html#cb1400-1" aria-hidden="true" tabindex="-1"></a>temp <span class="op">=</span> [<span class="st">'low'</span>,<span class="st">'high'</span>,<span class="st">'medium'</span>,<span class="st">'high'</span>,<span class="st">'high'</span>,<span class="st">'low'</span>,<span class="st">'medium'</span>,<span class="st">'medium'</span>,<span class="st">'high'</span>]</span>
<span id="cb1400-2"><a href="pandas-1.html#cb1400-2" aria-hidden="true" tabindex="-1"></a>new_temp_cat <span class="op">=</span> temp_cat.rename_categories([<span class="st">'sejuk'</span>,<span class="st">'sederhana'</span>,<span class="st">'panas'</span>])</span>
<span id="cb1400-3"><a href="pandas-1.html#cb1400-3" aria-hidden="true" tabindex="-1"></a>new_temp_cat </span></code></pre></div>
<pre><code>#:&gt; ['sejuk', 'panas', 'sederhana', 'panas', 'panas', 'sejuk', 'sederhana', 'sederhana', 'panas']
#:&gt; Categories (3, object): ['sejuk' &lt; 'sederhana' &lt; 'panas']</code></pre>
<div class="sourceCode" id="cb1402"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1402-1"><a href="pandas-1.html#cb1402-1" aria-hidden="true" tabindex="-1"></a>temp_cat   <span class="co"># original category object categories not changed</span></span></code></pre></div>
<pre><code>#:&gt; ['low', 'high', 'medium', 'high', 'high', 'low', 'medium', 'medium', 'high']
#:&gt; Categories (3, object): ['low' &lt; 'medium' &lt; 'high']</code></pre>
<!-- jupyter_markdown, jupyter_meta = list(hidden = TRUE) -->
</div>
<div id="rename-inplace" class="section level4" number="13.9.3.2">
<h4>
<span class="header-section-number">13.9.3.2</span> Rename Inplace<a class="anchor" aria-label="anchor" href="#rename-inplace"><i class="fas fa-link"></i></a>
</h4>
<p>Observe the original categories had been changed using <strong>.rename()</strong></p>
<div class="sourceCode" id="cb1404"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1404-1"><a href="pandas-1.html#cb1404-1" aria-hidden="true" tabindex="-1"></a>temp_cat.categories <span class="op">=</span> [<span class="st">'sejuk'</span>,<span class="st">'sederhana'</span>,<span class="st">'panas'</span>]</span>
<span id="cb1404-2"><a href="pandas-1.html#cb1404-2" aria-hidden="true" tabindex="-1"></a>temp_cat   <span class="co"># original category object categories is changed</span></span></code></pre></div>
<pre><code>#:&gt; ['sejuk', 'panas', 'sederhana', 'panas', 'panas', 'sejuk', 'sederhana', 'sederhana', 'panas']
#:&gt; Categories (3, object): ['sejuk' &lt; 'sederhana' &lt; 'panas']</code></pre>
<!-- jupyter_markdown, jupyter_meta = list(heading_collapsed = TRUE) -->
</div>
</div>
<div id="adding-new-category" class="section level3" number="13.9.4">
<h3>
<span class="header-section-number">13.9.4</span> Adding New Category<a class="anchor" aria-label="anchor" href="#adding-new-category"><i class="fas fa-link"></i></a>
</h3>
<p>This return a new category object with added categories</p>
<div class="sourceCode" id="cb1406"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1406-1"><a href="pandas-1.html#cb1406-1" aria-hidden="true" tabindex="-1"></a>temp_cat_more <span class="op">=</span> temp_cat.add_categories([<span class="st">'susah'</span>,<span class="st">'senang'</span>])</span>
<span id="cb1406-2"><a href="pandas-1.html#cb1406-2" aria-hidden="true" tabindex="-1"></a>temp_cat_more</span></code></pre></div>
<pre><code>#:&gt; ['sejuk', 'panas', 'sederhana', 'panas', 'panas', 'sejuk', 'sederhana', 'sederhana', 'panas']
#:&gt; Categories (5, object): ['sejuk' &lt; 'sederhana' &lt; 'panas' &lt; 'susah' &lt; 'senang']</code></pre>
<!-- jupyter_markdown, jupyter_meta = list(heading_collapsed = TRUE) -->
</div>
<div id="removing-category" class="section level3" number="13.9.5">
<h3>
<span class="header-section-number">13.9.5</span> Removing Category<a class="anchor" aria-label="anchor" href="#removing-category"><i class="fas fa-link"></i></a>
</h3>
<p>This is <strong>not in place</strong>, hence return a new categorical object</p>
<!-- jupyter_markdown, jupyter_meta = list(hidden = TRUE) -->
<div id="remove-specific-categories" class="section level4" number="13.9.5.1">
<h4>
<span class="header-section-number">13.9.5.1</span> Remove Specific Categor(ies)<a class="anchor" aria-label="anchor" href="#remove-specific-categories"><i class="fas fa-link"></i></a>
</h4>
<p>Elements with its category removed will become <strong>NaN</strong></p>
<div class="sourceCode" id="cb1408"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1408-1"><a href="pandas-1.html#cb1408-1" aria-hidden="true" tabindex="-1"></a>temp <span class="op">=</span> [<span class="st">'low'</span>,<span class="st">'high'</span>,<span class="st">'medium'</span>,<span class="st">'high'</span>,<span class="st">'high'</span>,<span class="st">'low'</span>,<span class="st">'medium'</span>,<span class="st">'medium'</span>,<span class="st">'high'</span>]</span>
<span id="cb1408-2"><a href="pandas-1.html#cb1408-2" aria-hidden="true" tabindex="-1"></a>temp_cat <span class="op">=</span> pd.Categorical(temp)</span>
<span id="cb1408-3"><a href="pandas-1.html#cb1408-3" aria-hidden="true" tabindex="-1"></a>temp_cat_removed <span class="op">=</span> temp_cat.remove_categories(<span class="st">'low'</span>)</span>
<span id="cb1408-4"><a href="pandas-1.html#cb1408-4" aria-hidden="true" tabindex="-1"></a>temp_cat_removed</span></code></pre></div>
<pre><code>#:&gt; [NaN, 'high', 'medium', 'high', 'high', NaN, 'medium', 'medium', 'high']
#:&gt; Categories (2, object): ['high', 'medium']</code></pre>
<!-- jupyter_markdown, jupyter_meta = list(hidden = TRUE) -->
</div>
<div id="remove-unused-category" class="section level4" number="13.9.5.2">
<h4>
<span class="header-section-number">13.9.5.2</span> Remove Unused Category<a class="anchor" aria-label="anchor" href="#remove-unused-category"><i class="fas fa-link"></i></a>
</h4>
<p>Since categories removed are not used, there is no impact to the element</p>
<div class="sourceCode" id="cb1410"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1410-1"><a href="pandas-1.html#cb1410-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span> (temp_cat_more)</span></code></pre></div>
<pre><code>#:&gt; ['sejuk', 'panas', 'sederhana', 'panas', 'panas', 'sejuk', 'sederhana', 'sederhana', 'panas']
#:&gt; Categories (5, object): ['sejuk' &lt; 'sederhana' &lt; 'panas' &lt; 'susah' &lt; 'senang']</code></pre>
<div class="sourceCode" id="cb1412"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1412-1"><a href="pandas-1.html#cb1412-1" aria-hidden="true" tabindex="-1"></a>temp_cat_more.remove_unused_categories()</span></code></pre></div>
<pre><code>#:&gt; ['sejuk', 'panas', 'sederhana', 'panas', 'panas', 'sejuk', 'sederhana', 'sederhana', 'panas']
#:&gt; Categories (3, object): ['sejuk' &lt; 'sederhana' &lt; 'panas']</code></pre>
<!-- jupyter_markdown, jupyter_meta = list(heading_collapsed = TRUE) -->
</div>
</div>
<div id="add-and-remove-categories-in-one-step---set" class="section level3" number="13.9.6">
<h3>
<span class="header-section-number">13.9.6</span> Add and Remove Categories In One Step - Set()<a class="anchor" aria-label="anchor" href="#add-and-remove-categories-in-one-step---set"><i class="fas fa-link"></i></a>
</h3>
<div class="sourceCode" id="cb1414"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1414-1"><a href="pandas-1.html#cb1414-1" aria-hidden="true" tabindex="-1"></a>temp <span class="op">=</span> [<span class="st">'low'</span>,<span class="st">'high'</span>,<span class="st">'medium'</span>,<span class="st">'high'</span>,<span class="st">'high'</span>,<span class="st">'low'</span>,<span class="st">'medium'</span>,<span class="st">'medium'</span>,<span class="st">'high'</span>]</span>
<span id="cb1414-2"><a href="pandas-1.html#cb1414-2" aria-hidden="true" tabindex="-1"></a>temp_cat <span class="op">=</span> pd.Categorical(temp, ordered<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb1414-3"><a href="pandas-1.html#cb1414-3" aria-hidden="true" tabindex="-1"></a>temp_cat</span></code></pre></div>
<pre><code>#:&gt; ['low', 'high', 'medium', 'high', 'high', 'low', 'medium', 'medium', 'high']
#:&gt; Categories (3, object): ['high' &lt; 'low' &lt; 'medium']</code></pre>
<div class="sourceCode" id="cb1416"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1416-1"><a href="pandas-1.html#cb1416-1" aria-hidden="true" tabindex="-1"></a>temp_cat.set_categories([<span class="st">'low'</span>,<span class="st">'medium'</span>,<span class="st">'sederhana'</span>,<span class="st">'susah'</span>,<span class="st">'senang'</span>])</span></code></pre></div>
<pre><code>#:&gt; ['low', NaN, 'medium', NaN, NaN, 'low', 'medium', 'medium', NaN]
#:&gt; Categories (5, object): ['low' &lt; 'medium' &lt; 'sederhana' &lt; 'susah' &lt; 'senang']</code></pre>
<!-- jupyter_markdown, jupyter_meta = list(heading_collapsed = TRUE) -->
</div>
<div id="categorical-descriptive-analysis" class="section level3" number="13.9.7">
<h3>
<span class="header-section-number">13.9.7</span> Categorical Descriptive Analysis<a class="anchor" aria-label="anchor" href="#categorical-descriptive-analysis"><i class="fas fa-link"></i></a>
</h3>
<!-- jupyter_markdown, jupyter_meta = list(hidden = TRUE) -->
<div id="at-one-glance" class="section level4" number="13.9.7.1">
<h4>
<span class="header-section-number">13.9.7.1</span> At One Glance<a class="anchor" aria-label="anchor" href="#at-one-glance"><i class="fas fa-link"></i></a>
</h4>
<div class="sourceCode" id="cb1418"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1418-1"><a href="pandas-1.html#cb1418-1" aria-hidden="true" tabindex="-1"></a>temp_cat.describe()</span></code></pre></div>
<pre><code>#:&gt;             counts     freqs
#:&gt; categories                  
#:&gt; high             4  0.444444
#:&gt; low              2  0.222222
#:&gt; medium           3  0.333333</code></pre>
<!-- jupyter_markdown, jupyter_meta = list(hidden = TRUE) -->
</div>
<div id="frequency-count" class="section level4" number="13.9.7.2">
<h4>
<span class="header-section-number">13.9.7.2</span> Frequency Count<a class="anchor" aria-label="anchor" href="#frequency-count"><i class="fas fa-link"></i></a>
</h4>
<div class="sourceCode" id="cb1420"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1420-1"><a href="pandas-1.html#cb1420-1" aria-hidden="true" tabindex="-1"></a>temp_cat.value_counts()</span></code></pre></div>
<pre><code>#:&gt; high      4
#:&gt; low       2
#:&gt; medium    3
#:&gt; dtype: int64</code></pre>
<!-- jupyter_markdown, jupyter_meta = list(hidden = TRUE) -->
</div>
<div id="least-frequent-category-most-frequent-category-and-most-frequent-category" class="section level4" number="13.9.7.3">
<h4>
<span class="header-section-number">13.9.7.3</span> Least Frequent Category, Most Frequent Category, and Most Frequent Category<a class="anchor" aria-label="anchor" href="#least-frequent-category-most-frequent-category-and-most-frequent-category"><i class="fas fa-link"></i></a>
</h4>
<div class="sourceCode" id="cb1422"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1422-1"><a href="pandas-1.html#cb1422-1" aria-hidden="true" tabindex="-1"></a>( temp_cat.<span class="bu">min</span>(), temp_cat.<span class="bu">max</span>(), temp_cat.mode() )</span></code></pre></div>
<pre><code>#:&gt; ('high', 'medium', ['high']
#:&gt; Categories (3, object): ['high' &lt; 'low' &lt; 'medium'])</code></pre>
</div>
</div>
<div id="other-methods-1" class="section level3" number="13.9.8">
<h3>
<span class="header-section-number">13.9.8</span> Other Methods<a class="anchor" aria-label="anchor" href="#other-methods-1"><i class="fas fa-link"></i></a>
</h3>
<div id="get_values" class="section level4" number="13.9.8.1">
<h4>
<span class="header-section-number">13.9.8.1</span> .get_values()<a class="anchor" aria-label="anchor" href="#get_values"><i class="fas fa-link"></i></a>
</h4>
<p>Since actual value stored by categorical object are integer <strong>codes</strong>, get_values() function return values translated from *.codes** property</p>
<div class="sourceCode" id="cb1424"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1424-1"><a href="pandas-1.html#cb1424-1" aria-hidden="true" tabindex="-1"></a>temp_cat.get_values()  <span class="co">#array</span></span></code></pre></div>
</div>
</div>
</div>
<div id="dummies" class="section level2" number="13.10">
<h2>
<span class="header-section-number">13.10</span> Dummies<a class="anchor" aria-label="anchor" href="#dummies"><i class="fas fa-link"></i></a>
</h2>
<ul>
<li>
<strong>get_dummies</strong> creates columns for each categories</li>
<li>The underlying data can be string or pd.Categorical<br>
</li>
<li>It produces a <strong>new pd.DataFrame</strong>
</li>
</ul>
<div id="sample-data-13" class="section level3" number="13.10.1">
<h3>
<span class="header-section-number">13.10.1</span> Sample Data<a class="anchor" aria-label="anchor" href="#sample-data-13"><i class="fas fa-link"></i></a>
</h3>
<div class="sourceCode" id="cb1425"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1425-1"><a href="pandas-1.html#cb1425-1" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.DataFrame (</span>
<span id="cb1425-2"><a href="pandas-1.html#cb1425-2" aria-hidden="true" tabindex="-1"></a>    {<span class="st">'A'</span>: [<span class="st">'A1'</span>, <span class="st">'A2'</span>, <span class="st">'A3'</span>,<span class="st">'A1'</span>,<span class="st">'A3'</span>,<span class="st">'A1'</span>], </span>
<span id="cb1425-3"><a href="pandas-1.html#cb1425-3" aria-hidden="true" tabindex="-1"></a>     <span class="st">'B'</span>: [<span class="st">'B1'</span>,<span class="st">'B2'</span>,<span class="st">'B3'</span>,<span class="st">'B1'</span>,<span class="st">'B1'</span>,<span class="st">'B3'</span>],</span>
<span id="cb1425-4"><a href="pandas-1.html#cb1425-4" aria-hidden="true" tabindex="-1"></a>     <span class="st">'C'</span>: [<span class="st">'C1'</span>,<span class="st">'C2'</span>,<span class="st">'C3'</span>,<span class="st">'C1'</span>,np.nan,np.nan]})</span>
<span id="cb1425-5"><a href="pandas-1.html#cb1425-5" aria-hidden="true" tabindex="-1"></a>df</span></code></pre></div>
<pre><code>#:&gt;     A   B    C
#:&gt; 0  A1  B1   C1
#:&gt; 1  A2  B2   C2
#:&gt; 2  A3  B3   C3
#:&gt; 3  A1  B1   C1
#:&gt; 4  A3  B1  NaN
#:&gt; 5  A1  B3  NaN</code></pre>
</div>
<div id="dummies-on-array-like-data" class="section level3" number="13.10.2">
<h3>
<span class="header-section-number">13.10.2</span> Dummies on Array-Like Data<a class="anchor" aria-label="anchor" href="#dummies-on-array-like-data"><i class="fas fa-link"></i></a>
</h3>
<div class="sourceCode" id="cb1427"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1427-1"><a href="pandas-1.html#cb1427-1" aria-hidden="true" tabindex="-1"></a>pd.get_dummies(df.A)</span></code></pre></div>
<pre><code>#:&gt;    A1  A2  A3
#:&gt; 0   1   0   0
#:&gt; 1   0   1   0
#:&gt; 2   0   0   1
#:&gt; 3   1   0   0
#:&gt; 4   0   0   1
#:&gt; 5   1   0   0</code></pre>
</div>
<div id="dummies-on-dataframe-multiple-columns" class="section level3" number="13.10.3">
<h3>
<span class="header-section-number">13.10.3</span> Dummies on DataFrame (multiple columns)<a class="anchor" aria-label="anchor" href="#dummies-on-dataframe-multiple-columns"><i class="fas fa-link"></i></a>
</h3>
<div id="all-columns" class="section level4" number="13.10.3.1">
<h4>
<span class="header-section-number">13.10.3.1</span> All Columns<a class="anchor" aria-label="anchor" href="#all-columns"><i class="fas fa-link"></i></a>
</h4>
<div class="sourceCode" id="cb1429"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1429-1"><a href="pandas-1.html#cb1429-1" aria-hidden="true" tabindex="-1"></a>pd.get_dummies(df)</span></code></pre></div>
<pre><code>#:&gt;    A_A1  A_A2  A_A3  B_B1  B_B2  B_B3  C_C1  C_C2  C_C3
#:&gt; 0     1     0     0     1     0     0     1     0     0
#:&gt; 1     0     1     0     0     1     0     0     1     0
#:&gt; 2     0     0     1     0     0     1     0     0     1
#:&gt; 3     1     0     0     1     0     0     1     0     0
#:&gt; 4     0     0     1     1     0     0     0     0     0
#:&gt; 5     1     0     0     0     0     1     0     0     0</code></pre>
</div>
<div id="selected-columns" class="section level4" number="13.10.3.2">
<h4>
<span class="header-section-number">13.10.3.2</span> Selected Columns<a class="anchor" aria-label="anchor" href="#selected-columns"><i class="fas fa-link"></i></a>
</h4>
<div class="sourceCode" id="cb1431"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1431-1"><a href="pandas-1.html#cb1431-1" aria-hidden="true" tabindex="-1"></a>cols <span class="op">=</span> [<span class="st">'A'</span>,<span class="st">'B'</span>]</span>
<span id="cb1431-2"><a href="pandas-1.html#cb1431-2" aria-hidden="true" tabindex="-1"></a>pd.get_dummies(df[cols])</span></code></pre></div>
<pre><code>#:&gt;    A_A1  A_A2  A_A3  B_B1  B_B2  B_B3
#:&gt; 0     1     0     0     1     0     0
#:&gt; 1     0     1     0     0     1     0
#:&gt; 2     0     0     1     0     0     1
#:&gt; 3     1     0     0     1     0     0
#:&gt; 4     0     0     1     1     0     0
#:&gt; 5     1     0     0     0     0     1</code></pre>
</div>
</div>
<div id="dummies-with-na" class="section level3" number="13.10.4">
<h3>
<span class="header-section-number">13.10.4</span> Dummies with na<a class="anchor" aria-label="anchor" href="#dummies-with-na"><i class="fas fa-link"></i></a>
</h3>
<p>By default, nan values are ignored</p>
<div class="sourceCode" id="cb1433"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1433-1"><a href="pandas-1.html#cb1433-1" aria-hidden="true" tabindex="-1"></a>pd.get_dummies(df.C)</span></code></pre></div>
<pre><code>#:&gt;    C1  C2  C3
#:&gt; 0   1   0   0
#:&gt; 1   0   1   0
#:&gt; 2   0   0   1
#:&gt; 3   1   0   0
#:&gt; 4   0   0   0
#:&gt; 5   0   0   0</code></pre>
<p><strong>Make NaN as a dummy variable</strong></p>
<div class="sourceCode" id="cb1435"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1435-1"><a href="pandas-1.html#cb1435-1" aria-hidden="true" tabindex="-1"></a>pd.get_dummies(df.C,dummy_na<span class="op">=</span><span class="va">True</span>)</span></code></pre></div>
<pre><code>#:&gt;    C1  C2  C3  NaN
#:&gt; 0   1   0   0    0
#:&gt; 1   0   1   0    0
#:&gt; 2   0   0   1    0
#:&gt; 3   1   0   0    0
#:&gt; 4   0   0   0    1
#:&gt; 5   0   0   0    1</code></pre>
</div>
<div id="specify-prefixes" class="section level3" number="13.10.5">
<h3>
<span class="header-section-number">13.10.5</span> Specify Prefixes<a class="anchor" aria-label="anchor" href="#specify-prefixes"><i class="fas fa-link"></i></a>
</h3>
<div class="sourceCode" id="cb1437"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1437-1"><a href="pandas-1.html#cb1437-1" aria-hidden="true" tabindex="-1"></a>pd.get_dummies(df.A, prefix<span class="op">=</span><span class="st">'col'</span>)</span></code></pre></div>
<pre><code>#:&gt;    col_A1  col_A2  col_A3
#:&gt; 0       1       0       0
#:&gt; 1       0       1       0
#:&gt; 2       0       0       1
#:&gt; 3       1       0       0
#:&gt; 4       0       0       1
#:&gt; 5       1       0       0</code></pre>
<div class="sourceCode" id="cb1439"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1439-1"><a href="pandas-1.html#cb1439-1" aria-hidden="true" tabindex="-1"></a>pd.get_dummies(df[cols], prefix<span class="op">=</span>[<span class="st">'colA'</span>,<span class="st">'colB'</span>])</span></code></pre></div>
<pre><code>#:&gt;    colA_A1  colA_A2  colA_A3  colB_B1  colB_B2  colB_B3
#:&gt; 0        1        0        0        1        0        0
#:&gt; 1        0        1        0        0        1        0
#:&gt; 2        0        0        1        0        0        1
#:&gt; 3        1        0        0        1        0        0
#:&gt; 4        0        0        1        1        0        0
#:&gt; 5        1        0        0        0        0        1</code></pre>
</div>
<div id="dropping-first-column" class="section level3" number="13.10.6">
<h3>
<span class="header-section-number">13.10.6</span> Dropping First Column<a class="anchor" aria-label="anchor" href="#dropping-first-column"><i class="fas fa-link"></i></a>
</h3>
<ul>
<li>Dummies cause <strong>colinearity issue</strong> for regression as it has redundant column.<br>
</li>
<li>Dropping a column <strong>does not loose any information</strong> technically</li>
</ul>
<div class="sourceCode" id="cb1441"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1441-1"><a href="pandas-1.html#cb1441-1" aria-hidden="true" tabindex="-1"></a>pd.get_dummies(df[cols],drop_first<span class="op">=</span><span class="va">True</span>)</span></code></pre></div>
<pre><code>#:&gt;    A_A2  A_A3  B_B2  B_B3
#:&gt; 0     0     0     0     0
#:&gt; 1     1     0     1     0
#:&gt; 2     0     1     0     1
#:&gt; 3     0     0     0     0
#:&gt; 4     0     1     0     0
#:&gt; 5     0     0     0     1</code></pre>
</div>
</div>
<div id="dataframegroupby" class="section level2" number="13.11">
<h2>
<span class="header-section-number">13.11</span> DataFrameGroupBy<a class="anchor" aria-label="anchor" href="#dataframegroupby"><i class="fas fa-link"></i></a>
</h2>
<ul>
<li>
<code>groupby()</code> is a DataFrame method, it returns <strong><code>DataFrameGroupBy</code></strong> object<br>
</li>
<li>
<strong><code>DataFrameGroupBy</code></strong> object open doors for dataframe aggregation and summarization<br>
</li>
<li>
<strong><code>DataFrameGroupBy</code></strong> object is a <strong>very flexible abstraction</strong>. In many ways, you can simply treat <code>DataFrameGroup</code> as if it’s a <strong>collection of DataFrames</strong>, and it does the difficult things under the hood</li>
</ul>
<div id="sample-data-14" class="section level3" number="13.11.1">
<h3>
<span class="header-section-number">13.11.1</span> Sample Data<a class="anchor" aria-label="anchor" href="#sample-data-14"><i class="fas fa-link"></i></a>
</h3>
<div class="sourceCode" id="cb1443"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1443-1"><a href="pandas-1.html#cb1443-1" aria-hidden="true" tabindex="-1"></a>company <span class="op">=</span> pd.read_csv(<span class="st">'data/company.csv'</span>)</span>
<span id="cb1443-2"><a href="pandas-1.html#cb1443-2" aria-hidden="true" tabindex="-1"></a>company</span></code></pre></div>
<pre><code>#:&gt;    Company Department      Name  Age  Salary  Birthdate
#:&gt; 0       C1         D1      Yong   45   15000   1/1/1970
#:&gt; 1       C1         D1      Chew   35   12000   2/1/1980
#:&gt; 2       C1         D2       Lim   34    8000  2/19/1977
#:&gt; 3       C1         D3     Jessy   23    2500  3/15/1990
#:&gt; 4       C1         D3  Hoi Ming   55   25000  4/15/1987
#:&gt; ..     ...        ...       ...  ...     ...        ...
#:&gt; 13      C3         D3     Chang   32    7900  7/26/1973
#:&gt; 14      C3         D1       Ong   44   17500  8/21/1980
#:&gt; 15      C3         D2      Lily   41   15300  7/17/1990
#:&gt; 16      C3         D3     Sally   54   21000  7/19/1968
#:&gt; 17      C3         D3    Esther   37   13500  3/16/1969
#:&gt; 
#:&gt; [18 rows x 6 columns]</code></pre>
</div>
<div id="creating-groups" class="section level3" number="13.11.2">
<h3>
<span class="header-section-number">13.11.2</span> Creating Groups<a class="anchor" aria-label="anchor" href="#creating-groups"><i class="fas fa-link"></i></a>
</h3>
<p>Group can be created for <strong>single or multiple</strong> columns</p>
<div class="sourceCode" id="cb1445"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1445-1"><a href="pandas-1.html#cb1445-1" aria-hidden="true" tabindex="-1"></a>com_grp <span class="op">=</span> company.groupby(<span class="st">'Company'</span>) <span class="co">## Single Column</span></span>
<span id="cb1445-2"><a href="pandas-1.html#cb1445-2" aria-hidden="true" tabindex="-1"></a>com_dep_grp <span class="op">=</span> company.groupby([<span class="st">'Company'</span>,<span class="st">'Department'</span>])  <span class="co">## Multiple Column</span></span>
<span id="cb1445-3"><a href="pandas-1.html#cb1445-3" aria-hidden="true" tabindex="-1"></a><span class="bu">type</span>(com_dep_grp)</span></code></pre></div>
<pre><code>#:&gt; &lt;class 'pandas.core.groupby.generic.DataFrameGroupBy'&gt;</code></pre>
</div>
<div id="properties-1" class="section level3" number="13.11.3">
<h3>
<span class="header-section-number">13.11.3</span> Properties<a class="anchor" aria-label="anchor" href="#properties-1"><i class="fas fa-link"></i></a>
</h3>
<div id="number-of-groups" class="section level4" number="13.11.3.1">
<h4>
<span class="header-section-number">13.11.3.1</span> Number of Groups<a class="anchor" aria-label="anchor" href="#number-of-groups"><i class="fas fa-link"></i></a>
</h4>
<div class="sourceCode" id="cb1447"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1447-1"><a href="pandas-1.html#cb1447-1" aria-hidden="true" tabindex="-1"></a>com_dep_grp.ngroups</span></code></pre></div>
<pre><code>#:&gt; 9</code></pre>
</div>
<div id="row-numbers-associated-for-each-group" class="section level4" number="13.11.3.2">
<h4>
<span class="header-section-number">13.11.3.2</span> Row Numbers Associated For Each Group<a class="anchor" aria-label="anchor" href="#row-numbers-associated-for-each-group"><i class="fas fa-link"></i></a>
</h4>
<p><code>.groups</code> property is a dictionary containing group key (identifying the group) and its values (underlying row indexes for the group)</p>
<div class="sourceCode" id="cb1449"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1449-1"><a href="pandas-1.html#cb1449-1" aria-hidden="true" tabindex="-1"></a>gdict <span class="op">=</span> com_dep_grp.groups       <span class="co"># return Dictionary</span></span>
<span id="cb1449-2"><a href="pandas-1.html#cb1449-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>( gdict.keys()   , <span class="st">'</span><span class="ch">\n\n</span><span class="st">'</span>,  <span class="co"># group identifier</span></span>
<span id="cb1449-3"><a href="pandas-1.html#cb1449-3" aria-hidden="true" tabindex="-1"></a>       gdict.values()   )        <span class="co"># group row indexes</span></span></code></pre></div>
<pre><code>#:&gt; dict_keys([('C1', 'D1'), ('C1', 'D2'), ('C1', 'D3'), ('C2', 'D1'), ('C2', 'D2'), ('C2', 'D3'), ('C3', 'D1'), ('C3', 'D2'), ('C3', 'D3')]) 
#:&gt; 
#:&gt;  dict_values([Int64Index([0, 1], dtype='int64'), Int64Index([2], dtype='int64'), Int64Index([3, 4, 5], dtype='int64'), Int64Index([6], dtype='int64'), Int64Index([7, 8, 9], dtype='int64'), Int64Index([10, 11, 12], dtype='int64'), Int64Index([14], dtype='int64'), Int64Index([15], dtype='int64'), Int64Index([13, 16, 17], dtype='int64')])</code></pre>
</div>
</div>
<div id="methods-1" class="section level3" number="13.11.4">
<h3>
<span class="header-section-number">13.11.4</span> Methods<a class="anchor" aria-label="anchor" href="#methods-1"><i class="fas fa-link"></i></a>
</h3>
<div id="number-of-rows-in-each-group" class="section level4" number="13.11.4.1">
<h4>
<span class="header-section-number">13.11.4.1</span> Number of Rows In Each Group<a class="anchor" aria-label="anchor" href="#number-of-rows-in-each-group"><i class="fas fa-link"></i></a>
</h4>
<div class="sourceCode" id="cb1451"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1451-1"><a href="pandas-1.html#cb1451-1" aria-hidden="true" tabindex="-1"></a>com_dep_grp.size()  <span class="co"># return panda Series object</span></span></code></pre></div>
<pre><code>#:&gt; Company  Department
#:&gt; C1       D1            2
#:&gt;          D2            1
#:&gt;          D3            3
#:&gt; C2       D1            1
#:&gt;          D2            3
#:&gt;          D3            3
#:&gt; C3       D1            1
#:&gt;          D2            1
#:&gt;          D3            3
#:&gt; dtype: int64</code></pre>
</div>
</div>
<div id="retrieve-rows" class="section level3" number="13.11.5">
<h3>
<span class="header-section-number">13.11.5</span> Retrieve Rows<a class="anchor" aria-label="anchor" href="#retrieve-rows"><i class="fas fa-link"></i></a>
</h3>
<div id="retrieve-n-th-row-of-each-grou" class="section level4" number="13.11.5.1">
<h4>
<span class="header-section-number">13.11.5.1</span> Retrieve n-th Row Of Each Grou<a class="anchor" aria-label="anchor" href="#retrieve-n-th-row-of-each-grou"><i class="fas fa-link"></i></a>
</h4>
<ul>
<li>Row number is 0-based<br>
</li>
<li>For First row, use <code>.first()</code> or <code>nth(0)</code>
</li>
</ul>
<div class="sourceCode" id="cb1453"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1453-1"><a href="pandas-1.html#cb1453-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>( com_dep_grp.nth(<span class="dv">0</span>)  , <span class="st">'</span><span class="ch">\n</span><span class="st">'</span>,</span>
<span id="cb1453-2"><a href="pandas-1.html#cb1453-2" aria-hidden="true" tabindex="-1"></a>       com_dep_grp.first())</span></code></pre></div>
<pre><code>#:&gt;                        Name  Age  Salary   Birthdate
#:&gt; Company Department                                  
#:&gt; C1      D1             Yong   45   15000    1/1/1970
#:&gt;         D2              Lim   34    8000   2/19/1977
#:&gt;         D3            Jessy   23    2500   3/15/1990
#:&gt; C2      D1             Anne   18     400   7/15/1997
#:&gt;         D2          Deborah   30    8600   8/15/1984
#:&gt;         D3          Michael   38   17000  11/30/1997
#:&gt; C3      D1              Ong   44   17500   8/21/1980
#:&gt;         D2             Lily   41   15300   7/17/1990
#:&gt;         D3            Chang   32    7900   7/26/1973 
#:&gt;                         Name  Age  Salary   Birthdate
#:&gt; Company Department                                  
#:&gt; C1      D1             Yong   45   15000    1/1/1970
#:&gt;         D2              Lim   34    8000   2/19/1977
#:&gt;         D3            Jessy   23    2500   3/15/1990
#:&gt; C2      D1             Anne   18     400   7/15/1997
#:&gt;         D2          Deborah   30    8600   8/15/1984
#:&gt;         D3          Michael   38   17000  11/30/1997
#:&gt; C3      D1              Ong   44   17500   8/21/1980
#:&gt;         D2             Lily   41   15300   7/17/1990
#:&gt;         D3            Chang   32    7900   7/26/1973</code></pre>
<ul>
<li>For Last row, use <code>.last()</code> or <code>nth(</code>-1)`</li>
</ul>
<div class="sourceCode" id="cb1455"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1455-1"><a href="pandas-1.html#cb1455-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>( com_dep_grp.nth(<span class="op">-</span><span class="dv">1</span>)  , <span class="st">'</span><span class="ch">\n</span><span class="st">'</span>,</span>
<span id="cb1455-2"><a href="pandas-1.html#cb1455-2" aria-hidden="true" tabindex="-1"></a>       com_dep_grp.last())</span></code></pre></div>
<pre><code>#:&gt;                        Name  Age  Salary   Birthdate
#:&gt; Company Department                                  
#:&gt; C1      D1             Chew   35   12000    2/1/1980
#:&gt;         D2              Lim   34    8000   2/19/1977
#:&gt;         D3          Sui Wei   56    3000   6/15/1990
#:&gt; C2      D1             Anne   18     400   7/15/1997
#:&gt;         D2            Jimmy   46   14000  10/31/1988
#:&gt;         D3          Bernard   29    9800   12/1/1963
#:&gt; C3      D1              Ong   44   17500   8/21/1980
#:&gt;         D2             Lily   41   15300   7/17/1990
#:&gt;         D3           Esther   37   13500   3/16/1969 
#:&gt;                         Name  Age  Salary   Birthdate
#:&gt; Company Department                                  
#:&gt; C1      D1             Chew   35   12000    2/1/1980
#:&gt;         D2              Lim   34    8000   2/19/1977
#:&gt;         D3          Sui Wei   56    3000   6/15/1990
#:&gt; C2      D1             Anne   18     400   7/15/1997
#:&gt;         D2            Jimmy   46   14000  10/31/1988
#:&gt;         D3          Bernard   29    9800   12/1/1963
#:&gt; C3      D1              Ong   44   17500   8/21/1980
#:&gt;         D2             Lily   41   15300   7/17/1990
#:&gt;         D3           Esther   37   13500   3/16/1969</code></pre>
</div>
<div id="retrieve-n-rows-of-each-groups" class="section level4" number="13.11.5.2">
<h4>
<span class="header-section-number">13.11.5.2</span> Retrieve N Rows Of Each Groups<a class="anchor" aria-label="anchor" href="#retrieve-n-rows-of-each-groups"><i class="fas fa-link"></i></a>
</h4>
<p>Example below retrieve 2 rows from each group</p>
<div class="sourceCode" id="cb1457"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1457-1"><a href="pandas-1.html#cb1457-1" aria-hidden="true" tabindex="-1"></a>com_dep_grp.head(<span class="dv">2</span>)</span></code></pre></div>
<pre><code>#:&gt;    Company Department      Name  Age  Salary   Birthdate
#:&gt; 0       C1         D1      Yong   45   15000    1/1/1970
#:&gt; 1       C1         D1      Chew   35   12000    2/1/1980
#:&gt; 2       C1         D2       Lim   34    8000   2/19/1977
#:&gt; 3       C1         D3     Jessy   23    2500   3/15/1990
#:&gt; 4       C1         D3  Hoi Ming   55   25000   4/15/1987
#:&gt; ..     ...        ...       ...  ...     ...         ...
#:&gt; 11      C2         D3   Jeannie   30   12500  12/31/1980
#:&gt; 13      C3         D3     Chang   32    7900   7/26/1973
#:&gt; 14      C3         D1       Ong   44   17500   8/21/1980
#:&gt; 15      C3         D2      Lily   41   15300   7/17/1990
#:&gt; 16      C3         D3     Sally   54   21000   7/19/1968
#:&gt; 
#:&gt; [14 rows x 6 columns]</code></pre>
</div>
<div id="retrieve-all-rows-of-specific-group" class="section level4" number="13.11.5.3">
<h4>
<span class="header-section-number">13.11.5.3</span> Retrieve All Rows Of Specific Group<a class="anchor" aria-label="anchor" href="#retrieve-all-rows-of-specific-group"><i class="fas fa-link"></i></a>
</h4>
<p><code>get_group()</code> retrieves all rows within the specified group.</p>
<div class="sourceCode" id="cb1459"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1459-1"><a href="pandas-1.html#cb1459-1" aria-hidden="true" tabindex="-1"></a>com_dep_grp.get_group((<span class="st">'C1'</span>,<span class="st">'D3'</span>))</span></code></pre></div>
<pre><code>#:&gt;   Company Department      Name  Age  Salary  Birthdate
#:&gt; 3      C1         D3     Jessy   23    2500  3/15/1990
#:&gt; 4      C1         D3  Hoi Ming   55   25000  4/15/1987
#:&gt; 5      C1         D3   Sui Wei   56    3000  6/15/1990</code></pre>
</div>
</div>
<div id="single-statistic-per-group" class="section level3" number="13.11.6">
<h3>
<span class="header-section-number">13.11.6</span> Single Statistic Per Group<a class="anchor" aria-label="anchor" href="#single-statistic-per-group"><i class="fas fa-link"></i></a>
</h3>
<div id="count" class="section level4" number="13.11.6.1">
<h4>
<span class="header-section-number">13.11.6.1</span> <code>count()</code><a class="anchor" aria-label="anchor" href="#count"><i class="fas fa-link"></i></a>
</h4>
<p><code>count()</code> for valid data (not null) for each fields within the group</p>
<div class="sourceCode" id="cb1461"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1461-1"><a href="pandas-1.html#cb1461-1" aria-hidden="true" tabindex="-1"></a>com_dep_grp.count()  <span class="co"># return panda DataFrame object</span></span></code></pre></div>
<pre><code>#:&gt;                     Name  Age  Salary  Birthdate
#:&gt; Company Department                              
#:&gt; C1      D1             2    2       2          2
#:&gt;         D2             1    1       1          1
#:&gt;         D3             3    3       3          3
#:&gt; C2      D1             1    1       1          1
#:&gt;         D2             3    3       3          3
#:&gt;         D3             3    3       3          3
#:&gt; C3      D1             1    1       1          1
#:&gt;         D2             1    1       1          1
#:&gt;         D3             3    3       3          3</code></pre>
</div>
<div id="sum" class="section level4" number="13.11.6.2">
<h4>
<span class="header-section-number">13.11.6.2</span> <code>sum()</code><a class="anchor" aria-label="anchor" href="#sum"><i class="fas fa-link"></i></a>
</h4>
<p>This sums up all numeric columns for each group</p>
<div class="sourceCode" id="cb1463"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1463-1"><a href="pandas-1.html#cb1463-1" aria-hidden="true" tabindex="-1"></a>com_dep_grp.<span class="bu">sum</span>()</span></code></pre></div>
<pre><code>#:&gt;                     Age  Salary
#:&gt; Company Department             
#:&gt; C1      D1           80   27000
#:&gt;         D2           34    8000
#:&gt;         D3          134   30500
#:&gt; C2      D1           18     400
#:&gt;         D2          127   34600
#:&gt;         D3           97   39300
#:&gt; C3      D1           44   17500
#:&gt;         D2           41   15300
#:&gt;         D3          123   42400</code></pre>
<p>To sum specific columns of each group, use <code>['columnName']</code> to select the column.<br>
When single column is selected, output is a <strong>Series</strong></p>
<div class="sourceCode" id="cb1465"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1465-1"><a href="pandas-1.html#cb1465-1" aria-hidden="true" tabindex="-1"></a>com_dep_grp[<span class="st">'Age'</span>].<span class="bu">sum</span>()</span></code></pre></div>
<pre><code>#:&gt; Company  Department
#:&gt; C1       D1             80
#:&gt;          D2             34
#:&gt;          D3            134
#:&gt; C2       D1             18
#:&gt;          D2            127
#:&gt;          D3             97
#:&gt; C3       D1             44
#:&gt;          D2             41
#:&gt;          D3            123
#:&gt; Name: Age, dtype: int64</code></pre>
</div>
<div id="mean" class="section level4" number="13.11.6.3">
<h4>
<span class="header-section-number">13.11.6.3</span> <code>mean()</code><a class="anchor" aria-label="anchor" href="#mean"><i class="fas fa-link"></i></a>
</h4>
<p>This average up all numeric columns for each group</p>
<div class="sourceCode" id="cb1467"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1467-1"><a href="pandas-1.html#cb1467-1" aria-hidden="true" tabindex="-1"></a>com_dep_grp.mean()</span></code></pre></div>
<pre><code>#:&gt;                           Age        Salary
#:&gt; Company Department                         
#:&gt; C1      D1          40.000000  13500.000000
#:&gt;         D2          34.000000   8000.000000
#:&gt;         D3          44.666667  10166.666667
#:&gt; C2      D1          18.000000    400.000000
#:&gt;         D2          42.333333  11533.333333
#:&gt;         D3          32.333333  13100.000000
#:&gt; C3      D1          44.000000  17500.000000
#:&gt;         D2          41.000000  15300.000000
#:&gt;         D3          41.000000  14133.333333</code></pre>
<p>To average specific columns of each group, use <code>['columnName']</code> to select the column.<br>
When single column is selected, output is a <strong>Series</strong></p>
<div class="sourceCode" id="cb1469"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1469-1"><a href="pandas-1.html#cb1469-1" aria-hidden="true" tabindex="-1"></a>com_dep_grp[<span class="st">'Age'</span>].mean()</span></code></pre></div>
<pre><code>#:&gt; Company  Department
#:&gt; C1       D1            40.000000
#:&gt;          D2            34.000000
#:&gt;          D3            44.666667
#:&gt; C2       D1            18.000000
#:&gt;          D2            42.333333
#:&gt;          D3            32.333333
#:&gt; C3       D1            44.000000
#:&gt;          D2            41.000000
#:&gt;          D3            41.000000
#:&gt; Name: Age, dtype: float64</code></pre>
</div>
</div>
<div id="multi-statistic-per-group" class="section level3" number="13.11.7">
<h3>
<span class="header-section-number">13.11.7</span> Multi Statistic Per Group<a class="anchor" aria-label="anchor" href="#multi-statistic-per-group"><i class="fas fa-link"></i></a>
</h3>
<div id="single-function-to-columns" class="section level4" number="13.11.7.1">
<h4>
<span class="header-section-number">13.11.7.1</span> Single Function To Column(s)<a class="anchor" aria-label="anchor" href="#single-function-to-columns"><i class="fas fa-link"></i></a>
</h4>
<ul>
<li>Instructions for aggregation are provided in the form of a dictionary. Dictionary keys specifies the <strong>column name</strong>, and value as the <strong>function</strong> to run<br>
</li>
<li>Can use <strong><code>lambda x:</code></strong> to customize the calclulation on entire column (x)<br>
</li>
<li>Python built-in function names does can be supplied without wrapping in string <code>'function'</code>
</li>
</ul>
<div class="sourceCode" id="cb1471"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1471-1"><a href="pandas-1.html#cb1471-1" aria-hidden="true" tabindex="-1"></a>com_dep_grp.agg({</span>
<span id="cb1471-2"><a href="pandas-1.html#cb1471-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">'Age'</span>: <span class="bu">sum</span> ,                 <span class="co">## Total age of the group</span></span>
<span id="cb1471-3"><a href="pandas-1.html#cb1471-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">'Salary'</span>: <span class="kw">lambda</span> x: <span class="bu">max</span>(x),  <span class="co">## Highest salary of the group</span></span>
<span id="cb1471-4"><a href="pandas-1.html#cb1471-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">'Birthdate'</span>: <span class="st">'first'</span>         <span class="co">## First birthday of the group</span></span>
<span id="cb1471-5"><a href="pandas-1.html#cb1471-5" aria-hidden="true" tabindex="-1"></a>})</span></code></pre></div>
<pre><code>#:&gt;                     Age  Salary   Birthdate
#:&gt; Company Department                         
#:&gt; C1      D1           80   15000    1/1/1970
#:&gt;         D2           34    8000   2/19/1977
#:&gt;         D3          134   25000   3/15/1990
#:&gt; C2      D1           18     400   7/15/1997
#:&gt;         D2          127   14000   8/15/1984
#:&gt;         D3           97   17000  11/30/1997
#:&gt; C3      D1           44   17500   8/21/1980
#:&gt;         D2           41   15300   7/17/1990
#:&gt;         D3          123   21000   7/26/1973</code></pre>
</div>
<div id="multiple-function-to-columns" class="section level4" number="13.11.7.2">
<h4>
<span class="header-section-number">13.11.7.2</span> Multiple Function to Column(s)<a class="anchor" aria-label="anchor" href="#multiple-function-to-columns"><i class="fas fa-link"></i></a>
</h4>
<ul>
<li>Use list of function names to specify functions to be applied on a particular column<br>
</li>
<li>Notice that output columns are MultiIndex , indicating the name of funcitons appled on level 1</li>
</ul>
<div class="sourceCode" id="cb1473"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1473-1"><a href="pandas-1.html#cb1473-1" aria-hidden="true" tabindex="-1"></a>ag <span class="op">=</span> com_dep_grp.agg({</span>
<span id="cb1473-2"><a href="pandas-1.html#cb1473-2" aria-hidden="true" tabindex="-1"></a>      <span class="st">'Age'</span>: [<span class="st">'mean'</span>, <span class="bu">sum</span> ],       <span class="co">## Average age of the group</span></span>
<span id="cb1473-3"><a href="pandas-1.html#cb1473-3" aria-hidden="true" tabindex="-1"></a>      <span class="st">'Salary'</span>: <span class="kw">lambda</span> x: <span class="bu">max</span>(x),  <span class="co">## Highest salary of the group</span></span>
<span id="cb1473-4"><a href="pandas-1.html#cb1473-4" aria-hidden="true" tabindex="-1"></a>      <span class="st">'Birthdate'</span>: <span class="st">'first'</span>         <span class="co">## First birthday of the group</span></span>
<span id="cb1473-5"><a href="pandas-1.html#cb1473-5" aria-hidden="true" tabindex="-1"></a>    })</span>
<span id="cb1473-6"><a href="pandas-1.html#cb1473-6" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb1473-7"><a href="pandas-1.html#cb1473-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span> (ag, <span class="st">'</span><span class="ch">\n\n</span><span class="st">'</span>, ag.columns)</span></code></pre></div>
<pre><code>#:&gt;                           Age        Salary   Birthdate
#:&gt;                          mean  sum &lt;lambda&gt;       first
#:&gt; Company Department                                     
#:&gt; C1      D1          40.000000   80    15000    1/1/1970
#:&gt;         D2          34.000000   34     8000   2/19/1977
#:&gt;         D3          44.666667  134    25000   3/15/1990
#:&gt; C2      D1          18.000000   18      400   7/15/1997
#:&gt;         D2          42.333333  127    14000   8/15/1984
#:&gt;         D3          32.333333   97    17000  11/30/1997
#:&gt; C3      D1          44.000000   44    17500   8/21/1980
#:&gt;         D2          41.000000   41    15300   7/17/1990
#:&gt;         D3          41.000000  123    21000   7/26/1973 
#:&gt; 
#:&gt;  MultiIndex([(      'Age',     'mean'),
#:&gt;             (      'Age',      'sum'),
#:&gt;             (   'Salary', '&lt;lambda&gt;'),
#:&gt;             ('Birthdate',    'first')],
#:&gt;            )</code></pre>
</div>
<div id="column-relabling" class="section level4" number="13.11.7.3">
<h4>
<span class="header-section-number">13.11.7.3</span> Column Relabling<a class="anchor" aria-label="anchor" href="#column-relabling"><i class="fas fa-link"></i></a>
</h4>
<p>Introduced in Pandas 0.25.0, groupby aggregation with relabelling is supported using “named aggregation” with <strong>simple tuples</strong></p>
<div class="sourceCode" id="cb1475"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1475-1"><a href="pandas-1.html#cb1475-1" aria-hidden="true" tabindex="-1"></a>com_dep_grp.agg(</span>
<span id="cb1475-2"><a href="pandas-1.html#cb1475-2" aria-hidden="true" tabindex="-1"></a>  max_age     <span class="op">=</span> (<span class="st">'Age'</span>, <span class="bu">max</span>),</span>
<span id="cb1475-3"><a href="pandas-1.html#cb1475-3" aria-hidden="true" tabindex="-1"></a>  salary_m100 <span class="op">=</span> (<span class="st">'Salary'</span>,  <span class="kw">lambda</span> x: <span class="bu">max</span>(x)<span class="op">+</span><span class="dv">100</span>),  </span>
<span id="cb1475-4"><a href="pandas-1.html#cb1475-4" aria-hidden="true" tabindex="-1"></a>  first_bd    <span class="op">=</span> (<span class="st">'Birthdate'</span>, <span class="st">'first'</span>)</span>
<span id="cb1475-5"><a href="pandas-1.html#cb1475-5" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<pre><code>#:&gt;                     max_age  salary_m100    first_bd
#:&gt; Company Department                                  
#:&gt; C1      D1               45        15100    1/1/1970
#:&gt;         D2               34         8100   2/19/1977
#:&gt;         D3               56        25100   3/15/1990
#:&gt; C2      D1               18          500   7/15/1997
#:&gt;         D2               51        14100   8/15/1984
#:&gt;         D3               38        17100  11/30/1997
#:&gt; C3      D1               44        17600   8/21/1980
#:&gt;         D2               41        15400   7/17/1990
#:&gt;         D3               54        21100   7/26/1973</code></pre>
</div>
</div>
<div id="iteration-1" class="section level3" number="13.11.8">
<h3>
<span class="header-section-number">13.11.8</span> Iteration<a class="anchor" aria-label="anchor" href="#iteration-1"><i class="fas fa-link"></i></a>
</h3>
<p><strong>DataFrameGroupBy</strong> object can be thought as a collection of named groups</p>
<div class="sourceCode" id="cb1477"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1477-1"><a href="pandas-1.html#cb1477-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> print_groups (g):</span>
<span id="cb1477-2"><a href="pandas-1.html#cb1477-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> name,group <span class="kw">in</span> g:</span>
<span id="cb1477-3"><a href="pandas-1.html#cb1477-3" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span> (name)</span>
<span id="cb1477-4"><a href="pandas-1.html#cb1477-4" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span> (group[:<span class="dv">2</span>])</span>
<span id="cb1477-5"><a href="pandas-1.html#cb1477-5" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb1477-6"><a href="pandas-1.html#cb1477-6" aria-hidden="true" tabindex="-1"></a>print_groups (com_grp)</span></code></pre></div>
<pre><code>#:&gt; C1
#:&gt;   Company Department  Name  Age  Salary Birthdate
#:&gt; 0      C1         D1  Yong   45   15000  1/1/1970
#:&gt; 1      C1         D1  Chew   35   12000  2/1/1980
#:&gt; C2
#:&gt;   Company Department     Name  Age  Salary  Birthdate
#:&gt; 6      C2         D1     Anne   18     400  7/15/1997
#:&gt; 7      C2         D2  Deborah   30    8600  8/15/1984
#:&gt; C3
#:&gt;    Company Department   Name  Age  Salary  Birthdate
#:&gt; 13      C3         D3  Chang   32    7900  7/26/1973
#:&gt; 14      C3         D1    Ong   44   17500  8/21/1980</code></pre>
<div class="sourceCode" id="cb1479"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1479-1"><a href="pandas-1.html#cb1479-1" aria-hidden="true" tabindex="-1"></a>com_grp</span></code></pre></div>
<pre><code>#:&gt; &lt;pandas.core.groupby.generic.DataFrameGroupBy object at 0x7f307226b290&gt;</code></pre>
</div>
<div id="transform" class="section level3" number="13.11.9">
<h3>
<span class="header-section-number">13.11.9</span> Transform<a class="anchor" aria-label="anchor" href="#transform"><i class="fas fa-link"></i></a>
</h3>
<ul>
<li>Transform is an operation used combined with <strong>DataFrameGroupBy</strong> object<br>
</li>
<li>
<strong>transform()</strong> return a <strong>new DataFrame object</strong>
</li>
</ul>
<div class="sourceCode" id="cb1481"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1481-1"><a href="pandas-1.html#cb1481-1" aria-hidden="true" tabindex="-1"></a>grp <span class="op">=</span> company.groupby(<span class="st">'Company'</span>)</span>
<span id="cb1481-2"><a href="pandas-1.html#cb1481-2" aria-hidden="true" tabindex="-1"></a>grp.size()</span></code></pre></div>
<pre><code>#:&gt; Company
#:&gt; C1    6
#:&gt; C2    7
#:&gt; C3    5
#:&gt; dtype: int64</code></pre>
<p><strong>transform()</strong> perform a function to a group, and <strong>expands and replicate</strong> it to multiple rows according to original DataFrame</p>
<div class="sourceCode" id="cb1483"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1483-1"><a href="pandas-1.html#cb1483-1" aria-hidden="true" tabindex="-1"></a>grp[[<span class="st">'Age'</span>,<span class="st">'Salary'</span>]].transform(<span class="st">'sum'</span>)</span></code></pre></div>
<pre><code>#:&gt;     Age  Salary
#:&gt; 0   248   65500
#:&gt; 1   248   65500
#:&gt; 2   248   65500
#:&gt; 3   248   65500
#:&gt; 4   248   65500
#:&gt; ..  ...     ...
#:&gt; 13  208   75200
#:&gt; 14  208   75200
#:&gt; 15  208   75200
#:&gt; 16  208   75200
#:&gt; 17  208   75200
#:&gt; 
#:&gt; [18 rows x 2 columns]</code></pre>
<div class="sourceCode" id="cb1485"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1485-1"><a href="pandas-1.html#cb1485-1" aria-hidden="true" tabindex="-1"></a>grp.transform( <span class="kw">lambda</span> x:x<span class="op">+</span><span class="dv">10</span> )</span></code></pre></div>
<pre><code>#:&gt;     Age  Salary
#:&gt; 0    55   15010
#:&gt; 1    45   12010
#:&gt; 2    44    8010
#:&gt; 3    33    2510
#:&gt; 4    65   25010
#:&gt; ..  ...     ...
#:&gt; 13   42    7910
#:&gt; 14   54   17510
#:&gt; 15   51   15310
#:&gt; 16   64   21010
#:&gt; 17   47   13510
#:&gt; 
#:&gt; [18 rows x 2 columns]</code></pre>
</div>
</div>
<div id="fundamental-analysis" class="section level2" number="13.12">
<h2>
<span class="header-section-number">13.12</span> Fundamental Analysis<a class="anchor" aria-label="anchor" href="#fundamental-analysis"><i class="fas fa-link"></i></a>
</h2>
</div>
<div id="missing-data" class="section level2" number="13.13">
<h2>
<span class="header-section-number">13.13</span> Missing Data<a class="anchor" aria-label="anchor" href="#missing-data"><i class="fas fa-link"></i></a>
</h2>
<div id="what-is-considered-missing-data" class="section level3" number="13.13.1">
<h3>
<span class="header-section-number">13.13.1</span> What Is Considered Missing Data ?<a class="anchor" aria-label="anchor" href="#what-is-considered-missing-data"><i class="fas fa-link"></i></a>
</h3>
</div>
<div id="sample-data-15" class="section level3" number="13.13.2">
<h3>
<span class="header-section-number">13.13.2</span> Sample Data<a class="anchor" aria-label="anchor" href="#sample-data-15"><i class="fas fa-link"></i></a>
</h3>
<div class="sourceCode" id="cb1487"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1487-1"><a href="pandas-1.html#cb1487-1" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.DataFrame( np.random.randn(<span class="dv">5</span>, <span class="dv">3</span>), </span>
<span id="cb1487-2"><a href="pandas-1.html#cb1487-2" aria-hidden="true" tabindex="-1"></a>                   index   <span class="op">=</span>[<span class="st">'a'</span>, <span class="st">'c'</span>, <span class="st">'e'</span>, <span class="st">'f'</span>, <span class="st">'h'</span>],</span>
<span id="cb1487-3"><a href="pandas-1.html#cb1487-3" aria-hidden="true" tabindex="-1"></a>                   columns <span class="op">=</span>[<span class="st">'one'</span>, <span class="st">'two'</span>, <span class="st">'three'</span>])</span>
<span id="cb1487-4"><a href="pandas-1.html#cb1487-4" aria-hidden="true" tabindex="-1"></a>df[<span class="st">'four'</span>] <span class="op">=</span> <span class="st">'bar'</span></span>
<span id="cb1487-5"><a href="pandas-1.html#cb1487-5" aria-hidden="true" tabindex="-1"></a>df[<span class="st">'five'</span>] <span class="op">=</span> df[<span class="st">'one'</span>] <span class="op">&gt;</span> <span class="dv">0</span></span>
<span id="cb1487-6"><a href="pandas-1.html#cb1487-6" aria-hidden="true" tabindex="-1"></a><span class="co">#df</span></span>
<span id="cb1487-7"><a href="pandas-1.html#cb1487-7" aria-hidden="true" tabindex="-1"></a>df.reindex([<span class="st">'a'</span>, <span class="st">'b'</span>, <span class="st">'c'</span>, <span class="st">'d'</span>, <span class="st">'e'</span>, <span class="st">'f'</span>, <span class="st">'g'</span>, <span class="st">'h'</span>])</span></code></pre></div>
<pre><code>#:&gt;         one       two     three four   five
#:&gt; a -0.155909 -0.501790  0.235569  bar  False
#:&gt; b       NaN       NaN       NaN  NaN    NaN
#:&gt; c -1.763605 -1.095862 -1.087766  bar  False
#:&gt; d       NaN       NaN       NaN  NaN    NaN
#:&gt; e -0.305170 -0.473748 -0.200595  bar  False
#:&gt; f  0.355197  0.689518  0.410590  bar   True
#:&gt; g       NaN       NaN       NaN  NaN    NaN
#:&gt; h -0.564978  0.599391 -0.162936  bar  False</code></pre>
<p><strong>How Missing Data For Each Column ?</strong></p>
<div class="sourceCode" id="cb1489"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1489-1"><a href="pandas-1.html#cb1489-1" aria-hidden="true" tabindex="-1"></a>df.count()</span></code></pre></div>
<pre><code>#:&gt; one      5
#:&gt; two      5
#:&gt; three    5
#:&gt; four     5
#:&gt; five     5
#:&gt; dtype: int64</code></pre>
<div class="sourceCode" id="cb1491"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1491-1"><a href="pandas-1.html#cb1491-1" aria-hidden="true" tabindex="-1"></a><span class="bu">len</span>(df.index) <span class="op">-</span> df.count()</span></code></pre></div>
<pre><code>#:&gt; one      0
#:&gt; two      0
#:&gt; three    0
#:&gt; four     0
#:&gt; five     0
#:&gt; dtype: int64</code></pre>
<div class="sourceCode" id="cb1493"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1493-1"><a href="pandas-1.html#cb1493-1" aria-hidden="true" tabindex="-1"></a>df.isnull()</span></code></pre></div>
<pre><code>#:&gt;      one    two  three   four   five
#:&gt; a  False  False  False  False  False
#:&gt; c  False  False  False  False  False
#:&gt; e  False  False  False  False  False
#:&gt; f  False  False  False  False  False
#:&gt; h  False  False  False  False  False</code></pre>
<div class="sourceCode" id="cb1495"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1495-1"><a href="pandas-1.html#cb1495-1" aria-hidden="true" tabindex="-1"></a>df.describe()</span></code></pre></div>
<pre><code>#:&gt;             one       two     three
#:&gt; count  5.000000  5.000000  5.000000
#:&gt; mean  -0.486893 -0.156498 -0.161028
#:&gt; std    0.788635  0.772882  0.579752
#:&gt; min   -1.763605 -1.095862 -1.087766
#:&gt; 25%   -0.564978 -0.501790 -0.200595
#:&gt; 50%   -0.305170 -0.473748 -0.162936
#:&gt; 75%   -0.155909  0.599391  0.235569
#:&gt; max    0.355197  0.689518  0.410590</code></pre>

</div>
</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="numpy-1.html"><span class="header-section-number">12</span> numpy</a></div>
<div class="next"><a href="matplotlib-1.html"><span class="header-section-number">14</span> matplotlib</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#pandas-1"><span class="header-section-number">13</span> pandas</a></li>
<li><a class="nav-link" href="#modules-import"><span class="header-section-number">13.1</span> Modules Import</a></li>
<li>
<a class="nav-link" href="#pandas-objects"><span class="header-section-number">13.2</span> Pandas Objects</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#pandas-data-types"><span class="header-section-number">13.2.1</span> Pandas Data Types</a></li>
<li><a class="nav-link" href="#pandas-data-structure"><span class="header-section-number">13.2.2</span> Pandas Data Structure</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#class-method-4"><span class="header-section-number">13.3</span> Class Method</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#creating-timestamp-objects"><span class="header-section-number">13.3.1</span> Creating Timestamp Objects</a></li>
<li><a class="nav-link" href="#generate-timestamp-sequence"><span class="header-section-number">13.3.2</span> Generate Timestamp Sequence</a></li>
<li><a class="nav-link" href="#frequency-table-crosstab"><span class="header-section-number">13.3.3</span> Frequency Table (crosstab)</a></li>
<li><a class="nav-link" href="#concatination"><span class="header-section-number">13.3.4</span> Concatination</a></li>
<li><a class="nav-link" href="#external-data"><span class="header-section-number">13.3.5</span> External Data</a></li>
<li><a class="nav-link" href="#inspection"><span class="header-section-number">13.3.6</span> Inspection</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#class-timestamp"><span class="header-section-number">13.4</span> class: Timestamp</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#constructor-8"><span class="header-section-number">13.4.1</span> Constructor</a></li>
<li><a class="nav-link" href="#attributes-4"><span class="header-section-number">13.4.2</span> Attributes</a></li>
<li><a class="nav-link" href="#instance-methods-1"><span class="header-section-number">13.4.3</span> Instance Methods</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#class-datetimeindex"><span class="header-section-number">13.5</span> class: DateTimeIndex</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#creating-1"><span class="header-section-number">13.5.1</span> Creating</a></li>
<li><a class="nav-link" href="#instance-method-4"><span class="header-section-number">13.5.2</span> Instance Method</a></li>
<li><a class="nav-link" href="#attributes-5"><span class="header-section-number">13.5.3</span> Attributes</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#class-series"><span class="header-section-number">13.6</span> class: Series</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#constructor-9"><span class="header-section-number">13.6.1</span> Constructor</a></li>
<li><a class="nav-link" href="#accessing-series"><span class="header-section-number">13.6.2</span> Accessing Series</a></li>
<li><a class="nav-link" href="#updating-series"><span class="header-section-number">13.6.3</span> Updating Series</a></li>
<li><a class="nav-link" href="#series-attributes"><span class="header-section-number">13.6.4</span> Series Attributes</a></li>
<li><a class="nav-link" href="#instance-methods-2"><span class="header-section-number">13.6.5</span> Instance Methods</a></li>
<li><a class="nav-link" href="#series-operators"><span class="header-section-number">13.6.6</span> Series Operators</a></li>
<li><a class="nav-link" href="#series-.str-accesor"><span class="header-section-number">13.6.7</span> Series .str Accesor</a></li>
<li><a class="nav-link" href="#series-.dt-accessor"><span class="header-section-number">13.6.8</span> Series .dt Accessor</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#class-dataframe"><span class="header-section-number">13.7</span> class: DataFrame</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#constructor-10"><span class="header-section-number">13.7.1</span> Constructor</a></li>
<li><a class="nav-link" href="#operator-2"><span class="header-section-number">13.7.2</span> Operator</a></li>
<li><a class="nav-link" href="#attributes-6"><span class="header-section-number">13.7.3</span> Attributes</a></li>
<li><a class="nav-link" href="#index-manipulation-1"><span class="header-section-number">13.7.4</span> Index Manipulation</a></li>
<li><a class="nav-link" href="#subsetting-columns"><span class="header-section-number">13.7.5</span> Subsetting Columns</a></li>
<li><a class="nav-link" href="#column-manipulation-1"><span class="header-section-number">13.7.6</span> Column Manipulation</a></li>
<li><a class="nav-link" href="#subsetting-rows"><span class="header-section-number">13.7.7</span> Subsetting Rows</a></li>
<li><a class="nav-link" href="#row-manipulation"><span class="header-section-number">13.7.8</span> Row Manipulation</a></li>
<li><a class="nav-link" href="#slicing"><span class="header-section-number">13.7.9</span> Slicing</a></li>
<li><a class="nav-link" href="#chained-indexing"><span class="header-section-number">13.7.10</span> Chained Indexing</a></li>
<li><a class="nav-link" href="#cell-value-replacement"><span class="header-section-number">13.7.11</span> Cell Value Replacement</a></li>
<li><a class="nav-link" href="#iteration"><span class="header-section-number">13.7.12</span> Iteration</a></li>
<li><a class="nav-link" href="#data-structure"><span class="header-section-number">13.7.13</span> Data Structure</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#class-multiindex"><span class="header-section-number">13.8</span> class: MultiIndex</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#the-data-2"><span class="header-section-number">13.8.1</span> The Data</a></li>
<li><a class="nav-link" href="#creating-multiindex-object"><span class="header-section-number">13.8.2</span> Creating MultiIndex Object</a></li>
<li><a class="nav-link" href="#multiindex-object"><span class="header-section-number">13.8.3</span> MultiIndex Object</a></li>
<li><a class="nav-link" href="#selecting-columns"><span class="header-section-number">13.8.4</span> Selecting Column(s)</a></li>
<li><a class="nav-link" href="#headers-ordering"><span class="header-section-number">13.8.5</span> Headers Ordering</a></li>
<li><a class="nav-link" href="#stacking-and-unstacking"><span class="header-section-number">13.8.6</span> Stacking and Unstacking</a></li>
<li><a class="nav-link" href="#exploratory-analysis"><span class="header-section-number">13.8.7</span> Exploratory Analysis</a></li>
<li><a class="nav-link" href="#plotting"><span class="header-section-number">13.8.8</span> Plotting</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#class-categories"><span class="header-section-number">13.9</span> class: Categories</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#creating-2"><span class="header-section-number">13.9.1</span> Creating</a></li>
<li><a class="nav-link" href="#properties"><span class="header-section-number">13.9.2</span> Properties</a></li>
<li><a class="nav-link" href="#rename-category"><span class="header-section-number">13.9.3</span> Rename Category</a></li>
<li><a class="nav-link" href="#adding-new-category"><span class="header-section-number">13.9.4</span> Adding New Category</a></li>
<li><a class="nav-link" href="#removing-category"><span class="header-section-number">13.9.5</span> Removing Category</a></li>
<li><a class="nav-link" href="#add-and-remove-categories-in-one-step---set"><span class="header-section-number">13.9.6</span> Add and Remove Categories In One Step - Set()</a></li>
<li><a class="nav-link" href="#categorical-descriptive-analysis"><span class="header-section-number">13.9.7</span> Categorical Descriptive Analysis</a></li>
<li><a class="nav-link" href="#other-methods-1"><span class="header-section-number">13.9.8</span> Other Methods</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#dummies"><span class="header-section-number">13.10</span> Dummies</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#sample-data-13"><span class="header-section-number">13.10.1</span> Sample Data</a></li>
<li><a class="nav-link" href="#dummies-on-array-like-data"><span class="header-section-number">13.10.2</span> Dummies on Array-Like Data</a></li>
<li><a class="nav-link" href="#dummies-on-dataframe-multiple-columns"><span class="header-section-number">13.10.3</span> Dummies on DataFrame (multiple columns)</a></li>
<li><a class="nav-link" href="#dummies-with-na"><span class="header-section-number">13.10.4</span> Dummies with na</a></li>
<li><a class="nav-link" href="#specify-prefixes"><span class="header-section-number">13.10.5</span> Specify Prefixes</a></li>
<li><a class="nav-link" href="#dropping-first-column"><span class="header-section-number">13.10.6</span> Dropping First Column</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#dataframegroupby"><span class="header-section-number">13.11</span> DataFrameGroupBy</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#sample-data-14"><span class="header-section-number">13.11.1</span> Sample Data</a></li>
<li><a class="nav-link" href="#creating-groups"><span class="header-section-number">13.11.2</span> Creating Groups</a></li>
<li><a class="nav-link" href="#properties-1"><span class="header-section-number">13.11.3</span> Properties</a></li>
<li><a class="nav-link" href="#methods-1"><span class="header-section-number">13.11.4</span> Methods</a></li>
<li><a class="nav-link" href="#retrieve-rows"><span class="header-section-number">13.11.5</span> Retrieve Rows</a></li>
<li><a class="nav-link" href="#single-statistic-per-group"><span class="header-section-number">13.11.6</span> Single Statistic Per Group</a></li>
<li><a class="nav-link" href="#multi-statistic-per-group"><span class="header-section-number">13.11.7</span> Multi Statistic Per Group</a></li>
<li><a class="nav-link" href="#iteration-1"><span class="header-section-number">13.11.8</span> Iteration</a></li>
<li><a class="nav-link" href="#transform"><span class="header-section-number">13.11.9</span> Transform</a></li>
</ul>
</li>
<li><a class="nav-link" href="#fundamental-analysis"><span class="header-section-number">13.12</span> Fundamental Analysis</a></li>
<li>
<a class="nav-link" href="#missing-data"><span class="header-section-number">13.13</span> Missing Data</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#what-is-considered-missing-data"><span class="header-section-number">13.13.1</span> What Is Considered Missing Data ?</a></li>
<li><a class="nav-link" href="#sample-data-15"><span class="header-section-number">13.13.2</span> Sample Data</a></li>
</ul>
</li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com//f0nzie/yongks-python-rmarkdown-book/blob/master/03-pandas.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com//f0nzie/yongks-python-rmarkdown-book/edit/master/03-pandas.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Python Bookdown</strong>" was written by Yong Keh Soon. It was last built on 2020-12-27.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>
</html>
